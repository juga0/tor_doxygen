<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tor: socks_request_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tor
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">socks_request_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="or_8h_source.html">or.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a1de73c21d330af839598d7cadc2d47d4"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsocks__request__t.html#a1de73c21d330af839598d7cadc2d47d4">socks_version</a></td></tr>
<tr class="separator:a1de73c21d330af839598d7cadc2d47d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac853d80a4be84d57cd987b407436a090"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsocks__request__t.html#ac853d80a4be84d57cd987b407436a090">auth_type</a></td></tr>
<tr class="separator:ac853d80a4be84d57cd987b407436a090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a5aaa930940857f68f245eeb89506b5"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsocks__request__t.html#a1a5aaa930940857f68f245eeb89506b5">command</a></td></tr>
<tr class="separator:a1a5aaa930940857f68f245eeb89506b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb11d1e9da4009a7f0560a4440826553"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsocks__request__t.html#acb11d1e9da4009a7f0560a4440826553">listener_type</a></td></tr>
<tr class="separator:acb11d1e9da4009a7f0560a4440826553"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83f66cc89f3c46b79899734d8ef60b50"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsocks__request__t.html#a83f66cc89f3c46b79899734d8ef60b50">replylen</a></td></tr>
<tr class="separator:a83f66cc89f3c46b79899734d8ef60b50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb1f50844030ba373dc9f120ec3d6246"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsocks__request__t.html#acb1f50844030ba373dc9f120ec3d6246">reply</a> [MAX_SOCKS_REPLY_LEN]</td></tr>
<tr class="separator:acb1f50844030ba373dc9f120ec3d6246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade2b0ecb4d3fbf59dfd78ca32852cc47"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsocks__request__t.html#ade2b0ecb4d3fbf59dfd78ca32852cc47">address</a> [MAX_SOCKS_ADDR_LEN]</td></tr>
<tr class="separator:ade2b0ecb4d3fbf59dfd78ca32852cc47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e0798404bf2cf5dabb84c5ba9a4f236"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsocks__request__t.html#a8e0798404bf2cf5dabb84c5ba9a4f236">port</a></td></tr>
<tr class="separator:a8e0798404bf2cf5dabb84c5ba9a4f236"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a579cd50302d561bacf6fd5cd1965a2c4"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsocks__request__t.html#a579cd50302d561bacf6fd5cd1965a2c4">has_finished</a>: 1</td></tr>
<tr class="separator:a579cd50302d561bacf6fd5cd1965a2c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6efdbeb56e703860bfbdbcb4f650421"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsocks__request__t.html#ab6efdbeb56e703860bfbdbcb4f650421">got_auth</a>: 1</td></tr>
<tr class="separator:ab6efdbeb56e703860bfbdbcb4f650421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa739f15773ce1129be899f4838379cce"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsocks__request__t.html#aa739f15773ce1129be899f4838379cce">socks_prefer_no_auth</a>: 1</td></tr>
<tr class="separator:aa739f15773ce1129be899f4838379cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43646ffff16001625002e9bb6a983edd"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsocks__request__t.html#a43646ffff16001625002e9bb6a983edd">usernamelen</a></td></tr>
<tr class="separator:a43646ffff16001625002e9bb6a983edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e99c1423de33fbf0b0f0164342b0105"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsocks__request__t.html#a4e99c1423de33fbf0b0f0164342b0105">passwordlen</a></td></tr>
<tr class="separator:a4e99c1423de33fbf0b0f0164342b0105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b20c006bd90a09e1465fb668700e81d"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsocks__request__t.html#a9b20c006bd90a09e1465fb668700e81d">username</a></td></tr>
<tr class="separator:a9b20c006bd90a09e1465fb668700e81d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59460a3ff2c12443d1022e5cc0fba85c"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsocks__request__t.html#a59460a3ff2c12443d1022e5cc0fba85c">password</a></td></tr>
<tr class="separator:a59460a3ff2c12443d1022e5cc0fba85c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>State of a SOCKS request from a user to an OP. Also used to encode other information for non-socks user request (such as those on TransPort and DNSPort) </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="ade2b0ecb4d3fbf59dfd78ca32852cc47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade2b0ecb4d3fbf59dfd78ca32852cc47">&#9670;&nbsp;</a></span>address</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char address[MAX_SOCKS_ADDR_LEN]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>What address did the client ask to connect to/resolve? </p>

</div>
</div>
<a id="ac853d80a4be84d57cd987b407436a090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac853d80a4be84d57cd987b407436a090">&#9670;&nbsp;</a></span>auth_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t auth_type</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If using socks5 authentication, which authentication type did we negotiate? currently we support 0 (no authentication) and 2 (username/password). </p>

</div>
</div>
<a id="a1a5aaa930940857f68f245eeb89506b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a5aaa930940857f68f245eeb89506b5">&#9670;&nbsp;</a></span>command</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t command</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>What is this stream's goal? One of the SOCKS_COMMAND_* values </p>

</div>
</div>
<a id="ab6efdbeb56e703860bfbdbcb4f650421"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6efdbeb56e703860bfbdbcb4f650421">&#9670;&nbsp;</a></span>got_auth</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int got_auth</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Have we received any authentication data? </p>

</div>
</div>
<a id="a579cd50302d561bacf6fd5cd1965a2c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a579cd50302d561bacf6fd5cd1965a2c4">&#9670;&nbsp;</a></span>has_finished</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int has_finished</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Has the SOCKS handshake finished? Used to make sure we send back a socks reply for every connection. </p>

</div>
</div>
<a id="acb11d1e9da4009a7f0560a4440826553"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb11d1e9da4009a7f0560a4440826553">&#9670;&nbsp;</a></span>listener_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t listener_type</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Which kind of listener created this stream? </p>

</div>
</div>
<a id="a59460a3ff2c12443d1022e5cc0fba85c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59460a3ff2c12443d1022e5cc0fba85c">&#9670;&nbsp;</a></span>password</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* password</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The negotiated password value if any (for socks5). This value is NOT nul-terminated; see passwordlen for its length. </p>

</div>
</div>
<a id="a4e99c1423de33fbf0b0f0164342b0105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e99c1423de33fbf0b0f0164342b0105">&#9670;&nbsp;</a></span>passwordlen</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t passwordlen</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of bytes in password; 0 if password is NULL </p>

</div>
</div>
<a id="a8e0798404bf2cf5dabb84c5ba9a4f236"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e0798404bf2cf5dabb84c5ba9a4f236">&#9670;&nbsp;</a></span>port</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t port</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>What port did the client ask to connect to? </p>

</div>
</div>
<a id="acb1f50844030ba373dc9f120ec3d6246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb1f50844030ba373dc9f120ec3d6246">&#9670;&nbsp;</a></span>reply</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t reply[MAX_SOCKS_REPLY_LEN]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write an entry into this string if we want to specify our own socks reply, rather than using the default socks4 or socks5 socks reply. We use this for the two-stage socks5 handshake. </p>

</div>
</div>
<a id="a83f66cc89f3c46b79899734d8ef60b50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83f66cc89f3c46b79899734d8ef60b50">&#9670;&nbsp;</a></span>replylen</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t replylen</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of <b>reply</b>. </p>

</div>
</div>
<a id="aa739f15773ce1129be899f4838379cce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa739f15773ce1129be899f4838379cce">&#9670;&nbsp;</a></span>socks_prefer_no_auth</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int socks_prefer_no_auth</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If this is set, we will choose "no authentication" instead of "username/password" authentication if both are offered. Used as input to parse_socks. </p>

</div>
</div>
<a id="a1de73c21d330af839598d7cadc2d47d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1de73c21d330af839598d7cadc2d47d4">&#9670;&nbsp;</a></span>socks_version</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t socks_version</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Which version of SOCKS did the client use? One of "0, 4, 5" &ndash; where 0 means that no socks handshake ever took place, and this is just a stub connection (e.g. see <a class="el" href="connection__edge_8c.html#a3a0a22a402cbdeaa42a91ffc901db842">connection_ap_make_link()</a>). </p>

</div>
</div>
<a id="a9b20c006bd90a09e1465fb668700e81d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b20c006bd90a09e1465fb668700e81d">&#9670;&nbsp;</a></span>username</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* username</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The negotiated username value if any (for socks5), or the entire authentication string (for socks4). This value is NOT nul-terminated; see usernamelen for its length. </p>

</div>
</div>
<a id="a43646ffff16001625002e9bb6a983edd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43646ffff16001625002e9bb6a983edd">&#9670;&nbsp;</a></span>usernamelen</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t usernamelen</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of bytes in username; 0 if username is NULL </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/user/_my/code/bwauth-related/tor/src/or/<a class="el" href="or_8h_source.html">or.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
