<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tor: /home/user/_my/code/bwauth-related/tor/src/common/backtrace.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tor
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97b64286d42c5ef1697cb5f17129db19.html">tor</a></li><li class="navelem"><a class="el" href="dir_3cb0ba3f4b82dbe34a1a06276e96bc8d.html">src</a></li><li class="navelem"><a class="el" href="dir_b7e1585941a202f53e5249c42015d573.html">common</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">backtrace.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions to produce backtraces on bugs, crashes, or assertion failures.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;orconfig.h&quot;</code><br />
<code>#include &quot;compat.h&quot;</code><br />
<code>#include &quot;<a class="el" href="util_8h_source.html">util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="torlog_8h_source.html">torlog.h</a>&quot;</code><br />
<code>#include &quot;backtrace.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for backtrace.c:</div>
<div class="dyncontent">
<div class="center"><img src="backtrace_8c__incl.png" border="0" usemap="#_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2common_2backtrace_8c" alt=""/></div>
<map name="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2common_2backtrace_8c" id="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2common_2backtrace_8c">
<area shape="rect" id="node2" href="orconfig_8h_source.html" title="orconfig.h" alt="" coords="723,483,802,509"/>
<area shape="rect" id="node3" href="compat_8h_source.html" title="compat.h" alt="" coords="503,259,579,285"/>
<area shape="rect" id="node12" href="util_8h.html" title="Headers for util.c. " alt="" coords="593,109,644,136"/>
<area shape="rect" id="node16" href="torlog_8h.html" title="Headers for log.c. " alt="" coords="65,184,130,211"/>
<area shape="rect" id="node17" href="backtrace_8h_source.html" title="backtrace.h" alt="" coords="1064,259,1155,285"/>
<area shape="rect" id="node4" href="torint_8h.html" title="Header file to define uint32_t and friends. " alt="" coords="817,408,879,435"/>
<area shape="rect" id="node6" href="testsupport_8h_source.html" title="testsupport.h" alt="" coords="177,408,276,435"/>
<area shape="rect" id="node8" href="compat__time_8h.html" title="Functions and types for monotonic times. " alt="" coords="45,408,153,435"/>
<area shape="rect" id="node11" href="compat__threads_8h_source.html" title="compat_threads.h" alt="" coords="478,333,605,360"/>
<area shape="rect" id="node13" href="di__ops_8h.html" title="Headers for di_ops.c. " alt="" coords="867,333,938,360"/>
<area shape="rect" id="node15" href="util__bug_8h.html" title="Macros to manage assertions, fatal and non&#45;fatal. " alt="" coords="502,184,581,211"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7b0af2070be3c422ed9d5bff61e5b996"><td class="memItemLeft" align="right" valign="top"><a id="a7b0af2070be3c422ed9d5bff61e5b996"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>log_backtrace</b> (int severity, int domain, const char *msg)</td></tr>
<tr class="separator:a7b0af2070be3c422ed9d5bff61e5b996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d08b912f24793f23f1ab1dfbc7c423e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="backtrace_8c.html#a6d08b912f24793f23f1ab1dfbc7c423e">configure_backtrace_handler</a> (const char *tor_version)</td></tr>
<tr class="separator:a6d08b912f24793f23f1ab1dfbc7c423e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa04de1590be2e87955071b14765560d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="backtrace_8c.html#aa04de1590be2e87955071b14765560d5">clean_up_backtrace_handler</a> (void)</td></tr>
<tr class="separator:aa04de1590be2e87955071b14765560d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions to produce backtraces on bugs, crashes, or assertion failures. </p>
<p>Currently, we've only got an implementation here using the backtrace() family of functions, which are sometimes provided by libc and sometimes provided by libexecinfo. We tie into the sigaction() backend in order to detect crashes. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa04de1590be2e87955071b14765560d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa04de1590be2e87955071b14765560d5">&#9670;&nbsp;</a></span>clean_up_backtrace_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clean_up_backtrace_handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform end-of-process cleanup for code that generates error messages on crashes. </p>

</div>
</div>
<a id="a6d08b912f24793f23f1ab1dfbc7c423e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d08b912f24793f23f1ab1dfbc7c423e">&#9670;&nbsp;</a></span>configure_backtrace_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int configure_backtrace_handler </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tor_version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up code to handle generating error messages on crashes. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="backtrace_8c_a6d08b912f24793f23f1ab1dfbc7c423e_icgraph.png" border="0" usemap="#backtrace_8c_a6d08b912f24793f23f1ab1dfbc7c423e_icgraph" alt=""/></div>
<map name="backtrace_8c_a6d08b912f24793f23f1ab1dfbc7c423e_icgraph" id="backtrace_8c_a6d08b912f24793f23f1ab1dfbc7c423e_icgraph">
<area shape="rect" id="node2" href="tor__api_8h.html#a03a6419d2872fb481d95c23a7283cebf" title="tor_run_main" alt="" coords="192,13,289,39"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
