<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tor: /home/user/_my/code/bwauth-related/tor/src/or/nodelist.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tor
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97b64286d42c5ef1697cb5f17129db19.html">tor</a></li><li class="navelem"><a class="el" href="dir_3cb0ba3f4b82dbe34a1a06276e96bc8d.html">src</a></li><li class="navelem"><a class="el" href="dir_386635fabd7f6c74e9d9c7a8604514a0.html">or</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">nodelist.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Structures and functions for tracking what we know about the routers on the Tor network, and correlating information from networkstatus, routerinfo, and microdescs.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="or_8h_source.html">or.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="address_8h_source.html">address.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="address__set_8h_source.html">address_set.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bridges_8h_source.html">bridges.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="config_8h_source.html">config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="control_8h_source.html">control.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dirserv_8h_source.html">dirserv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="entrynodes_8h_source.html">entrynodes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="geoip_8h_source.html">geoip.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hs__common_8h_source.html">hs_common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hs__client_8h_source.html">hs_client.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="main_8h_source.html">main.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="microdesc_8h_source.html">microdesc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="networkstatus_8h_source.html">networkstatus.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nodelist_8h_source.html">nodelist.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="policies_8h_source.html">policies.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="protover_8h_source.html">protover.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rendservice_8h_source.html">rendservice.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="router_8h_source.html">router.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="routerlist_8h_source.html">routerlist.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="routerparse_8h_source.html">routerparse.h</a>&quot;</code><br />
<code>#include &quot;routerset.h&quot;</code><br />
<code>#include &quot;torcert.h&quot;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="mode_8h_source.html">dirauth/mode.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for nodelist.c:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c__incl.png" border="0" usemap="#_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2nodelist_8c" alt=""/></div>
<map name="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2nodelist_8c" id="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2nodelist_8c">
<area shape="rect" id="node2" href="or_8h.html" title="Master header file for Tor&#45;specific functionality. " alt="" coords="1081,259,1125,285"/>
<area shape="rect" id="node15" href="address_8h.html" title="Headers for address.h. " alt="" coords="47,333,126,360"/>
<area shape="rect" id="node24" href="address__set_8h.html" title="Types to handle sets of addresses. " alt="" coords="5,483,109,509"/>
<area shape="rect" id="node25" href="bridges_8h.html" title="Header file for circuitbuild.c. " alt="" coords="417,109,492,136"/>
<area shape="rect" id="node26" href="config_8h.html" title="Header file for config.c. " alt="" coords="1827,259,1895,285"/>
<area shape="rect" id="node27" href="control_8h.html" title="Header file for control.c. " alt="" coords="744,109,816,136"/>
<area shape="rect" id="node28" href="dirserv_8h.html" title="Header file for dirserv.c. " alt="" coords="1912,184,1984,211"/>
<area shape="rect" id="node29" href="entrynodes_8h.html" title="Header file for circuitbuild.c. " alt="" coords="1347,184,1445,211"/>
<area shape="rect" id="node31" href="geoip_8h.html" title="Header file for geoip.c. " alt="" coords="1427,109,1491,136"/>
<area shape="rect" id="node33" href="hs__common_8h.html" title="Header file containing common data for the whole HS subsytem. " alt="" coords="1044,184,1148,211"/>
<area shape="rect" id="node35" href="hs__client_8h.html" title="Header file containing client data for the HS subsytem. " alt="" coords="840,109,925,136"/>
<area shape="rect" id="node37" href="torcert_8h_source.html" title="torcert.h" alt="" coords="202,259,273,285"/>
<area shape="rect" id="node38" href="main_8h.html" title="Header file for main.c. " alt="" coords="1515,109,1576,136"/>
<area shape="rect" id="node39" href="microdesc_8h.html" title="Header file for microdesc.c. " alt="" coords="1600,109,1693,136"/>
<area shape="rect" id="node40" href="networkstatus_8h.html" title="Header file for networkstatus.c. " alt="" coords="1971,259,2085,285"/>
<area shape="rect" id="node41" href="nodelist_8h.html" title="Header file for nodelist.c. " alt="" coords="1769,109,1847,136"/>
<area shape="rect" id="node42" href="policies_8h.html" title="Header file for policies.c. " alt="" coords="1872,109,1949,136"/>
<area shape="rect" id="node43" href="protover_8h.html" title="Headers and type declarations for protover.c. " alt="" coords="47,184,127,211"/>
<area shape="rect" id="node44" href="rendservice_8h.html" title="Header file for rendservice.c. " alt="" coords="1223,184,1323,211"/>
<area shape="rect" id="node45" href="router_8h.html" title="Header file for router.c. " alt="" coords="2072,408,2139,435"/>
<area shape="rect" id="node46" href="routerlist_8h.html" title="Header file for routerlist.c. " alt="" coords="2132,184,2215,211"/>
<area shape="rect" id="node47" href="routerparse_8h.html" title="Header file for routerparse.c. " alt="" coords="2176,109,2275,136"/>
<area shape="rect" id="node48" href="routerset_8h_source.html" title="routerset.h" alt="" coords="2299,109,2383,136"/>
<area shape="rect" id="node50" href="mode_8h.html" title="Standalone header file for directory authority mode. " alt="" coords="2497,109,2605,136"/>
<area shape="rect" id="node3" href="orconfig_8h_source.html" title="orconfig.h" alt="" coords="633,632,711,659"/>
<area shape="rect" id="node4" href="torint_8h.html" title="Header file to define uint32_t and friends. " alt="" coords="742,557,805,584"/>
<area shape="rect" id="node5" href="crypto_8h.html" title="Headers for crypto.c. " alt="" coords="465,408,535,435"/>
<area shape="rect" id="node8" href="crypto__format_8h_source.html" title="crypto_format.h" alt="" coords="762,333,875,360"/>
<area shape="rect" id="node9" href="crypto__ed25519_8h_source.html" title="crypto_ed25519.h" alt="" coords="711,408,836,435"/>
<area shape="rect" id="node10" href="crypto__curve25519_8h_source.html" title="crypto_curve25519.h" alt="" coords="878,483,1021,509"/>
<area shape="rect" id="node11" href="tortls_8h.html" title="Headers for tortls.c. " alt="" coords="1603,408,1666,435"/>
<area shape="rect" id="node12" href="torlog_8h.html" title="Headers for log.c. " alt="" coords="1690,408,1755,435"/>
<area shape="rect" id="node13" href="container_8h_source.html" title="container.h" alt="" coords="311,408,398,435"/>
<area shape="rect" id="node14" href="compress_8h.html" title="Headers for compress.c. " alt="" coords="1191,333,1281,360"/>
<area shape="rect" id="node16" href="compat__libevent_8h_source.html" title="compat_libevent.h" alt="" coords="1501,483,1629,509"/>
<area shape="rect" id="node17" href="ht_8h_source.html" title="ht.h" alt="" coords="1306,333,1350,360"/>
<area shape="rect" id="node18" href="confline_8h_source.html" title="confline.h" alt="" coords="354,333,433,360"/>
<area shape="rect" id="node19" href="replaycache_8h.html" title="Header file for replaycache.c. " alt="" coords="1374,333,1477,360"/>
<area shape="rect" id="node20" href="tor__queue_8h_source.html" title="tor_queue.h" alt="" coords="1704,333,1795,360"/>
<area shape="rect" id="node21" href="token__bucket_8h_source.html" title="token_bucket.h" alt="" coords="1045,483,1155,509"/>
<area shape="rect" id="node22" href="util__format_8h_source.html" title="util_format.h" alt="" coords="1331,483,1426,509"/>
<area shape="rect" id="node23" href="hs__circuitmap_8h.html" title="Header file for hs_circuitmap.c. " alt="" coords="900,333,1015,360"/>
<area shape="rect" id="node6" href="compat_8h_source.html" title="compat.h" alt="" coords="1179,483,1255,509"/>
<area shape="rect" id="node7" href="testsupport_8h_source.html" title="testsupport.h" alt="" coords="1617,557,1716,584"/>
<area shape="rect" id="node30" href="handles_8h.html" title="Macros for C weak&#45;handle implementation. " alt="" coords="1673,259,1751,285"/>
<area shape="rect" id="node32" href="dos_8h_source.html" title="dos.h" alt="" coords="1469,184,1523,211"/>
<area shape="rect" id="node34" href="ed25519__cert_8h_source.html" title="ed25519_cert.h" alt="" coords="854,259,965,285"/>
<area shape="rect" id="node36" href="hs__descriptor_8h.html" title="Header file for hs_descriptor.c. " alt="" coords="567,184,678,211"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnodelist__t.html">nodelist_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a436cb76e5b540448abeaab38047f4ed4"><td class="memItemLeft" align="right" valign="top"><a id="a436cb76e5b540448abeaab38047f4ed4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NODELIST_PRIVATE</b></td></tr>
<tr class="separator:a436cb76e5b540448abeaab38047f4ed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57883492b7488be422d5e4e6ce33c829"><td class="memItemLeft" align="right" valign="top"><a id="a57883492b7488be422d5e4e6ce33c829"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>node_free</b>(val)&#160;&#160;&#160;FREE_AND_NULL(<a class="el" href="structnode__t.html">node_t</a>, node_free_, (val))</td></tr>
<tr class="separator:a57883492b7488be422d5e4e6ce33c829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a982b56136de15e401093e4789ecfd8b6"><td class="memItemLeft" align="right" valign="top"><a id="a982b56136de15e401093e4789ecfd8b6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ESTIMATED_ADDRESS_PER_NODE</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a982b56136de15e401093e4789ecfd8b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a706806d6ffbaea8f09e67261c6d94f7e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>SL_ADD_NEW_IPV4_AP</b>(r,  port_field,  sl,  valid)</td></tr>
<tr class="separator:a706806d6ffbaea8f09e67261c6d94f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49596477012be375acb7d36c228b30fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>SL_ADD_NEW_IPV6_AP</b>(r,  port_field,  sl,  valid)</td></tr>
<tr class="separator:a49596477012be375acb7d36c228b30fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13942a8a79069323a49ab2dd73947c19"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>RETURN_IPV4_AP</b>(r,  port_field,  ap_out)</td></tr>
<tr class="separator:a13942a8a79069323a49ab2dd73947c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6721e8724d858583369583de20571f2"><td class="memItemLeft" align="right" valign="top"><a id="aa6721e8724d858583369583de20571f2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DFLT_PCT_USABLE_NEEDED</b>&#160;&#160;&#160;60</td></tr>
<tr class="separator:aa6721e8724d858583369583de20571f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6e8821b0aa6ae2ba9f5a97b2144c6db9"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structnodelist__t.html">nodelist_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a6e8821b0aa6ae2ba9f5a97b2144c6db9">nodelist_t</a></td></tr>
<tr class="separator:a6e8821b0aa6ae2ba9f5a97b2144c6db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a582b5447464c27d25781d01f5364d786"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a582b5447464c27d25781d01f5364d786">usable_descriptor_t</a> { <b>USABLE_DESCRIPTOR_ALL</b> = 0, 
<b>USABLE_DESCRIPTOR_EXIT_ONLY</b> = 1
 }</td></tr>
<tr class="separator:a582b5447464c27d25781d01f5364d786"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab3b4e15a396b7f78474262220ed168cd"><td class="memItemLeft" align="right" valign="top"><a id="ab3b4e15a396b7f78474262220ed168cd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>HT_GENERATE2</b> (nodelist_map, <a class="el" href="structnode__t.html">node_t</a>, ht_ent, node_id_hash, node_id_eq, 0.6, <a class="el" href="util_8c.html#a882356feb0fa2fe4001c5298015862a3">tor_reallocarray_</a>, <a class="el" href="util_8h.html#a40d94cc20afc38582c65aa418919ebed">tor_free_</a>) static inline unsigned int node_ed_id_hash(const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:ab3b4e15a396b7f78474262220ed168cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b1d7f95d00fa07b402a02db7e3fea7a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a2b1d7f95d00fa07b402a02db7e3fea7a">HT_PROTOTYPE</a> (HT_GENERATE2(nodelist_ed_map, HT_GENERATE2(<a class="el" href="structnode__t.html">node_t</a>, HT_GENERATE2(ed_ht_ent, HT_GENERATE2(node_ed_id_hash, HT_GENERATE2(node_ed_id_eq)</td></tr>
<tr class="separator:a2b1d7f95d00fa07b402a02db7e3fea7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad51d63695a2d5dbd7d641f2252d08229"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#ad51d63695a2d5dbd7d641f2252d08229">MOCK_IMPL</a> (<a class="el" href="structnode__t.html">node_t</a> *, node_get_mutable_by_id,(const char *identity_digest))</td></tr>
<tr class="separator:ad51d63695a2d5dbd7d641f2252d08229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e8cfa12ac79b216e087f2edf80c26d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnode__t.html">node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a90e8cfa12ac79b216e087f2edf80c26d">node_get_mutable_by_ed25519_id</a> (const <a class="el" href="structed25519__public__key__t.html">ed25519_public_key_t</a> *ed_id)</td></tr>
<tr class="separator:a90e8cfa12ac79b216e087f2edf80c26d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8dce344734590ce49774d7e9ddee91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a5c8dce344734590ce49774d7e9ddee91">MOCK_IMPL</a> (const <a class="el" href="structnode__t.html">node_t</a> *, node_get_by_id,(const char *identity_digest))</td></tr>
<tr class="separator:a5c8dce344734590ce49774d7e9ddee91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d9810eef6e7fa3dba671314108f4230"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a7d9810eef6e7fa3dba671314108f4230">MOCK_IMPL</a> (const <a class="el" href="structnode__t.html">node_t</a> *, node_get_by_ed25519_id,(const <a class="el" href="structed25519__public__key__t.html">ed25519_public_key_t</a> *ed_id))</td></tr>
<tr class="separator:a7d9810eef6e7fa3dba671314108f4230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96e959e42aa2437e36c0ca7f58f0a6c"><td class="memItemLeft" align="right" valign="top"><a id="ae96e959e42aa2437e36c0ca7f58f0a6c"></a>
STATIC void&#160;</td><td class="memItemRight" valign="bottom"><b>node_set_hsdir_index</b> (<a class="el" href="structnode__t.html">node_t</a> *node, const <a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *ns)</td></tr>
<tr class="separator:ae96e959e42aa2437e36c0ca7f58f0a6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f3aad5415c903fdfa732793d35484d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a0f3aad5415c903fdfa732793d35484d5">nodelist_probably_contains_address</a> (const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *addr)</td></tr>
<tr class="separator:a0f3aad5415c903fdfa732793d35484d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba545e2813b93bafcb1842bb6d2db85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnode__t.html">node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a8ba545e2813b93bafcb1842bb6d2db85">nodelist_set_routerinfo</a> (<a class="el" href="structrouterinfo__t.html">routerinfo_t</a> *ri, <a class="el" href="structrouterinfo__t.html">routerinfo_t</a> **ri_old_out)</td></tr>
<tr class="separator:a8ba545e2813b93bafcb1842bb6d2db85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb19aadaea2f66c7aff8775afa3aec0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnode__t.html">node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#adb19aadaea2f66c7aff8775afa3aec0a">nodelist_add_microdesc</a> (<a class="el" href="structmicrodesc__t.html">microdesc_t</a> *md)</td></tr>
<tr class="separator:adb19aadaea2f66c7aff8775afa3aec0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a551571b1d081e6f012d9de7cd8a4c779"><td class="memItemLeft" align="right" valign="top"><a id="a551571b1d081e6f012d9de7cd8a4c779"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_IMPL</b> (int, get_estimated_address_per_node,(void))</td></tr>
<tr class="separator:a551571b1d081e6f012d9de7cd8a4c779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88530130321dca1f862717bfb5a0834a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a88530130321dca1f862717bfb5a0834a">nodelist_set_consensus</a> (<a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *ns)</td></tr>
<tr class="separator:a88530130321dca1f862717bfb5a0834a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9a8eefc5429bb575b26374ef24bce88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#ac9a8eefc5429bb575b26374ef24bce88">nodelist_remove_microdesc</a> (const char *identity_digest, <a class="el" href="structmicrodesc__t.html">microdesc_t</a> *md)</td></tr>
<tr class="separator:ac9a8eefc5429bb575b26374ef24bce88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceea079915327ce0fede3a25bb254f00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#aceea079915327ce0fede3a25bb254f00">nodelist_remove_routerinfo</a> (<a class="el" href="structrouterinfo__t.html">routerinfo_t</a> *ri)</td></tr>
<tr class="separator:aceea079915327ce0fede3a25bb254f00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63eb500002534ffb8e479777013a81d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a63eb500002534ffb8e479777013a81d0">nodelist_find_nodes_with_microdesc</a> (const <a class="el" href="structmicrodesc__t.html">microdesc_t</a> *md)</td></tr>
<tr class="separator:a63eb500002534ffb8e479777013a81d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719c3f922735dd9428f5a763676bebc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a719c3f922735dd9428f5a763676bebc3">nodelist_purge</a> (void)</td></tr>
<tr class="separator:a719c3f922735dd9428f5a763676bebc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a214eb0c58f4f381696fcf4a25349e50a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a214eb0c58f4f381696fcf4a25349e50a">nodelist_free_all</a> (void)</td></tr>
<tr class="separator:a214eb0c58f4f381696fcf4a25349e50a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4c2088785ce22b0dcc6d15dea714da1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#af4c2088785ce22b0dcc6d15dea714da1">nodelist_assert_ok</a> (void)</td></tr>
<tr class="separator:af4c2088785ce22b0dcc6d15dea714da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6630ce221ef3a0771013ec400a873c55"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a6630ce221ef3a0771013ec400a873c55">MOCK_IMPL</a> (<a class="el" href="structsmartlist__t.html">smartlist_t</a> *, nodelist_get_list,(void))</td></tr>
<tr class="separator:a6630ce221ef3a0771013ec400a873c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab876cec61e163d3246f27357c98d0687"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#ab876cec61e163d3246f27357c98d0687">node_get_by_hex_id</a> (const char *hex_id, unsigned flags)</td></tr>
<tr class="separator:ab876cec61e163d3246f27357c98d0687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83914dc16ada99266d18e1ba1d90d18c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a83914dc16ada99266d18e1ba1d90d18c">MOCK_IMPL</a> (const <a class="el" href="structnode__t.html">node_t</a> *, node_get_by_nickname,(const char *nickname, unsigned flags))</td></tr>
<tr class="separator:a83914dc16ada99266d18e1ba1d90d18c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad46ce292894cace0427366a53b765602"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structed25519__public__key__t.html">ed25519_public_key_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#ad46ce292894cace0427366a53b765602">node_get_ed25519_id</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:ad46ce292894cace0427366a53b765602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a536b832b4e1fab98d98efed737ffff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a9a536b832b4e1fab98d98efed737ffff">node_ed25519_id_matches</a> (const <a class="el" href="structnode__t.html">node_t</a> *node, const <a class="el" href="structed25519__public__key__t.html">ed25519_public_key_t</a> *id)</td></tr>
<tr class="separator:a9a536b832b4e1fab98d98efed737ffff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a798e84107f21829549b67e28dca267ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a798e84107f21829549b67e28dca267ef">node_supports_ed25519_link_authentication</a> (const <a class="el" href="structnode__t.html">node_t</a> *node, int compatible_with_us)</td></tr>
<tr class="separator:a798e84107f21829549b67e28dca267ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aaa74e1833887fd55ce3d1cd1e10740"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a4aaa74e1833887fd55ce3d1cd1e10740">node_supports_v3_hsdir</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:a4aaa74e1833887fd55ce3d1cd1e10740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afce3465f9a9cf3e59248e2873a07d9a1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#afce3465f9a9cf3e59248e2873a07d9a1">node_supports_ed25519_hs_intro</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:afce3465f9a9cf3e59248e2873a07d9a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c137bb848250b0bcdb88eb4485a8a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a08c137bb848250b0bcdb88eb4485a8a0">node_supports_v3_rendezvous_point</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:a08c137bb848250b0bcdb88eb4485a8a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace0bc5c8f6d6591b7fd56a80d274d051"><td class="memItemLeft" align="right" valign="top">const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#ace0bc5c8f6d6591b7fd56a80d274d051">node_get_rsa_id_digest</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:ace0bc5c8f6d6591b7fd56a80d274d051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d458e5290092933bd5c1aae33b2654f"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a6d458e5290092933bd5c1aae33b2654f">node_get_nickname</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:a6d458e5290092933bd5c1aae33b2654f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77b3951a642f54746fa04cb65a0a30c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a77b3951a642f54746fa04cb65a0a30c4">node_is_dir</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:a77b3951a642f54746fa04cb65a0a30c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ff6766a6318de4dc59e0e7280d0afb6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a6ff6766a6318de4dc59e0e7280d0afb6">node_has_any_descriptor</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:a6ff6766a6318de4dc59e0e7280d0afb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c994699835c0d610e072920f397d6e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a5c994699835c0d610e072920f397d6e8">node_has_preferred_descriptor</a> (const <a class="el" href="structnode__t.html">node_t</a> *node, int for_direct_connect)</td></tr>
<tr class="separator:a5c994699835c0d610e072920f397d6e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab43ea384ab6fafd3d360460011ec2a43"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#ab43ea384ab6fafd3d360460011ec2a43">node_get_purpose</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:ab43ea384ab6fafd3d360460011ec2a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae942465b949bf8cc1006ddd3e9c61221"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#ae942465b949bf8cc1006ddd3e9c61221">node_get_verbose_nickname</a> (const <a class="el" href="structnode__t.html">node_t</a> *node, char *verbose_name_out)</td></tr>
<tr class="separator:ae942465b949bf8cc1006ddd3e9c61221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a111b3704de6d40d874d64dbced6bb9ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a111b3704de6d40d874d64dbced6bb9ae">node_get_verbose_nickname_by_id</a> (const char *id_digest, char *verbose_name_out)</td></tr>
<tr class="separator:a111b3704de6d40d874d64dbced6bb9ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab99c6a6c0321bb0089ae5606bec73c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#aab99c6a6c0321bb0089ae5606bec73c4">node_allows_single_hop_exits</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:aab99c6a6c0321bb0089ae5606bec73c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af789301aabc52c987173ef1c289cdb53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#af789301aabc52c987173ef1c289cdb53">node_exit_policy_rejects_all</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:af789301aabc52c987173ef1c289cdb53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b651f4b727b10e3946fa879944ca7b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a4b651f4b727b10e3946fa879944ca7b6">node_exit_policy_is_exact</a> (const <a class="el" href="structnode__t.html">node_t</a> *node, sa_family_t family)</td></tr>
<tr class="separator:a4b651f4b727b10e3946fa879944ca7b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a551827c8c00ee79f3d3663d11b2b60a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a551827c8c00ee79f3d3663d11b2b60a0">node_get_all_orports</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:a551827c8c00ee79f3d3663d11b2b60a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad81a144f3a7aae0ee6a4406c8bcf137b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#ad81a144f3a7aae0ee6a4406c8bcf137b">node_get_addr</a> (const <a class="el" href="structnode__t.html">node_t</a> *node, <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *addr_out)</td></tr>
<tr class="separator:ad81a144f3a7aae0ee6a4406c8bcf137b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3e36251eaa066988e1eb7274c60a088"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#aa3e36251eaa066988e1eb7274c60a088">node_get_prim_addr_ipv4h</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:aa3e36251eaa066988e1eb7274c60a088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4443f1dae737f5fd5343346601fc2c5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a4443f1dae737f5fd5343346601fc2c5f">node_get_address_string</a> (const <a class="el" href="structnode__t.html">node_t</a> *node, char *buf, size_t len)</td></tr>
<tr class="separator:a4443f1dae737f5fd5343346601fc2c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88944d6e5a71173c5890ba817363d74f"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a88944d6e5a71173c5890ba817363d74f">node_get_declared_uptime</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:a88944d6e5a71173c5890ba817363d74f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a208074d4744cf167732b3376ec3497d9"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a208074d4744cf167732b3376ec3497d9">node_get_platform</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:a208074d4744cf167732b3376ec3497d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6849fb3c0f5d471d3d13f1502fc2ba8b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a6849fb3c0f5d471d3d13f1502fc2ba8b">node_is_me</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:a6849fb3c0f5d471d3d13f1502fc2ba8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedef5331fdf01f16cdd5bbe528aae5db"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#aedef5331fdf01f16cdd5bbe528aae5db">node_get_declared_family</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:aedef5331fdf01f16cdd5bbe528aae5db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af14e8244a512b3c5dc13d017fefff2d1"><td class="memItemLeft" align="right" valign="top"><a id="af14e8244a512b3c5dc13d017fefff2d1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>node_has_ipv6_addr</b> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:af14e8244a512b3c5dc13d017fefff2d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8edc40fa0243b56cac3dea2987bd968f"><td class="memItemLeft" align="right" valign="top"><a id="a8edc40fa0243b56cac3dea2987bd968f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>node_has_ipv6_orport</b> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:a8edc40fa0243b56cac3dea2987bd968f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e35253783c8b1bb264bb2ac2f91044b"><td class="memItemLeft" align="right" valign="top"><a id="a2e35253783c8b1bb264bb2ac2f91044b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>node_has_ipv6_dirport</b> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:a2e35253783c8b1bb264bb2ac2f91044b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace86e6613cbb306f8cdca306dc7303d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#ace86e6613cbb306f8cdca306dc7303d5">node_ipv6_or_preferred</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:ace86e6613cbb306f8cdca306dc7303d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ebc2be100c1842a1897987652011bd2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a0ebc2be100c1842a1897987652011bd2">node_get_prim_orport</a> (const <a class="el" href="structnode__t.html">node_t</a> *node, <a class="el" href="structtor__addr__port__t.html">tor_addr_port_t</a> *ap_out)</td></tr>
<tr class="separator:a0ebc2be100c1842a1897987652011bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07d582a1a612673f07f31a2bd81ba3ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a07d582a1a612673f07f31a2bd81ba3ac">node_get_pref_orport</a> (const <a class="el" href="structnode__t.html">node_t</a> *node, <a class="el" href="structtor__addr__port__t.html">tor_addr_port_t</a> *ap_out)</td></tr>
<tr class="separator:a07d582a1a612673f07f31a2bd81ba3ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2206686417d73f6e2446a08a178d4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#aea2206686417d73f6e2446a08a178d4d">node_get_pref_ipv6_orport</a> (const <a class="el" href="structnode__t.html">node_t</a> *node, <a class="el" href="structtor__addr__port__t.html">tor_addr_port_t</a> *ap_out)</td></tr>
<tr class="separator:aea2206686417d73f6e2446a08a178d4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8373d8f61ea9f7578bd08da55a1f51d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a8373d8f61ea9f7578bd08da55a1f51d6">node_ipv6_dir_preferred</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:a8373d8f61ea9f7578bd08da55a1f51d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e83eb9a2fc9bf086269ed5c03608084"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a7e83eb9a2fc9bf086269ed5c03608084">node_get_prim_dirport</a> (const <a class="el" href="structnode__t.html">node_t</a> *node, <a class="el" href="structtor__addr__port__t.html">tor_addr_port_t</a> *ap_out)</td></tr>
<tr class="separator:a7e83eb9a2fc9bf086269ed5c03608084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bd9762680c598db0631e253a049286c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a5bd9762680c598db0631e253a049286c">node_get_pref_dirport</a> (const <a class="el" href="structnode__t.html">node_t</a> *node, <a class="el" href="structtor__addr__port__t.html">tor_addr_port_t</a> *ap_out)</td></tr>
<tr class="separator:a5bd9762680c598db0631e253a049286c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab477acbccc5f29dd0d4a94a369238e94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#ab477acbccc5f29dd0d4a94a369238e94">node_get_pref_ipv6_dirport</a> (const <a class="el" href="structnode__t.html">node_t</a> *node, <a class="el" href="structtor__addr__port__t.html">tor_addr_port_t</a> *ap_out)</td></tr>
<tr class="separator:ab477acbccc5f29dd0d4a94a369238e94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1556781ec0c72a9139e3ff51dde7462"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#af1556781ec0c72a9139e3ff51dde7462">node_has_curve25519_onion_key</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:af1556781ec0c72a9139e3ff51dde7462"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae546e6f6b3de89e0fea86bd26eb576c3"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structcurve25519__public__key__t.html">curve25519_public_key_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#ae546e6f6b3de89e0fea86bd26eb576c3">node_get_curve25519_onion_key</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:ae546e6f6b3de89e0fea86bd26eb576c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca4d59803258ee170491868c5cb4824"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#acca4d59803258ee170491868c5cb4824">node_set_country</a> (<a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:acca4d59803258ee170491868c5cb4824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f725fda356a7135d8997a544bcd0875"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a2f725fda356a7135d8997a544bcd0875">nodelist_refresh_countries</a> (void)</td></tr>
<tr class="separator:a2f725fda356a7135d8997a544bcd0875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39712e702247f78a9f824a0c96b2a2b3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a39712e702247f78a9f824a0c96b2a2b3">addrs_in_same_network_family</a> (const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *a1, const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *a2)</td></tr>
<tr class="separator:a39712e702247f78a9f824a0c96b2a2b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec9e62be44bcfcb1017f1a1190fcba8f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#aec9e62be44bcfcb1017f1a1190fcba8f">nodes_in_same_family</a> (const <a class="el" href="structnode__t.html">node_t</a> *node1, const <a class="el" href="structnode__t.html">node_t</a> *node2)</td></tr>
<tr class="separator:aec9e62be44bcfcb1017f1a1190fcba8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24886a04f40cf28a397681c8af3d10b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a24886a04f40cf28a397681c8af3d10b9">nodelist_add_node_and_family</a> (<a class="el" href="structsmartlist__t.html">smartlist_t</a> *sl, const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:a24886a04f40cf28a397681c8af3d10b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6437a3da576fc05f0b444878bbeb93e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#aa6437a3da576fc05f0b444878bbeb93e">router_find_exact_exit_enclave</a> (const char *address, uint16_t port)</td></tr>
<tr class="separator:aa6437a3da576fc05f0b444878bbeb93e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78e60dd983647dd0229d85517eba6921"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a78e60dd983647dd0229d85517eba6921">node_is_unreliable</a> (const <a class="el" href="structnode__t.html">node_t</a> *node, int need_uptime, int need_capacity, int need_guard)</td></tr>
<tr class="separator:a78e60dd983647dd0229d85517eba6921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86dbd7165aba1d9d8cdd6bb2c2b5d6c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a86dbd7165aba1d9d8cdd6bb2c2b5d6c7">router_exit_policy_all_nodes_reject</a> (const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *addr, uint16_t port, int need_uptime)</td></tr>
<tr class="separator:a86dbd7165aba1d9d8cdd6bb2c2b5d6c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b98a83a74416a5d6cb256c66110b1b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#af9b98a83a74416a5d6cb256c66110b1b">router_set_status</a> (const char *digest, int up)</td></tr>
<tr class="separator:af9b98a83a74416a5d6cb256c66110b1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a487da95d8f7026bb714950516ac5fb95"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a487da95d8f7026bb714950516ac5fb95">MOCK_IMPL</a> (int, router_have_minimum_dir_info,(void))</td></tr>
<tr class="separator:a487da95d8f7026bb714950516ac5fb95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40976ed0443d536fc424b6b46e3aa1c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a40976ed0443d536fc424b6b46e3aa1c2">MOCK_IMPL</a> (<a class="el" href="nodelist_8h.html#ac5376082c57ab5e9ea38cfb2694585b3">consensus_path_type_t</a>, router_have_consensus_path,(void))</td></tr>
<tr class="separator:a40976ed0443d536fc424b6b46e3aa1c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32099caf417dbc0e15ea398b1bc2ea16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#a32099caf417dbc0e15ea398b1bc2ea16">router_dir_info_changed</a> (void)</td></tr>
<tr class="separator:a32099caf417dbc0e15ea398b1bc2ea16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada6e670aafec4ca8804035153b50400a"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#ada6e670aafec4ca8804035153b50400a">get_dir_info_status_string</a> (void)</td></tr>
<tr class="separator:ada6e670aafec4ca8804035153b50400a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae883dd13e0b2365df6ce859e79de0bdf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodelist_8c.html#ae883dd13e0b2365df6ce859e79de0bdf">count_loading_descriptors_progress</a> (void)</td></tr>
<tr class="separator:ae883dd13e0b2365df6ce859e79de0bdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Structures and functions for tracking what we know about the routers on the Tor network, and correlating information from networkstatus, routerinfo, and microdescs. </p>
<p>The key structure here is <a class="el" href="structnode__t.html">node_t</a>: that's the canonical way to refer to a Tor relay that we might want to build a circuit through. Every <a class="el" href="structnode__t.html">node_t</a> has either a <a class="el" href="structrouterinfo__t.html">routerinfo_t</a>, or a <a class="el" href="structrouterstatus__t.html">routerstatus_t</a> from the current networkstatus consensus. If it has a <a class="el" href="structrouterstatus__t.html">routerstatus_t</a>, it will also need to have a <a class="el" href="structmicrodesc__t.html">microdesc_t</a> before you can use it for circuits.</p>
<p>The <a class="el" href="structnodelist__t.html">nodelist_t</a> is a global singleton that maps identities to <a class="el" href="structnode__t.html">node_t</a> objects. Access them with the node_get_*() functions. The <a class="el" href="structnodelist__t.html">nodelist_t</a> is maintained by calls throughout the codebase</p>
<p>Generally, other code should not have to reach inside a <a class="el" href="structnode__t.html">node_t</a> to see what information it has. Instead, you should call one of the many accessor functions that works on a generic <a class="el" href="structnode__t.html">node_t</a>. If there isn't one that does what you need, it's better to make such a function, and then use it.</p>
<p>For historical reasons, some of the functions that select a <a class="el" href="structnode__t.html">node_t</a> from the list of all usable <a class="el" href="structnode__t.html">node_t</a> objects are in the <a class="el" href="routerlist_8c.html" title="Code to maintain and access the global list of routerinfos for known servers. ">routerlist.c</a> module, since they originally selected a <a class="el" href="structrouterinfo__t.html">routerinfo_t</a>. (TODO: They should move!)</p>
<p>(TODO: Perhaps someday we should abstract the remaining ways of talking about a relay to also be <a class="el" href="structnode__t.html">node_t</a> instances. Those would be <a class="el" href="structrouterstatus__t.html">routerstatus_t</a> as used for directory requests, and <a class="el" href="structdir__server__t.html">dir_server_t</a> as used for authorities and fallback directories.) </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a13942a8a79069323a49ab2dd73947c19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13942a8a79069323a49ab2dd73947c19">&#9670;&nbsp;</a></span>RETURN_IPV4_AP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RETURN_IPV4_AP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">port_field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ap_out&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">STMT_BEGIN \</div><div class="line">    if (r &amp;&amp; tor_addr_port_is_valid_ipv4h((r)-&gt;addr, (r)-&gt;port_field, 0)) { \</div><div class="line">      tor_addr_from_ipv4h(&amp;(ap_out)-&gt;addr, (r)-&gt;addr); \</div><div class="line">      (ap_out)-&gt;port = (r)-&gt;port_field; \</div><div class="line">    } \</div><div class="line">  STMT_END</div></div><!-- fragment -->
</div>
</div>
<a id="a706806d6ffbaea8f09e67261c6d94f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a706806d6ffbaea8f09e67261c6d94f7e">&#9670;&nbsp;</a></span>SL_ADD_NEW_IPV4_AP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SL_ADD_NEW_IPV4_AP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">port_field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sl, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">valid&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">STMT_BEGIN \</div><div class="line">    if (tor_addr_port_is_valid_ipv4h((r)-&gt;addr, (r)-&gt;port_field, 0)) { \</div><div class="line">      valid = 1; \</div><div class="line">      tor_addr_port_t *ap = tor_malloc(<span class="keyword">sizeof</span>(<a class="code" href="structtor__addr__port__t.html">tor_addr_port_t</a>)); \</div><div class="line">      tor_addr_from_ipv4h(&amp;ap-&gt;addr, (r)-&gt;addr); \</div><div class="line">      ap-&gt;port = (r)-&gt;port_field; \</div><div class="line">      smartlist_add((sl), ap); \</div><div class="line">    } \</div><div class="line">  STMT_END</div><div class="ttc" id="structtor__addr__port__t_html"><div class="ttname"><a href="structtor__addr__port__t.html">tor_addr_port_t</a></div><div class="ttdef"><b>Definition:</b> address.h:68</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a49596477012be375acb7d36c228b30fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49596477012be375acb7d36c228b30fe">&#9670;&nbsp;</a></span>SL_ADD_NEW_IPV6_AP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SL_ADD_NEW_IPV6_AP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">port_field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sl, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">valid&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">STMT_BEGIN \</div><div class="line">    if (tor_addr_port_is_valid(&amp;(r)-&gt;ipv6_addr, (r)-&gt;port_field, 0)) { \</div><div class="line">      valid = 1; \</div><div class="line">      tor_addr_port_t *ap = tor_malloc(<span class="keyword">sizeof</span>(<a class="code" href="structtor__addr__port__t.html">tor_addr_port_t</a>)); \</div><div class="line">      tor_addr_copy(&amp;ap-&gt;addr, &amp;(r)-&gt;ipv6_addr); \</div><div class="line">      ap-&gt;port = (r)-&gt;port_field; \</div><div class="line">      smartlist_add((sl), ap); \</div><div class="line">    } \</div><div class="line">  STMT_END</div><div class="ttc" id="structtor__addr__port__t_html"><div class="ttname"><a href="structtor__addr__port__t.html">tor_addr_port_t</a></div><div class="ttdef"><b>Definition:</b> address.h:68</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a6e8821b0aa6ae2ba9f5a97b2144c6db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e8821b0aa6ae2ba9f5a97b2144c6db9">&#9670;&nbsp;</a></span>nodelist_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structnodelist__t.html">nodelist_t</a>  <a class="el" href="structnodelist__t.html">nodelist_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A <a class="el" href="structnodelist__t.html">nodelist_t</a> holds a <a class="el" href="structnode__t.html">node_t</a> object for every router we're "willing to use
for something". Specifically, it should hold a <a class="el" href="structnode__t.html">node_t</a> for every node that is currently in the routerlist, or currently in the consensus we're using. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a582b5447464c27d25781d01f5364d786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a582b5447464c27d25781d01f5364d786">&#9670;&nbsp;</a></span>usable_descriptor_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="nodelist_8c.html#a582b5447464c27d25781d01f5364d786">usable_descriptor_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>count_usable_descriptors counts descriptors with these <a class="el" href="classflag.html">flag(s)</a> </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a39712e702247f78a9f824a0c96b2a2b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39712e702247f78a9f824a0c96b2a2b3">&#9670;&nbsp;</a></span>addrs_in_same_network_family()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int addrs_in_same_network_family </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *&#160;</td>
          <td class="paramname"><em>a1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *&#160;</td>
          <td class="paramname"><em>a2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff router1 and router2 have similar enough network addresses that we should treat them as being in the same family </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a39712e702247f78a9f824a0c96b2a2b3_cgraph.png" border="0" usemap="#nodelist_8c_a39712e702247f78a9f824a0c96b2a2b3_cgraph" alt=""/></div>
<map name="nodelist_8c_a39712e702247f78a9f824a0c96b2a2b3_cgraph" id="nodelist_8c_a39712e702247f78a9f824a0c96b2a2b3_cgraph">
<area shape="rect" id="node2" href="address_8c.html#a50ffbc22a605ec09f42d7687588741b9" title="tor_addr_compare_masked" alt="" coords="216,13,395,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a39712e702247f78a9f824a0c96b2a2b3_icgraph.png" border="0" usemap="#nodelist_8c_a39712e702247f78a9f824a0c96b2a2b3_icgraph" alt=""/></div>
<map name="nodelist_8c_a39712e702247f78a9f824a0c96b2a2b3_icgraph" id="nodelist_8c_a39712e702247f78a9f824a0c96b2a2b3_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#aec9e62be44bcfcb1017f1a1190fcba8f" title="nodes_in_same_family" alt="" coords="218,5,373,32"/>
<area shape="rect" id="node3" href="nodelist_8h.html#ac55db6c89a4853244b80165f92d8cba7" title="nodelist_add_node_and\l_family" alt="" coords="216,57,375,98"/>
</map>
</div>

</div>
</div>
<a id="ae883dd13e0b2365df6ce859e79de0bdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae883dd13e0b2365df6ce859e79de0bdf">&#9670;&nbsp;</a></span>count_loading_descriptors_progress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int count_loading_descriptors_progress </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>We just fetched a new set of descriptors. Compute how far through the "loading descriptors" bootstrapping phase we are, so we can inform the controller of our progress. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_ae883dd13e0b2365df6ce859e79de0bdf_cgraph.png" border="0" usemap="#nodelist_8c_ae883dd13e0b2365df6ce859e79de0bdf_cgraph" alt=""/></div>
<map name="nodelist_8c_ae883dd13e0b2365df6ce859e79de0bdf_cgraph" id="nodelist_8c_ae883dd13e0b2365df6ce859e79de0bdf_cgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#a44accdf47b7f9f40b25c45daf2c31475" title="networkstatus_get_reasonably\l_live_consensus" alt="" coords="227,5,425,47"/>
<area shape="rect" id="node3" href="networkstatus_8c.html#a2d356f4ab27d29e60c8f5114974fda96" title="networkstatus_consensus\l_reasonably_live" alt="" coords="473,5,648,47"/>
</map>
</div>

</div>
</div>
<a id="ada6e670aafec4ca8804035153b50400a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada6e670aafec4ca8804035153b50400a">&#9670;&nbsp;</a></span>get_dir_info_status_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* get_dir_info_status_string </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a string describing what we're missing before we have enough directory info. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_ada6e670aafec4ca8804035153b50400a_icgraph.png" border="0" usemap="#nodelist_8c_ada6e670aafec4ca8804035153b50400a_icgraph" alt=""/></div>
<map name="nodelist_8c_ada6e670aafec4ca8804035153b50400a_icgraph" id="nodelist_8c_ada6e670aafec4ca8804035153b50400a_icgraph">
<area shape="rect" id="node2" href="main_8h.html#ac64189cc036980dc5785f76d85db9fa6" title="directory_info_has\l_arrived" alt="" coords="185,5,313,47"/>
</map>
</div>

</div>
</div>
<a id="a2b1d7f95d00fa07b402a02db7e3fea7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b1d7f95d00fa07b402a02db7e3fea7a">&#9670;&nbsp;</a></span>HT_PROTOTYPE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HT_PROTOTYPE </td>
          <td>(</td>
          <td class="paramtype">HT_GENERATE2(&#160;</td>
          <td class="paramname"><em>nodelist_ed_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HT_GENERATE2(&#160;</td>
          <td class="paramname"><em>node_t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HT_GENERATE2(&#160;</td>
          <td class="paramname"><em>ed_ht_ent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HT_GENERATE2(&#160;</td>
          <td class="paramname"><em>node_ed_id_hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HT_GENERATE2(&#160;</td>
          <td class="paramname"><em>node_ed_id_eq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create an empty nodelist if we haven't done so already. </p>

</div>
</div>
<a id="ad51d63695a2d5dbd7d641f2252d08229"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad51d63695a2d5dbd7d641f2252d08229">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[1/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">node_get_mutable_by_id&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(const char *identity_digest)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As node_get_by_id, but returns a non-const pointer </p>

</div>
</div>
<a id="a5c8dce344734590ce49774d7e9ddee91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c8dce344734590ce49774d7e9ddee91">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[2/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">node_get_by_id&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(const char *identity_digest)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the <a class="el" href="structnode__t.html">node_t</a> whose identity is <b>identity_digest</b>, or NULL if no such node exists. </p>

</div>
</div>
<a id="a7d9810eef6e7fa3dba671314108f4230"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d9810eef6e7fa3dba671314108f4230">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[3/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">node_get_by_ed25519_id&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(const <a class="el" href="structed25519__public__key__t.html">ed25519_public_key_t</a> *ed_id)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the <a class="el" href="structnode__t.html">node_t</a> whose ed25519 identity is <b>ed_id</b>, or NULL if no such node exists. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a7d9810eef6e7fa3dba671314108f4230_cgraph.png" border="0" usemap="#nodelist_8c_a7d9810eef6e7fa3dba671314108f4230_cgraph" alt=""/></div>
<map name="nodelist_8c_a7d9810eef6e7fa3dba671314108f4230_cgraph" id="nodelist_8c_a7d9810eef6e7fa3dba671314108f4230_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#a90e8cfa12ac79b216e087f2edf80c26d" title="node_get_mutable_by\l_ed25519_id" alt="" coords="153,5,303,47"/>
</map>
</div>

</div>
</div>
<a id="a6630ce221ef3a0771013ec400a873c55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6630ce221ef3a0771013ec400a873c55">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[4/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nodelist_get_list&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(void)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a list of a <a class="el" href="structnode__t.html">node_t</a> * for every node we know about. The caller MUST NOT modify the list. (You can set and clear flags in the nodes if you must, but you must not add or remove nodes.) </p>

</div>
</div>
<a id="a83914dc16ada99266d18e1ba1d90d18c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83914dc16ada99266d18e1ba1d90d18c">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[5/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">node_get_by_nickname&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(const char *nickname, unsigned flags)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a nickname (possibly verbose, possibly a hexadecimal digest), return the corresponding <a class="el" href="structnode__t.html">node_t</a>, or NULL if none exists. Warn the user if they have specified a router by nickname, unless the NNF_NO_WARN_UNNAMED bit is set in <b>flags</b>. </p>

</div>
</div>
<a id="a487da95d8f7026bb714950516ac5fb95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a487da95d8f7026bb714950516ac5fb95">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[6/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">router_have_minimum_dir_info&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(void)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff we have enough consensus information to start building circuits. Right now, this means "a consensus that's less than a day old, and at least 60% of router descriptors (configurable), weighted by bandwidth. Treat the exit fraction as 100% if there are no exits in the consensus." To obtain the final weighted bandwidth, we multiply the weighted bandwidth fraction for each position (guard, middle, exit). </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a487da95d8f7026bb714950516ac5fb95_cgraph.png" border="0" usemap="#nodelist_8c_a487da95d8f7026bb714950516ac5fb95_cgraph" alt=""/></div>
<map name="nodelist_8c_a487da95d8f7026bb714950516ac5fb95_cgraph" id="nodelist_8c_a487da95d8f7026bb714950516ac5fb95_cgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#aa278011afd1917ef43cc44fac287f7bf" title="should_delay_dir_fetches" alt="" coords="153,5,323,32"/>
</map>
</div>

</div>
</div>
<a id="a40976ed0443d536fc424b6b46e3aa1c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40976ed0443d536fc424b6b46e3aa1c2">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[7/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nodelist_8h.html#ac5376082c57ab5e9ea38cfb2694585b3">consensus_path_type_t</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">router_have_consensus_path&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(void)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set to CONSENSUS_PATH_EXIT if there is at least one exit node in the consensus. We update this flag in compute_frac_paths_available if there is at least one relay that has an Exit flag in the consensus. Used to avoid building exit circuits when they will almost certainly fail. Set to CONSENSUS_PATH_INTERNAL if there are no exits in the consensus. (This situation typically occurs during bootstrap of a test network.) Set to CONSENSUS_PATH_UNKNOWN if we have never checked, or have reason to believe our last known value was invalid or has expired. If we're in a network with TestingDirAuthVoteExit set, this can cause router_have_consensus_path() to be set to CONSENSUS_PATH_EXIT, even if there are no nodes with accept exit policies. </p>

</div>
</div>
<a id="aab99c6a6c0321bb0089ae5606bec73c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab99c6a6c0321bb0089ae5606bec73c4">&#9670;&nbsp;</a></span>node_allows_single_hop_exits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_allows_single_hop_exits </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff it seems that <b>node</b> allows circuits to exit through it directlry from the client. </p>

</div>
</div>
<a id="a9a536b832b4e1fab98d98efed737ffff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a536b832b4e1fab98d98efed737ffff">&#9670;&nbsp;</a></span>node_ed25519_id_matches()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_ed25519_id_matches </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structed25519__public__key__t.html">ed25519_public_key_t</a> *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff this node's Ed25519 identity matches <b>id</b>. (An absent Ed25519 identity matches NULL or zero.) </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a9a536b832b4e1fab98d98efed737ffff_cgraph.png" border="0" usemap="#nodelist_8c_a9a536b832b4e1fab98d98efed737ffff_cgraph" alt=""/></div>
<map name="nodelist_8c_a9a536b832b4e1fab98d98efed737ffff_cgraph" id="nodelist_8c_a9a536b832b4e1fab98d98efed737ffff_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#ad46ce292894cace0427366a53b765602" title="node_get_ed25519_id" alt="" coords="233,5,381,32"/>
<area shape="rect" id="node3" href="crypto__ed25519_8c.html#a1d56281a358363aa105b7032aebc46e4" title="ed25519_public_key\l_is_zero" alt="" coords="237,57,377,98"/>
<area shape="rect" id="node5" href="crypto__ed25519_8c.html#af9396211603b40cf70b930b9ef726ed1" title="ed25519_pubkey_eq" alt="" coords="237,123,378,149"/>
<area shape="rect" id="node4" href="util_8c.html#a7c5079074e649dc0369225eca3073f7d" title="tor_mem_is_zero" alt="" coords="429,64,552,91"/>
<area shape="rect" id="node6" href="di__ops_8c.html#a473334ee93cca0aea10523321a444ea3" title="tor_memeq" alt="" coords="447,123,534,149"/>
</map>
</div>

</div>
</div>
<a id="a4b651f4b727b10e3946fa879944ca7b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b651f4b727b10e3946fa879944ca7b6">&#9670;&nbsp;</a></span>node_exit_policy_is_exact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_exit_policy_is_exact </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sa_family_t&#160;</td>
          <td class="paramname"><em>family</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff the exit policy for <b>node</b> is such that we can treat rejecting an address of type <b>family</b> unexpectedly as a sign of that node's failure. </p>

</div>
</div>
<a id="af789301aabc52c987173ef1c289cdb53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af789301aabc52c987173ef1c289cdb53">&#9670;&nbsp;</a></span>node_exit_policy_rejects_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_exit_policy_rejects_all </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff it seems that <b>node</b> has an exit policy that doesn't actually permit anything to exit, or we don't know its exit policy </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_af789301aabc52c987173ef1c289cdb53_cgraph.png" border="0" usemap="#nodelist_8c_af789301aabc52c987173ef1c289cdb53_cgraph" alt=""/></div>
<map name="nodelist_8c_af789301aabc52c987173ef1c289cdb53_cgraph" id="nodelist_8c_af789301aabc52c987173ef1c289cdb53_cgraph">
<area shape="rect" id="node2" href="policies_8c.html#ae6cae87f58da339d8fba099922f97b05" title="short_policy_is_reject_star" alt="" coords="239,5,416,32"/>
</map>
</div>

</div>
</div>
<a id="ad81a144f3a7aae0ee6a4406c8bcf137b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad81a144f3a7aae0ee6a4406c8bcf137b">&#9670;&nbsp;</a></span>node_get_addr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void node_get_addr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtor__addr__t.html">tor_addr_t</a> *&#160;</td>
          <td class="paramname"><em>addr_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wrapper around node_get_prim_orport for backward compatibility. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_ad81a144f3a7aae0ee6a4406c8bcf137b_cgraph.png" border="0" usemap="#nodelist_8c_ad81a144f3a7aae0ee6a4406c8bcf137b_cgraph" alt=""/></div>
<map name="nodelist_8c_ad81a144f3a7aae0ee6a4406c8bcf137b_cgraph" id="nodelist_8c_ad81a144f3a7aae0ee6a4406c8bcf137b_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#a0ebc2be100c1842a1897987652011bd2" title="node_get_prim_orport" alt="" coords="160,5,307,32"/>
<area shape="rect" id="node3" href="address_8c.html#a139ff425c957e4eed3a766cb48f55f93" title="tor_addr_copy" alt="" coords="181,56,285,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_ad81a144f3a7aae0ee6a4406c8bcf137b_icgraph.png" border="0" usemap="#nodelist_8c_ad81a144f3a7aae0ee6a4406c8bcf137b_icgraph" alt=""/></div>
<map name="nodelist_8c_ad81a144f3a7aae0ee6a4406c8bcf137b_icgraph" id="nodelist_8c_ad81a144f3a7aae0ee6a4406c8bcf137b_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#aec9e62be44bcfcb1017f1a1190fcba8f" title="nodes_in_same_family" alt="" coords="162,5,317,32"/>
<area shape="rect" id="node3" href="nodelist_8h.html#ac55db6c89a4853244b80165f92d8cba7" title="nodelist_add_node_and\l_family" alt="" coords="160,57,319,98"/>
</map>
</div>

</div>
</div>
<a id="a4443f1dae737f5fd5343346601fc2c5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4443f1dae737f5fd5343346601fc2c5f">&#9670;&nbsp;</a></span>node_get_address_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void node_get_address_string </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy a string representation of an IP address for <b>node</b> into the <b>len</b>-byte buffer at <b>buf</b>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a4443f1dae737f5fd5343346601fc2c5f_cgraph.png" border="0" usemap="#nodelist_8c_a4443f1dae737f5fd5343346601fc2c5f_cgraph" alt=""/></div>
<map name="nodelist_8c_a4443f1dae737f5fd5343346601fc2c5f_cgraph" id="nodelist_8c_a4443f1dae737f5fd5343346601fc2c5f_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#aa3e36251eaa066988e1eb7274c60a088" title="node_get_prim_addr\l_ipv4h" alt="" coords="220,5,359,47"/>
</map>
</div>

</div>
</div>
<a id="a551827c8c00ee79f3d3663d11b2b60a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a551827c8c00ee79f3d3663d11b2b60a0">&#9670;&nbsp;</a></span>node_get_all_orports()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsmartlist__t.html">smartlist_t</a>* node_get_all_orports </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return list of <a class="el" href="structtor__addr__port__t.html">tor_addr_port_t</a> with all OR ports (in the sense IP addr + TCP port) for <b>node</b>. Caller must free all elements using <a class="el" href="util_8h.html#a444bab1e00cee1f986af3b16e0493854">tor_free()</a> and free the list using smartlist_free().</p>
<p>XXX this is potentially a memory fragmentation hog &ndash; if on critical path consider the option of having the caller allocate the memory </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a551827c8c00ee79f3d3663d11b2b60a0_icgraph.png" border="0" usemap="#nodelist_8c_a551827c8c00ee79f3d3663d11b2b60a0_icgraph" alt=""/></div>
<map name="nodelist_8c_a551827c8c00ee79f3d3663d11b2b60a0_icgraph" id="nodelist_8c_a551827c8c00ee79f3d3663d11b2b60a0_icgraph">
<area shape="rect" id="node2" href="bridges_8h.html#a823bac0acf5f6b68ab2074757215eac3" title="node_is_a_configured\l_bridge" alt="" coords="196,23,344,65"/>
<area shape="rect" id="node6" href="router_8h.html#a7ca65441213fb44d6dde8432c943a6c3" title="router_get_all_orports" alt="" coords="197,89,343,116"/>
<area shape="rect" id="node3" href="nodelist_8h.html#a5c994699835c0d610e072920f397d6e8" title="node_has_preferred\l_descriptor" alt="" coords="392,23,528,65"/>
<area shape="rect" id="node4" href="circuitbuild_8h.html#ae78b2dc4ee0d019045639d2a33eea506" title="extend_info_from_node" alt="" coords="576,5,733,32"/>
<area shape="rect" id="node5" href="hs__common_8h.html#a9af4bf6fe3cc01d5524f2dd4123573a8" title="hs_pick_hsdir" alt="" coords="603,56,706,83"/>
</map>
</div>

</div>
</div>
<a id="ab876cec61e163d3246f27357c98d0687"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab876cec61e163d3246f27357c98d0687">&#9670;&nbsp;</a></span>node_get_by_hex_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structnode__t.html">node_t</a>* node_get_by_hex_id </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>hex_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a hex-encoded nickname of the format DIGEST, $DIGEST, $DIGEST=name, or $DIGEST~name, return the node with the matching identity digest and nickname (if any). Return NULL if no such node exists, or if <b>hex_id</b> is not well-formed. DOCDOC flags </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_ab876cec61e163d3246f27357c98d0687_cgraph.png" border="0" usemap="#nodelist_8c_ab876cec61e163d3246f27357c98d0687_cgraph" alt=""/></div>
<map name="nodelist_8c_ab876cec61e163d3246f27357c98d0687_cgraph" id="nodelist_8c_ab876cec61e163d3246f27357c98d0687_cgraph">
<area shape="rect" id="node2" href="routerlist_8c.html#a589e19badbee6e0257d94d03dcc40ba7" title="hex_digest_nickname\l_decode" alt="" coords="195,5,343,47"/>
<area shape="rect" id="node3" href="util__format_8c.html#a6942053f58dd619a86734e55a42d7266" title="base16_decode" alt="" coords="391,13,504,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_ab876cec61e163d3246f27357c98d0687_icgraph.png" border="0" usemap="#nodelist_8c_ab876cec61e163d3246f27357c98d0687_icgraph" alt=""/></div>
<map name="nodelist_8c_ab876cec61e163d3246f27357c98d0687_icgraph" id="nodelist_8c_ab876cec61e163d3246f27357c98d0687_icgraph">
<area shape="rect" id="node2" href="control_8c.html#aafbf616bddc3f380f8c682ed7550e3c4" title="getinfo_helper_dir" alt="" coords="195,5,319,32"/>
</map>
</div>

</div>
</div>
<a id="ae546e6f6b3de89e0fea86bd26eb576c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae546e6f6b3de89e0fea86bd26eb576c3">&#9670;&nbsp;</a></span>node_get_curve25519_onion_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structcurve25519__public__key__t.html">curve25519_public_key_t</a>* node_get_curve25519_onion_key </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the curve25519 key of <b>node</b>, or NULL if none. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_ae546e6f6b3de89e0fea86bd26eb576c3_icgraph.png" border="0" usemap="#nodelist_8c_ae546e6f6b3de89e0fea86bd26eb576c3_icgraph" alt=""/></div>
<map name="nodelist_8c_ae546e6f6b3de89e0fea86bd26eb576c3_icgraph" id="nodelist_8c_ae546e6f6b3de89e0fea86bd26eb576c3_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#af1556781ec0c72a9139e3ff51dde7462" title="node_has_curve25519\l_onion_key" alt="" coords="203,5,355,47"/>
<area shape="rect" id="node3" href="circuitbuild_8c.html#a7c877693992f1e20da29c69be890c6f2" title="MOCK_IMPL" alt="" coords="403,13,503,39"/>
</map>
</div>

</div>
</div>
<a id="aedef5331fdf01f16cdd5bbe528aae5db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedef5331fdf01f16cdd5bbe528aae5db">&#9670;&nbsp;</a></span>node_get_declared_family()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structsmartlist__t.html">smartlist_t</a>* node_get_declared_family </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return <b>node</b> declared family (as a list of names), or NULL if the node didn't declare a family. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_aedef5331fdf01f16cdd5bbe528aae5db_icgraph.png" border="0" usemap="#nodelist_8c_aedef5331fdf01f16cdd5bbe528aae5db_icgraph" alt=""/></div>
<map name="nodelist_8c_aedef5331fdf01f16cdd5bbe528aae5db_icgraph" id="nodelist_8c_aedef5331fdf01f16cdd5bbe528aae5db_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#aec9e62be44bcfcb1017f1a1190fcba8f" title="nodes_in_same_family" alt="" coords="229,5,383,32"/>
<area shape="rect" id="node3" href="nodelist_8h.html#ac55db6c89a4853244b80165f92d8cba7" title="nodelist_add_node_and\l_family" alt="" coords="227,57,385,98"/>
</map>
</div>

</div>
</div>
<a id="a88944d6e5a71173c5890ba817363d74f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88944d6e5a71173c5890ba817363d74f">&#9670;&nbsp;</a></span>node_get_declared_uptime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long node_get_declared_uptime </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return <b>node</b>'s declared uptime, or -1 if it doesn't seem to have one. </p>

</div>
</div>
<a id="ad46ce292894cace0427366a53b765602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad46ce292894cace0427366a53b765602">&#9670;&nbsp;</a></span>node_get_ed25519_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structed25519__public__key__t.html">ed25519_public_key_t</a>* node_get_ed25519_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the Ed25519 identity key for the provided node, or NULL if it doesn't have one. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_ad46ce292894cace0427366a53b765602_icgraph.png" border="0" usemap="#nodelist_8c_ad46ce292894cace0427366a53b765602_icgraph" alt=""/></div>
<map name="nodelist_8c_ad46ce292894cace0427366a53b765602_icgraph" id="nodelist_8c_ad46ce292894cace0427366a53b765602_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#ac9a8eefc5429bb575b26374ef24bce88" title="nodelist_remove_microdesc" alt="" coords="201,5,385,32"/>
<area shape="rect" id="node3" href="nodelist_8h.html#a9a536b832b4e1fab98d98efed737ffff" title="node_ed25519_id_matches" alt="" coords="203,56,383,83"/>
<area shape="rect" id="node4" href="nodelist_8h.html#a798e84107f21829549b67e28dca267ef" title="node_supports_ed25519\l_link_authentication" alt="" coords="212,107,375,149"/>
<area shape="rect" id="node5" href="dirserv_8h.html#a2b981b610d4a3344b17a55300072ef66" title="dirserv_orconn_tls_done" alt="" coords="454,89,617,116"/>
<area shape="rect" id="node6" href="dirserv_8h.html#a87235a887afe2a5f796bd9a88b474909" title="dirserv_single_reachability_test" alt="" coords="433,140,637,167"/>
<area shape="rect" id="node7" href="dirserv_8h.html#aac91a65fca7d877c033a594a96203ad7" title="dirserv_test_reachability" alt="" coords="685,111,848,137"/>
<area shape="rect" id="node8" href="routerlist_8h.html#ad0e00a6f0df9aace49976da496902957" title="routerlist_descriptors\l_added" alt="" coords="695,162,838,203"/>
</map>
</div>

</div>
</div>
<a id="a90e8cfa12ac79b216e087f2edf80c26d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90e8cfa12ac79b216e087f2edf80c26d">&#9670;&nbsp;</a></span>node_get_mutable_by_ed25519_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnode__t.html">node_t</a>* node_get_mutable_by_ed25519_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structed25519__public__key__t.html">ed25519_public_key_t</a> *&#160;</td>
          <td class="paramname"><em>ed_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As node_get_by_ed25519_id, but returns a non-const pointer </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a90e8cfa12ac79b216e087f2edf80c26d_icgraph.png" border="0" usemap="#nodelist_8c_a90e8cfa12ac79b216e087f2edf80c26d_icgraph" alt=""/></div>
<map name="nodelist_8c_a90e8cfa12ac79b216e087f2edf80c26d_icgraph" id="nodelist_8c_a90e8cfa12ac79b216e087f2edf80c26d_icgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#a7d9810eef6e7fa3dba671314108f4230" title="MOCK_IMPL" alt="" coords="203,13,303,39"/>
</map>
</div>

</div>
</div>
<a id="a6d458e5290092933bd5c1aae33b2654f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d458e5290092933bd5c1aae33b2654f">&#9670;&nbsp;</a></span>node_get_nickname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* node_get_nickname </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the nickname of <b>node</b>, or NULL if we can't find one. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a6d458e5290092933bd5c1aae33b2654f_icgraph.png" border="0" usemap="#nodelist_8c_a6d458e5290092933bd5c1aae33b2654f_icgraph" alt=""/></div>
<map name="nodelist_8c_a6d458e5290092933bd5c1aae33b2654f_icgraph" id="nodelist_8c_a6d458e5290092933bd5c1aae33b2654f_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#ae942465b949bf8cc1006ddd3e9c61221" title="node_get_verbose_nickname" alt="" coords="192,35,383,61"/>
<area shape="rect" id="node3" href="control_8h.html#a3215ddc475a10ee916377da0a97e62f2" title="control_event_guard" alt="" coords="457,5,595,32"/>
<area shape="rect" id="node4" href="nodelist_8h.html#a111b3704de6d40d874d64dbced6bb9ae" title="node_get_verbose_nickname\l_by_id" alt="" coords="431,57,621,98"/>
<area shape="rect" id="node5" href="control_8c.html#a000c7faf94744c2b3a6f1753b513e5ae" title="MOCK_IMPL" alt="" coords="669,64,769,91"/>
</map>
</div>

</div>
</div>
<a id="a208074d4744cf167732b3376ec3497d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a208074d4744cf167732b3376ec3497d9">&#9670;&nbsp;</a></span>node_get_platform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* node_get_platform </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return <b>node</b>'s platform string, or NULL if we don't know it. </p>

</div>
</div>
<a id="a5bd9762680c598db0631e253a049286c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bd9762680c598db0631e253a049286c">&#9670;&nbsp;</a></span>node_get_pref_dirport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void node_get_pref_dirport </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtor__addr__port__t.html">tor_addr_port_t</a> *&#160;</td>
          <td class="paramname"><em>ap_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy the preferred Dir port (IP address and TCP port) for <b>node</b> into *<b>ap_out</b>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a5bd9762680c598db0631e253a049286c_cgraph.png" border="0" usemap="#nodelist_8c_a5bd9762680c598db0631e253a049286c_cgraph" alt=""/></div>
<map name="nodelist_8c_a5bd9762680c598db0631e253a049286c_cgraph" id="nodelist_8c_a5bd9762680c598db0631e253a049286c_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#a8373d8f61ea9f7578bd08da55a1f51d6" title="node_ipv6_dir_preferred" alt="" coords="200,5,360,32"/>
<area shape="rect" id="node3" href="nodelist_8c.html#ab477acbccc5f29dd0d4a94a369238e94" title="node_get_pref_ipv6\l_dirport" alt="" coords="213,57,347,98"/>
<area shape="rect" id="node4" href="nodelist_8c.html#a7e83eb9a2fc9bf086269ed5c03608084" title="node_get_prim_dirport" alt="" coords="205,123,355,149"/>
</map>
</div>

</div>
</div>
<a id="ab477acbccc5f29dd0d4a94a369238e94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab477acbccc5f29dd0d4a94a369238e94">&#9670;&nbsp;</a></span>node_get_pref_ipv6_dirport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void node_get_pref_ipv6_dirport </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtor__addr__port__t.html">tor_addr_port_t</a> *&#160;</td>
          <td class="paramname"><em>ap_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy the preferred IPv6 Dir port (IP address and TCP port) for <b>node</b> into *<b>ap_out</b>. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_ab477acbccc5f29dd0d4a94a369238e94_icgraph.png" border="0" usemap="#nodelist_8c_ab477acbccc5f29dd0d4a94a369238e94_icgraph" alt=""/></div>
<map name="nodelist_8c_ab477acbccc5f29dd0d4a94a369238e94_icgraph" id="nodelist_8c_ab477acbccc5f29dd0d4a94a369238e94_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#a5bd9762680c598db0631e253a049286c" title="node_get_pref_dirport" alt="" coords="188,13,335,39"/>
</map>
</div>

</div>
</div>
<a id="aea2206686417d73f6e2446a08a178d4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea2206686417d73f6e2446a08a178d4d">&#9670;&nbsp;</a></span>node_get_pref_ipv6_orport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void node_get_pref_ipv6_orport </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtor__addr__port__t.html">tor_addr_port_t</a> *&#160;</td>
          <td class="paramname"><em>ap_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy the preferred IPv6 OR port (IP address and TCP port) for <b>node</b> into *<b>ap_out</b>. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_aea2206686417d73f6e2446a08a178d4d_icgraph.png" border="0" usemap="#nodelist_8c_aea2206686417d73f6e2446a08a178d4d_icgraph" alt=""/></div>
<map name="nodelist_8c_aea2206686417d73f6e2446a08a178d4d_icgraph" id="nodelist_8c_aea2206686417d73f6e2446a08a178d4d_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#a07d582a1a612673f07f31a2bd81ba3ac" title="node_get_pref_orport" alt="" coords="188,13,332,39"/>
</map>
</div>

</div>
</div>
<a id="a07d582a1a612673f07f31a2bd81ba3ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07d582a1a612673f07f31a2bd81ba3ac">&#9670;&nbsp;</a></span>node_get_pref_orport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void node_get_pref_orport </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtor__addr__port__t.html">tor_addr_port_t</a> *&#160;</td>
          <td class="paramname"><em>ap_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy the preferred OR port (IP address and TCP port) for <b>node</b> into *<b>ap_out</b>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a07d582a1a612673f07f31a2bd81ba3ac_cgraph.png" border="0" usemap="#nodelist_8c_a07d582a1a612673f07f31a2bd81ba3ac_cgraph" alt=""/></div>
<map name="nodelist_8c_a07d582a1a612673f07f31a2bd81ba3ac_cgraph" id="nodelist_8c_a07d582a1a612673f07f31a2bd81ba3ac_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#ace86e6613cbb306f8cdca306dc7303d5" title="node_ipv6_or_preferred" alt="" coords="197,5,355,32"/>
<area shape="rect" id="node3" href="nodelist_8c.html#aea2206686417d73f6e2446a08a178d4d" title="node_get_pref_ipv6\l_orport" alt="" coords="209,57,343,98"/>
<area shape="rect" id="node4" href="nodelist_8c.html#a0ebc2be100c1842a1897987652011bd2" title="node_get_prim_orport" alt="" coords="203,123,349,149"/>
</map>
</div>

</div>
</div>
<a id="aa3e36251eaa066988e1eb7274c60a088"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3e36251eaa066988e1eb7274c60a088">&#9670;&nbsp;</a></span>node_get_prim_addr_ipv4h()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t node_get_prim_addr_ipv4h </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the host-order IPv4 address for <b>node</b>, or 0 if it doesn't seem to have one. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_aa3e36251eaa066988e1eb7274c60a088_icgraph.png" border="0" usemap="#nodelist_8c_aa3e36251eaa066988e1eb7274c60a088_icgraph" alt=""/></div>
<map name="nodelist_8c_aa3e36251eaa066988e1eb7274c60a088_icgraph" id="nodelist_8c_aa3e36251eaa066988e1eb7274c60a088_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#a26722c84f3cca6a45c8e6e86fe4a5dc6" title="node_get_address_string" alt="" coords="192,13,359,39"/>
</map>
</div>

</div>
</div>
<a id="a7e83eb9a2fc9bf086269ed5c03608084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e83eb9a2fc9bf086269ed5c03608084">&#9670;&nbsp;</a></span>node_get_prim_dirport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void node_get_prim_dirport </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtor__addr__port__t.html">tor_addr_port_t</a> *&#160;</td>
          <td class="paramname"><em>ap_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy the primary (IPv4) Dir port (IP address and TCP port) for <b>node</b> into *<b>ap_out</b>. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a7e83eb9a2fc9bf086269ed5c03608084_icgraph.png" border="0" usemap="#nodelist_8c_a7e83eb9a2fc9bf086269ed5c03608084_icgraph" alt=""/></div>
<map name="nodelist_8c_a7e83eb9a2fc9bf086269ed5c03608084_icgraph" id="nodelist_8c_a7e83eb9a2fc9bf086269ed5c03608084_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#a5bd9762680c598db0631e253a049286c" title="node_get_pref_dirport" alt="" coords="204,5,351,32"/>
</map>
</div>

</div>
</div>
<a id="a0ebc2be100c1842a1897987652011bd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ebc2be100c1842a1897987652011bd2">&#9670;&nbsp;</a></span>node_get_prim_orport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void node_get_prim_orport </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtor__addr__port__t.html">tor_addr_port_t</a> *&#160;</td>
          <td class="paramname"><em>ap_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy the primary (IPv4) OR port (IP address and TCP port) for <b>node</b> into *<b>ap_out</b>. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a0ebc2be100c1842a1897987652011bd2_icgraph.png" border="0" usemap="#nodelist_8c_a0ebc2be100c1842a1897987652011bd2_icgraph" alt=""/></div>
<map name="nodelist_8c_a0ebc2be100c1842a1897987652011bd2_icgraph" id="nodelist_8c_a0ebc2be100c1842a1897987652011bd2_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#ad81a144f3a7aae0ee6a4406c8bcf137b" title="node_get_addr" alt="" coords="219,35,325,61"/>
<area shape="rect" id="node5" href="nodelist_8h.html#a07d582a1a612673f07f31a2bd81ba3ac" title="node_get_pref_orport" alt="" coords="200,85,344,112"/>
<area shape="rect" id="node3" href="nodelist_8h.html#aec9e62be44bcfcb1017f1a1190fcba8f" title="nodes_in_same_family" alt="" coords="394,5,549,32"/>
<area shape="rect" id="node4" href="nodelist_8h.html#ac55db6c89a4853244b80165f92d8cba7" title="nodelist_add_node_and\l_family" alt="" coords="392,57,551,98"/>
</map>
</div>

</div>
</div>
<a id="ab43ea384ab6fafd3d360460011ec2a43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab43ea384ab6fafd3d360460011ec2a43">&#9670;&nbsp;</a></span>node_get_purpose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_get_purpose </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the router_purpose of <b>node</b>. </p>

</div>
</div>
<a id="ace0bc5c8f6d6591b7fd56a80d274d051"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace0bc5c8f6d6591b7fd56a80d274d051">&#9670;&nbsp;</a></span>node_get_rsa_id_digest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t* node_get_rsa_id_digest </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the RSA ID key's SHA1 digest for the provided node. </p>

</div>
</div>
<a id="ae942465b949bf8cc1006ddd3e9c61221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae942465b949bf8cc1006ddd3e9c61221">&#9670;&nbsp;</a></span>node_get_verbose_nickname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void node_get_verbose_nickname </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>verbose_name_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the verbose ("extended") nickname of <b>node</b> and store it into the MAX_VERBOSE_NICKNAME_LEN+1 character buffer at <b>verbose_name_out</b> </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_ae942465b949bf8cc1006ddd3e9c61221_cgraph.png" border="0" usemap="#nodelist_8c_ae942465b949bf8cc1006ddd3e9c61221_cgraph" alt=""/></div>
<map name="nodelist_8c_ae942465b949bf8cc1006ddd3e9c61221_cgraph" id="nodelist_8c_ae942465b949bf8cc1006ddd3e9c61221_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#a6d458e5290092933bd5c1aae33b2654f" title="node_get_nickname" alt="" coords="244,5,383,32"/>
<area shape="rect" id="node3" href="util__format_8c.html#a8b8940b2ef607928eb3dca4850567ea5" title="base16_encode" alt="" coords="257,56,370,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_ae942465b949bf8cc1006ddd3e9c61221_icgraph.png" border="0" usemap="#nodelist_8c_ae942465b949bf8cc1006ddd3e9c61221_icgraph" alt=""/></div>
<map name="nodelist_8c_ae942465b949bf8cc1006ddd3e9c61221_icgraph" id="nodelist_8c_ae942465b949bf8cc1006ddd3e9c61221_icgraph">
<area shape="rect" id="node2" href="control_8h.html#a3215ddc475a10ee916377da0a97e62f2" title="control_event_guard" alt="" coords="270,5,409,32"/>
<area shape="rect" id="node3" href="nodelist_8h.html#a111b3704de6d40d874d64dbced6bb9ae" title="node_get_verbose_nickname\l_by_id" alt="" coords="244,57,435,98"/>
<area shape="rect" id="node4" href="control_8c.html#a000c7faf94744c2b3a6f1753b513e5ae" title="MOCK_IMPL" alt="" coords="483,64,583,91"/>
</map>
</div>

</div>
</div>
<a id="a111b3704de6d40d874d64dbced6bb9ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a111b3704de6d40d874d64dbced6bb9ae">&#9670;&nbsp;</a></span>node_get_verbose_nickname_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void node_get_verbose_nickname_by_id </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id_digest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>verbose_name_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the verbose ("extended") nickname of node with given <b>id_digest</b> and store it into the MAX_VERBOSE_NICKNAME_LEN+1 character buffer at <b>verbose_name_out</b></p>
<p>If node_get_by_id() returns NULL, base 16 encoding of <b>id_digest</b> is returned instead. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a111b3704de6d40d874d64dbced6bb9ae_cgraph.png" border="0" usemap="#nodelist_8c_a111b3704de6d40d874d64dbced6bb9ae_cgraph" alt=""/></div>
<map name="nodelist_8c_a111b3704de6d40d874d64dbced6bb9ae_cgraph" id="nodelist_8c_a111b3704de6d40d874d64dbced6bb9ae_cgraph">
<area shape="rect" id="node2" href="util__format_8c.html#a8b8940b2ef607928eb3dca4850567ea5" title="base16_encode" alt="" coords="495,5,609,32"/>
<area shape="rect" id="node3" href="nodelist_8c.html#ae942465b949bf8cc1006ddd3e9c61221" title="node_get_verbose_nickname" alt="" coords="244,56,435,83"/>
<area shape="rect" id="node4" href="nodelist_8c.html#a6d458e5290092933bd5c1aae33b2654f" title="node_get_nickname" alt="" coords="483,56,621,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a111b3704de6d40d874d64dbced6bb9ae_icgraph.png" border="0" usemap="#nodelist_8c_a111b3704de6d40d874d64dbced6bb9ae_icgraph" alt=""/></div>
<map name="nodelist_8c_a111b3704de6d40d874d64dbced6bb9ae_icgraph" id="nodelist_8c_a111b3704de6d40d874d64dbced6bb9ae_icgraph">
<area shape="rect" id="node2" href="control_8c.html#a000c7faf94744c2b3a6f1753b513e5ae" title="MOCK_IMPL" alt="" coords="244,13,344,39"/>
</map>
</div>

</div>
</div>
<a id="a6ff6766a6318de4dc59e0e7280d0afb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ff6766a6318de4dc59e0e7280d0afb6">&#9670;&nbsp;</a></span>node_has_any_descriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_has_any_descriptor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>node</b> has either kind of descriptor &ndash; that is, a routerdescriptor or a microdescriptor.</p>
<p>You should probably use <a class="el" href="nodelist_8c.html#a5c994699835c0d610e072920f397d6e8">node_has_preferred_descriptor()</a> instead. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a6ff6766a6318de4dc59e0e7280d0afb6_icgraph.png" border="0" usemap="#nodelist_8c_a6ff6766a6318de4dc59e0e7280d0afb6_icgraph" alt=""/></div>
<map name="nodelist_8c_a6ff6766a6318de4dc59e0e7280d0afb6_icgraph" id="nodelist_8c_a6ff6766a6318de4dc59e0e7280d0afb6_icgraph">
<area shape="rect" id="node2" href="circuitbuild_8c.html#a7c877693992f1e20da29c69be890c6f2" title="MOCK_IMPL" alt="" coords="224,5,324,32"/>
</map>
</div>

</div>
</div>
<a id="af1556781ec0c72a9139e3ff51dde7462"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1556781ec0c72a9139e3ff51dde7462">&#9670;&nbsp;</a></span>node_has_curve25519_onion_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_has_curve25519_onion_key </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>node</b> has a curve25519 onion key. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_af1556781ec0c72a9139e3ff51dde7462_cgraph.png" border="0" usemap="#nodelist_8c_af1556781ec0c72a9139e3ff51dde7462_cgraph" alt=""/></div>
<map name="nodelist_8c_af1556781ec0c72a9139e3ff51dde7462_cgraph" id="nodelist_8c_af1556781ec0c72a9139e3ff51dde7462_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#ae546e6f6b3de89e0fea86bd26eb576c3" title="node_get_curve25519\l_onion_key" alt="" coords="205,5,355,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_af1556781ec0c72a9139e3ff51dde7462_icgraph.png" border="0" usemap="#nodelist_8c_af1556781ec0c72a9139e3ff51dde7462_icgraph" alt=""/></div>
<map name="nodelist_8c_af1556781ec0c72a9139e3ff51dde7462_icgraph" id="nodelist_8c_af1556781ec0c72a9139e3ff51dde7462_icgraph">
<area shape="rect" id="node2" href="circuitbuild_8c.html#a7c877693992f1e20da29c69be890c6f2" title="MOCK_IMPL" alt="" coords="205,13,305,39"/>
</map>
</div>

</div>
</div>
<a id="a5c994699835c0d610e072920f397d6e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c994699835c0d610e072920f397d6e8">&#9670;&nbsp;</a></span>node_has_preferred_descriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_has_preferred_descriptor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>for_direct_connect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>node</b> has the kind of descriptor we would prefer to use for it, given our configuration and how we intend to use the node.</p>
<p>If <b>for_direct_connect</b> is true, we intend to connect to the node directly, as the first hop of a circuit; otherwise, we intend to connect to it indirectly, or use it as if we were connecting to it indirectly. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a5c994699835c0d610e072920f397d6e8_cgraph.png" border="0" usemap="#nodelist_8c_a5c994699835c0d610e072920f397d6e8_cgraph" alt=""/></div>
<map name="nodelist_8c_a5c994699835c0d610e072920f397d6e8_cgraph" id="nodelist_8c_a5c994699835c0d610e072920f397d6e8_cgraph">
<area shape="rect" id="node2" href="bridges_8c.html#a823bac0acf5f6b68ab2074757215eac3" title="node_is_a_configured\l_bridge" alt="" coords="201,27,349,69"/>
<area shape="rect" id="node9" href="microdesc_8c.html#adeff3a88aa40b67ab6407bda5c941910" title="we_use_microdescriptors\l_for_circuits" alt="" coords="189,93,360,134"/>
<area shape="rect" id="node3" href="nodelist_8c.html#a551827c8c00ee79f3d3663d11b2b60a0" title="node_get_all_orports" alt="" coords="411,5,554,32"/>
<area shape="rect" id="node4" href="bridges_8c.html#a6eaa7d5502639e1e5a484dcfddbba7d0" title="get_configured_bridge\l_by_orports_digest" alt="" coords="408,57,557,98"/>
<area shape="rect" id="node5" href="util_8c.html#add0703747195c2abd042572426e80266" title="tor_digest_is_zero" alt="" coords="605,39,733,65"/>
<area shape="rect" id="node7" href="address_8c.html#a5d0ab0962a11944d8f8b0c4e4d6c395b" title="tor_addr_compare" alt="" coords="606,89,733,116"/>
<area shape="rect" id="node6" href="di__ops_8c.html#a473334ee93cca0aea10523321a444ea3" title="tor_memeq" alt="" coords="827,39,914,65"/>
<area shape="rect" id="node8" href="address_8c.html#a50ffbc22a605ec09f42d7687588741b9" title="tor_addr_compare_masked" alt="" coords="781,89,960,116"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a5c994699835c0d610e072920f397d6e8_icgraph.png" border="0" usemap="#nodelist_8c_a5c994699835c0d610e072920f397d6e8_icgraph" alt=""/></div>
<map name="nodelist_8c_a5c994699835c0d610e072920f397d6e8_icgraph" id="nodelist_8c_a5c994699835c0d610e072920f397d6e8_icgraph">
<area shape="rect" id="node2" href="circuitbuild_8h.html#ae78b2dc4ee0d019045639d2a33eea506" title="extend_info_from_node" alt="" coords="189,5,347,32"/>
<area shape="rect" id="node3" href="hs__common_8h.html#a9af4bf6fe3cc01d5524f2dd4123573a8" title="hs_pick_hsdir" alt="" coords="217,56,319,83"/>
</map>
</div>

</div>
</div>
<a id="a8373d8f61ea9f7578bd08da55a1f51d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8373d8f61ea9f7578bd08da55a1f51d6">&#9670;&nbsp;</a></span>node_ipv6_dir_preferred()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_ipv6_dir_preferred </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 1 if we prefer the IPv6 address and Dir TCP port of <b>node</b>, else 0.</p>
<p>We prefer the IPv6 address if the router has an IPv6 address, and we can use IPv6 addresses, and: i) the router has no IPv4 Dir address. or ii) our preference is for IPv6 Dir addresses.</p>
<p>If there is no node, use <a class="el" href="policies_8c.html#aa245227fb852bdc7df86b453a61ee45f">fascist_firewall_prefer_ipv6_dirport()</a>. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a8373d8f61ea9f7578bd08da55a1f51d6_icgraph.png" border="0" usemap="#nodelist_8c_a8373d8f61ea9f7578bd08da55a1f51d6_icgraph" alt=""/></div>
<map name="nodelist_8c_a8373d8f61ea9f7578bd08da55a1f51d6_icgraph" id="nodelist_8c_a8373d8f61ea9f7578bd08da55a1f51d6_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#a5bd9762680c598db0631e253a049286c" title="node_get_pref_dirport" alt="" coords="213,5,360,32"/>
</map>
</div>

</div>
</div>
<a id="ace86e6613cbb306f8cdca306dc7303d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace86e6613cbb306f8cdca306dc7303d5">&#9670;&nbsp;</a></span>node_ipv6_or_preferred()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_ipv6_or_preferred </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 1 if we prefer the IPv6 address and OR TCP port of <b>node</b>, else 0.</p>
<p>We prefer the IPv6 address if the router has an IPv6 address, and we can use IPv6 addresses, and: i) the <a class="el" href="structnode__t.html">node_t</a> says that it prefers IPv6 or ii) the router has no IPv4 OR address.</p>
<p>If you don't have a node, consider looking it up. If there is no node, use <a class="el" href="policies_8c.html#aca4c25c3129c2e3f4fe3b7732cdcfa23">fascist_firewall_prefer_ipv6_orport()</a>. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_ace86e6613cbb306f8cdca306dc7303d5_icgraph.png" border="0" usemap="#nodelist_8c_ace86e6613cbb306f8cdca306dc7303d5_icgraph" alt=""/></div>
<map name="nodelist_8c_ace86e6613cbb306f8cdca306dc7303d5_icgraph" id="nodelist_8c_ace86e6613cbb306f8cdca306dc7303d5_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#a07d582a1a612673f07f31a2bd81ba3ac" title="node_get_pref_orport" alt="" coords="211,5,355,32"/>
</map>
</div>

</div>
</div>
<a id="a77b3951a642f54746fa04cb65a0a30c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77b3951a642f54746fa04cb65a0a30c4">&#9670;&nbsp;</a></span>node_is_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_is_dir </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>node</b> appears to be a directory authority or directory cache </p>

</div>
</div>
<a id="a6849fb3c0f5d471d3d13f1502fc2ba8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6849fb3c0f5d471d3d13f1502fc2ba8b">&#9670;&nbsp;</a></span>node_is_me()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_is_me </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>node</b> is one representing this router. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a6849fb3c0f5d471d3d13f1502fc2ba8b_cgraph.png" border="0" usemap="#nodelist_8c_a6849fb3c0f5d471d3d13f1502fc2ba8b_cgraph" alt=""/></div>
<map name="nodelist_8c_a6849fb3c0f5d471d3d13f1502fc2ba8b_cgraph" id="nodelist_8c_a6849fb3c0f5d471d3d13f1502fc2ba8b_cgraph">
<area shape="rect" id="node2" href="router_8c.html#abeb0f38915a46f77352900604075d82f" title="router_digest_is_me" alt="" coords="145,5,284,32"/>
<area shape="rect" id="node3" href="di__ops_8c.html#a473334ee93cca0aea10523321a444ea3" title="tor_memeq" alt="" coords="332,5,419,32"/>
</map>
</div>

</div>
</div>
<a id="a78e60dd983647dd0229d85517eba6921"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78e60dd983647dd0229d85517eba6921">&#9670;&nbsp;</a></span>node_is_unreliable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_is_unreliable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>need_uptime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>need_capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>need_guard</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 1 if <b>router</b> is not suitable for these parameters, else 0. If <b>need_uptime</b> is non-zero, we require a minimum uptime. If <b>need_capacity</b> is non-zero, we require a minimum advertised bandwidth. If <b>need_guard</b>, we require that the router is a possible entry guard. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a78e60dd983647dd0229d85517eba6921_icgraph.png" border="0" usemap="#nodelist_8c_a78e60dd983647dd0229d85517eba6921_icgraph" alt=""/></div>
<map name="nodelist_8c_a78e60dd983647dd0229d85517eba6921_icgraph" id="nodelist_8c_a78e60dd983647dd0229d85517eba6921_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#a86dbd7165aba1d9d8cdd6bb2c2b5d6c7" title="router_exit_policy\l_all_nodes_reject" alt="" coords="183,5,307,47"/>
</map>
</div>

</div>
</div>
<a id="acca4d59803258ee170491868c5cb4824"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acca4d59803258ee170491868c5cb4824">&#9670;&nbsp;</a></span>node_set_country()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void node_set_country </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Refresh the country code of <b>ri</b>. This function MUST be called on each router when the GeoIP database is reloaded, and on all new routers. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_acca4d59803258ee170491868c5cb4824_icgraph.png" border="0" usemap="#nodelist_8c_acca4d59803258ee170491868c5cb4824_icgraph" alt=""/></div>
<map name="nodelist_8c_acca4d59803258ee170491868c5cb4824_icgraph" id="nodelist_8c_acca4d59803258ee170491868c5cb4824_icgraph">
<area shape="rect" id="node2" href="nodelist_8h.html#a2f725fda356a7135d8997a544bcd0875" title="nodelist_refresh_countries" alt="" coords="179,5,353,32"/>
<area shape="rect" id="node3" href="routerlist_8h.html#a8989395a52cfb9cb553c9eebf44395eb" title="refresh_all_country_info" alt="" coords="401,5,561,32"/>
</map>
</div>

</div>
</div>
<a id="afce3465f9a9cf3e59248e2873a07d9a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afce3465f9a9cf3e59248e2873a07d9a1">&#9670;&nbsp;</a></span>node_supports_ed25519_hs_intro()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_supports_ed25519_hs_intro </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>node</b> supports ed25519 authentication as an hidden service introduction point. </p>

</div>
</div>
<a id="a798e84107f21829549b67e28dca267ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a798e84107f21829549b67e28dca267ef">&#9670;&nbsp;</a></span>node_supports_ed25519_link_authentication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_supports_ed25519_link_authentication </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>compatible_with_us</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>node</b> supports authenticating itself by ed25519 ID during the link handshake. If <b>compatible_with_us</b>, it needs to be using a link authentication method that we understand. If not, any plausible link authentication method will do. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a798e84107f21829549b67e28dca267ef_cgraph.png" border="0" usemap="#nodelist_8c_a798e84107f21829549b67e28dca267ef_cgraph" alt=""/></div>
<map name="nodelist_8c_a798e84107f21829549b67e28dca267ef_cgraph" id="nodelist_8c_a798e84107f21829549b67e28dca267ef_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#ad46ce292894cace0427366a53b765602" title="node_get_ed25519_id" alt="" coords="216,13,364,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a798e84107f21829549b67e28dca267ef_icgraph.png" border="0" usemap="#nodelist_8c_a798e84107f21829549b67e28dca267ef_icgraph" alt=""/></div>
<map name="nodelist_8c_a798e84107f21829549b67e28dca267ef_icgraph" id="nodelist_8c_a798e84107f21829549b67e28dca267ef_icgraph">
<area shape="rect" id="node2" href="dirserv_8h.html#a2b981b610d4a3344b17a55300072ef66" title="dirserv_orconn_tls_done" alt="" coords="237,5,399,32"/>
<area shape="rect" id="node3" href="dirserv_8h.html#a87235a887afe2a5f796bd9a88b474909" title="dirserv_single_reachability_test" alt="" coords="216,56,420,83"/>
<area shape="rect" id="node4" href="dirserv_8h.html#aac91a65fca7d877c033a594a96203ad7" title="dirserv_test_reachability" alt="" coords="468,27,631,53"/>
<area shape="rect" id="node5" href="routerlist_8h.html#ad0e00a6f0df9aace49976da496902957" title="routerlist_descriptors\l_added" alt="" coords="478,78,621,119"/>
</map>
</div>

</div>
</div>
<a id="a4aaa74e1833887fd55ce3d1cd1e10740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4aaa74e1833887fd55ce3d1cd1e10740">&#9670;&nbsp;</a></span>node_supports_v3_hsdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_supports_v3_hsdir </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>node</b> supports the hidden service directory version 3 protocol (proposal 224). </p>

</div>
</div>
<a id="a08c137bb848250b0bcdb88eb4485a8a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08c137bb848250b0bcdb88eb4485a8a0">&#9670;&nbsp;</a></span>node_supports_v3_rendezvous_point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_supports_v3_rendezvous_point </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>node</b> supports to be a rendezvous point for hidden service version 3 (HSRend=2). </p>

</div>
</div>
<a id="adb19aadaea2f66c7aff8775afa3aec0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb19aadaea2f66c7aff8775afa3aec0a">&#9670;&nbsp;</a></span>nodelist_add_microdesc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnode__t.html">node_t</a>* nodelist_add_microdesc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmicrodesc__t.html">microdesc_t</a> *&#160;</td>
          <td class="paramname"><em>md</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the appropriate <a class="el" href="structnode__t.html">node_t</a> to use <b>md</b> as its microdescriptor.</p>
<p>Called when a new microdesc has arrived and the usable consensus flavor is "microdesc". </p>

</div>
</div>
<a id="a24886a04f40cf28a397681c8af3d10b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24886a04f40cf28a397681c8af3d10b9">&#9670;&nbsp;</a></span>nodelist_add_node_and_family()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nodelist_add_node_and_family </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>sl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add all the family of <b>node</b>, including <b>node</b> itself, to the smartlist <b>sl</b>.</p>
<p>This is used to make sure we don't pick siblings in a single path, or pick more than one relay from a family for our entry guard list. Note that a node may be added to <b>sl</b> more than once if it is part of <b>node</b>'s family for more than one reason. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a24886a04f40cf28a397681c8af3d10b9_cgraph.png" border="0" usemap="#nodelist_8c_a24886a04f40cf28a397681c8af3d10b9_cgraph" alt=""/></div>
<map name="nodelist_8c_a24886a04f40cf28a397681c8af3d10b9_cgraph" id="nodelist_8c_a24886a04f40cf28a397681c8af3d10b9_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#aedef5331fdf01f16cdd5bbe528aae5db" title="node_get_declared_family" alt="" coords="212,5,385,32"/>
<area shape="rect" id="node3" href="container_8c.html#accf59a8b7d39a4286ff99653b6878006" title="smartlist_add" alt="" coords="249,56,349,83"/>
<area shape="rect" id="node4" href="nodelist_8c.html#ad81a144f3a7aae0ee6a4406c8bcf137b" title="node_get_addr" alt="" coords="245,107,352,133"/>
<area shape="rect" id="node7" href="nodelist_8c.html#a39712e702247f78a9f824a0c96b2a2b3" title="addrs_in_same_network\l_family" alt="" coords="217,158,380,199"/>
<area shape="rect" id="node5" href="nodelist_8c.html#a0ebc2be100c1842a1897987652011bd2" title="node_get_prim_orport" alt="" coords="449,60,596,87"/>
<area shape="rect" id="node6" href="address_8c.html#a139ff425c957e4eed3a766cb48f55f93" title="tor_addr_copy" alt="" coords="471,111,575,137"/>
<area shape="rect" id="node8" href="address_8c.html#a50ffbc22a605ec09f42d7687588741b9" title="tor_addr_compare_masked" alt="" coords="433,165,612,192"/>
</map>
</div>

</div>
</div>
<a id="af4c2088785ce22b0dcc6d15dea714da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4c2088785ce22b0dcc6d15dea714da1">&#9670;&nbsp;</a></span>nodelist_assert_ok()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nodelist_assert_ok </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check that the nodelist is internally consistent, and consistent with the directory info it's derived from. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_af4c2088785ce22b0dcc6d15dea714da1_cgraph.png" border="0" usemap="#nodelist_8c_af4c2088785ce22b0dcc6d15dea714da1_cgraph" alt=""/></div>
<map name="nodelist_8c_af4c2088785ce22b0dcc6d15dea714da1_cgraph" id="nodelist_8c_af4c2088785ce22b0dcc6d15dea714da1_cgraph">
<area shape="rect" id="node2" href="routerlist_8c.html#a9181bbed0ee6ff8088a7c53fc8c446f1" title="router_get_routerlist" alt="" coords="184,5,321,32"/>
</map>
</div>

</div>
</div>
<a id="a63eb500002534ffb8e479777013a81d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63eb500002534ffb8e479777013a81d0">&#9670;&nbsp;</a></span>nodelist_find_nodes_with_microdesc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsmartlist__t.html">smartlist_t</a>* nodelist_find_nodes_with_microdesc </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmicrodesc__t.html">microdesc_t</a> *&#160;</td>
          <td class="paramname"><em>md</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a newly allocated smartlist of the nodes that have <b>md</b> as their microdescriptor. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a63eb500002534ffb8e479777013a81d0_cgraph.png" border="0" usemap="#nodelist_8c_a63eb500002534ffb8e479777013a81d0_cgraph" alt=""/></div>
<map name="nodelist_8c_a63eb500002534ffb8e479777013a81d0_cgraph" id="nodelist_8c_a63eb500002534ffb8e479777013a81d0_cgraph">
<area shape="rect" id="node2" href="container_8c.html#accf59a8b7d39a4286ff99653b6878006" title="smartlist_add" alt="" coords="191,13,291,39"/>
</map>
</div>

</div>
</div>
<a id="a214eb0c58f4f381696fcf4a25349e50a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a214eb0c58f4f381696fcf4a25349e50a">&#9670;&nbsp;</a></span>nodelist_free_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nodelist_free_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release all storage held by the nodelist. </p>

</div>
</div>
<a id="a0f3aad5415c903fdfa732793d35484d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f3aad5415c903fdfa732793d35484d5">&#9670;&nbsp;</a></span>nodelist_probably_contains_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nodelist_probably_contains_address </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true if <b>addr</b> is the address of some node in the nodelist. If not, probably return false. </p>

</div>
</div>
<a id="a719c3f922735dd9428f5a763676bebc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a719c3f922735dd9428f5a763676bebc3">&#9670;&nbsp;</a></span>nodelist_purge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nodelist_purge </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove all entries from the nodelist that don't have enough info to be usable for anything. </p>

</div>
</div>
<a id="a2f725fda356a7135d8997a544bcd0875"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f725fda356a7135d8997a544bcd0875">&#9670;&nbsp;</a></span>nodelist_refresh_countries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nodelist_refresh_countries </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the country code of all routers in the routerlist. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a2f725fda356a7135d8997a544bcd0875_cgraph.png" border="0" usemap="#nodelist_8c_a2f725fda356a7135d8997a544bcd0875_cgraph" alt=""/></div>
<map name="nodelist_8c_a2f725fda356a7135d8997a544bcd0875_cgraph" id="nodelist_8c_a2f725fda356a7135d8997a544bcd0875_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#acca4d59803258ee170491868c5cb4824" title="node_set_country" alt="" coords="228,5,353,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a2f725fda356a7135d8997a544bcd0875_icgraph.png" border="0" usemap="#nodelist_8c_a2f725fda356a7135d8997a544bcd0875_icgraph" alt=""/></div>
<map name="nodelist_8c_a2f725fda356a7135d8997a544bcd0875_icgraph" id="nodelist_8c_a2f725fda356a7135d8997a544bcd0875_icgraph">
<area shape="rect" id="node2" href="routerlist_8h.html#a8989395a52cfb9cb553c9eebf44395eb" title="refresh_all_country_info" alt="" coords="228,5,388,32"/>
</map>
</div>

</div>
</div>
<a id="ac9a8eefc5429bb575b26374ef24bce88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9a8eefc5429bb575b26374ef24bce88">&#9670;&nbsp;</a></span>nodelist_remove_microdesc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nodelist_remove_microdesc </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>identity_digest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmicrodesc__t.html">microdesc_t</a> *&#160;</td>
          <td class="paramname"><em>md</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tell the nodelist that <b>md</b> is no longer a microdescriptor for the node with <b>identity_digest</b>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_ac9a8eefc5429bb575b26374ef24bce88_cgraph.png" border="0" usemap="#nodelist_8c_ac9a8eefc5429bb575b26374ef24bce88_cgraph" alt=""/></div>
<map name="nodelist_8c_ac9a8eefc5429bb575b26374ef24bce88_cgraph" id="nodelist_8c_ac9a8eefc5429bb575b26374ef24bce88_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#ad46ce292894cace0427366a53b765602" title="node_get_ed25519_id" alt="" coords="237,5,385,32"/>
</map>
</div>

</div>
</div>
<a id="aceea079915327ce0fede3a25bb254f00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aceea079915327ce0fede3a25bb254f00">&#9670;&nbsp;</a></span>nodelist_remove_routerinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nodelist_remove_routerinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrouterinfo__t.html">routerinfo_t</a> *&#160;</td>
          <td class="paramname"><em>ri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tell the nodelist that <b>ri</b> is no longer in the routerlist. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_aceea079915327ce0fede3a25bb254f00_icgraph.png" border="0" usemap="#nodelist_8c_aceea079915327ce0fede3a25bb254f00_icgraph" alt=""/></div>
<map name="nodelist_8c_aceea079915327ce0fede3a25bb254f00_icgraph" id="nodelist_8c_aceea079915327ce0fede3a25bb254f00_icgraph">
<area shape="rect" id="node2" href="routerlist_8h.html#a8c328828cd94c3bb84044c9003f8c78f" title="routerlist_remove" alt="" coords="232,5,355,32"/>
</map>
</div>

</div>
</div>
<a id="a88530130321dca1f862717bfb5a0834a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88530130321dca1f862717bfb5a0834a">&#9670;&nbsp;</a></span>nodelist_set_consensus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nodelist_set_consensus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tell the nodelist that the current usable consensus is <b>ns</b>. This makes the nodelist change all of the routerstatus entries for the nodes, drop nodes that no longer have enough info to get used, and grab microdescriptors into nodes as appropriate. </p>

</div>
</div>
<a id="a8ba545e2813b93bafcb1842bb6d2db85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ba545e2813b93bafcb1842bb6d2db85">&#9670;&nbsp;</a></span>nodelist_set_routerinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnode__t.html">node_t</a>* nodelist_set_routerinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrouterinfo__t.html">routerinfo_t</a> *&#160;</td>
          <td class="paramname"><em>ri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrouterinfo__t.html">routerinfo_t</a> **&#160;</td>
          <td class="paramname"><em>ri_old_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add <b>ri</b> to an appropriate node in the nodelist. If we replace an old routerinfo, and <b>ri_old_out</b> is not NULL, set *<b>ri_old_out</b> to the previous routerinfo. </p>

</div>
</div>
<a id="aec9e62be44bcfcb1017f1a1190fcba8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec9e62be44bcfcb1017f1a1190fcba8f">&#9670;&nbsp;</a></span>nodes_in_same_family()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nodes_in_same_family </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff r1 and r2 are in the same family, but not the same router. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_aec9e62be44bcfcb1017f1a1190fcba8f_cgraph.png" border="0" usemap="#nodelist_8c_aec9e62be44bcfcb1017f1a1190fcba8f_cgraph" alt=""/></div>
<map name="nodelist_8c_aec9e62be44bcfcb1017f1a1190fcba8f_cgraph" id="nodelist_8c_aec9e62be44bcfcb1017f1a1190fcba8f_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#ad81a144f3a7aae0ee6a4406c8bcf137b" title="node_get_addr" alt="" coords="241,52,348,79"/>
<area shape="rect" id="node5" href="nodelist_8c.html#a39712e702247f78a9f824a0c96b2a2b3" title="addrs_in_same_network\l_family" alt="" coords="213,103,376,145"/>
<area shape="rect" id="node7" href="nodelist_8c.html#aedef5331fdf01f16cdd5bbe528aae5db" title="node_get_declared_family" alt="" coords="208,169,381,196"/>
<area shape="rect" id="node3" href="nodelist_8c.html#a0ebc2be100c1842a1897987652011bd2" title="node_get_prim_orport" alt="" coords="445,5,592,32"/>
<area shape="rect" id="node4" href="address_8c.html#a139ff425c957e4eed3a766cb48f55f93" title="tor_addr_copy" alt="" coords="467,56,571,83"/>
<area shape="rect" id="node6" href="address_8c.html#a50ffbc22a605ec09f42d7687588741b9" title="tor_addr_compare_masked" alt="" coords="429,111,608,137"/>
</map>
</div>

</div>
</div>
<a id="a32099caf417dbc0e15ea398b1bc2ea16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32099caf417dbc0e15ea398b1bc2ea16">&#9670;&nbsp;</a></span>router_dir_info_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void router_dir_info_changed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when our internal view of the directory has changed. This can be when the authorities change, networkstatuses change, the list of routerdescs changes, or number of running routers changes. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a32099caf417dbc0e15ea398b1bc2ea16_cgraph.png" border="0" usemap="#nodelist_8c_a32099caf417dbc0e15ea398b1bc2ea16_cgraph" alt=""/></div>
<map name="nodelist_8c_a32099caf417dbc0e15ea398b1bc2ea16_cgraph" id="nodelist_8c_a32099caf417dbc0e15ea398b1bc2ea16_cgraph">
<area shape="rect" id="node2" href="rendservice_8c.html#ac44e79078bc122e1f77d770919baffa3" title="rend_hsdir_routers\l_changed" alt="" coords="213,5,343,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a32099caf417dbc0e15ea398b1bc2ea16_icgraph.png" border="0" usemap="#nodelist_8c_a32099caf417dbc0e15ea398b1bc2ea16_icgraph" alt=""/></div>
<map name="nodelist_8c_a32099caf417dbc0e15ea398b1bc2ea16_icgraph" id="nodelist_8c_a32099caf417dbc0e15ea398b1bc2ea16_icgraph">
<area shape="rect" id="node2" href="routerlist_8h.html#a8c328828cd94c3bb84044c9003f8c78f" title="routerlist_remove" alt="" coords="213,5,336,32"/>
<area shape="rect" id="node3" href="routerlist_8h.html#a9bd4c9992a1cf27e95e2829ae40c7b79" title="dir_server_add" alt="" coords="221,56,328,83"/>
</map>
</div>

</div>
</div>
<a id="a86dbd7165aba1d9d8cdd6bb2c2b5d6c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86dbd7165aba1d9d8cdd6bb2c2b5d6c7">&#9670;&nbsp;</a></span>router_exit_policy_all_nodes_reject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int router_exit_policy_all_nodes_reject </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>need_uptime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 1 if all running sufficiently-stable routers we can use will reject addr:port. Return 0 if any might accept it. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_a86dbd7165aba1d9d8cdd6bb2c2b5d6c7_cgraph.png" border="0" usemap="#nodelist_8c_a86dbd7165aba1d9d8cdd6bb2c2b5d6c7_cgraph" alt=""/></div>
<map name="nodelist_8c_a86dbd7165aba1d9d8cdd6bb2c2b5d6c7_cgraph" id="nodelist_8c_a86dbd7165aba1d9d8cdd6bb2c2b5d6c7_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#a78e60dd983647dd0229d85517eba6921" title="node_is_unreliable" alt="" coords="185,5,314,32"/>
<area shape="rect" id="node3" href="policies_8c.html#ade3e50b8711fdb41da6067f522d3c638" title="compare_tor_addr_to\l_node_policy" alt="" coords="177,57,321,98"/>
</map>
</div>

</div>
</div>
<a id="aa6437a3da576fc05f0b444878bbeb93e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6437a3da576fc05f0b444878bbeb93e">&#9670;&nbsp;</a></span>router_find_exact_exit_enclave()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structnode__t.html">node_t</a>* router_find_exact_exit_enclave </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find a router that's up, that has this IP address, and that allows exit to this address:port, or return NULL if there isn't a good one. Don't exit enclave to excluded relays &ndash; it wouldn't actually hurt anything, but this way there are fewer confused users. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_aa6437a3da576fc05f0b444878bbeb93e_cgraph.png" border="0" usemap="#nodelist_8c_aa6437a3da576fc05f0b444878bbeb93e_cgraph" alt=""/></div>
<map name="nodelist_8c_aa6437a3da576fc05f0b444878bbeb93e_cgraph" id="nodelist_8c_aa6437a3da576fc05f0b444878bbeb93e_cgraph">
<area shape="rect" id="node2" href="compat_8c.html#a802226afdc80ad46ae394289b1e586ee" title="tor_inet_aton" alt="" coords="204,13,301,39"/>
<area shape="rect" id="node3" href="util_8c.html#a58eee4159dfe33194147f2146f0dbc2f" title="tor_sscanf" alt="" coords="349,13,432,39"/>
<area shape="rect" id="node4" href="util_8c.html#a90e57e8764505012f016303eab3e4180" title="tor_vsscanf" alt="" coords="480,13,571,39"/>
</map>
</div>

</div>
</div>
<a id="af9b98a83a74416a5d6cb256c66110b1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9b98a83a74416a5d6cb256c66110b1b">&#9670;&nbsp;</a></span>router_set_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void router_set_status </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>up</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mark the router with ID <b>digest</b> as running or non-running in our routerlist. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodelist_8c_af9b98a83a74416a5d6cb256c66110b1b_icgraph.png" border="0" usemap="#nodelist_8c_af9b98a83a74416a5d6cb256c66110b1b_icgraph" alt=""/></div>
<map name="nodelist_8c_af9b98a83a74416a5d6cb256c66110b1b_icgraph" id="nodelist_8c_af9b98a83a74416a5d6cb256c66110b1b_icgraph">
<area shape="rect" id="node2" href="channel_8c.html#a4bb9524073333e156da271ca623a772d" title="channel_do_open_actions" alt="" coords="176,5,348,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
