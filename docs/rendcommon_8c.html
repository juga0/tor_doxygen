<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tor: /home/user/_my/code/bwauth-related/tor/src/or/rendcommon.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tor
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97b64286d42c5ef1697cb5f17129db19.html">tor</a></li><li class="navelem"><a class="el" href="dir_3cb0ba3f4b82dbe34a1a06276e96bc8d.html">src</a></li><li class="navelem"><a class="el" href="dir_386635fabd7f6c74e9d9c7a8604514a0.html">or</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rendcommon.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Rendezvous implementation: shared code between introducers, services, clients, and rendezvous points.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="or_8h_source.html">or.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="circuitbuild_8h_source.html">circuitbuild.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="config_8h_source.html">config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="control_8h_source.html">control.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rendclient_8h_source.html">rendclient.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rendcommon_8h_source.html">rendcommon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rendmid_8h_source.html">rendmid.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rendservice_8h_source.html">rendservice.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rephist_8h_source.html">rephist.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="router_8h_source.html">router.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="routerlist_8h_source.html">routerlist.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="routerparse_8h_source.html">routerparse.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="networkstatus_8h_source.html">networkstatus.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for rendcommon.c:</div>
<div class="dyncontent">
<div class="center"><img src="rendcommon_8c__incl.png" border="0" usemap="#_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2rendcommon_8c" alt=""/></div>
<map name="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2rendcommon_8c" id="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2rendcommon_8c">
<area shape="rect" id="node2" href="or_8h.html" title="Master header file for Tor&#45;specific functionality. " alt="" coords="1405,259,1449,285"/>
<area shape="rect" id="node34" href="circuitbuild_8h.html" title="Header file for circuitbuild.c. " alt="" coords="2070,109,2165,136"/>
<area shape="rect" id="node35" href="config_8h.html" title="Header file for config.c. " alt="" coords="1657,184,1725,211"/>
<area shape="rect" id="node36" href="control_8h.html" title="Header file for control.c. " alt="" coords="2189,109,2261,136"/>
<area shape="rect" id="node37" href="rendclient_8h.html" title="Header file for rendclient.c. " alt="" coords="1753,109,1842,136"/>
<area shape="rect" id="node39" href="rendcommon_8h.html" title="Header file for rendcommon.c. " alt="" coords="1785,259,1893,285"/>
<area shape="rect" id="node40" href="rendmid_8h.html" title="Header file for rendmid.c. " alt="" coords="2286,109,2365,136"/>
<area shape="rect" id="node41" href="rendservice_8h.html" title="Header file for rendservice.c. " alt="" coords="1394,184,1494,211"/>
<area shape="rect" id="node42" href="rephist_8h.html" title="Header file for rephist.c. " alt="" coords="2389,109,2461,136"/>
<area shape="rect" id="node43" href="router_8h.html" title="Header file for router.c. " alt="" coords="1889,408,1956,435"/>
<area shape="rect" id="node44" href="routerlist_8h.html" title="Header file for routerlist.c. " alt="" coords="1968,184,2051,211"/>
<area shape="rect" id="node45" href="routerparse_8h.html" title="Header file for routerparse.c. " alt="" coords="2485,109,2584,136"/>
<area shape="rect" id="node46" href="networkstatus_8h.html" title="Header file for networkstatus.c. " alt="" coords="2031,259,2145,285"/>
<area shape="rect" id="node3" href="orconfig_8h_source.html" title="orconfig.h" alt="" coords="409,856,487,883"/>
<area shape="rect" id="node4" href="torint_8h.html" title="Header file to define uint32_t and friends. " alt="" coords="526,781,589,808"/>
<area shape="rect" id="node5" href="crypto_8h.html" title="Headers for crypto.c. " alt="" coords="1028,557,1097,584"/>
<area shape="rect" id="node13" href="crypto__format_8h_source.html" title="crypto_format.h" alt="" coords="1405,557,1518,584"/>
<area shape="rect" id="node14" href="crypto__ed25519_8h_source.html" title="crypto_ed25519.h" alt="" coords="1463,632,1588,659"/>
<area shape="rect" id="node15" href="crypto__curve25519_8h_source.html" title="crypto_curve25519.h" alt="" coords="1369,707,1511,733"/>
<area shape="rect" id="node16" href="tortls_8h.html" title="Headers for tortls.c. " alt="" coords="1157,483,1219,509"/>
<area shape="rect" id="node19" href="torlog_8h.html" title="Headers for log.c. " alt="" coords="1675,557,1741,584"/>
<area shape="rect" id="node20" href="container_8h_source.html" title="container.h" alt="" coords="287,408,374,435"/>
<area shape="rect" id="node26" href="torgzip_8h.html" title="Headers for torgzip.h. " alt="" coords="1308,333,1380,360"/>
<area shape="rect" id="node27" href="address_8h.html" title="Headers for address.h. " alt="" coords="373,333,451,360"/>
<area shape="rect" id="node28" href="compat__libevent_8h_source.html" title="compat_libevent.h" alt="" coords="2132,707,2260,733"/>
<area shape="rect" id="node30" href="ht_8h_source.html" title="ht.h" alt="" coords="1405,333,1449,360"/>
<area shape="rect" id="node31" href="replaycache_8h.html" title="Header file for replaycache.c. " alt="" coords="1473,333,1575,360"/>
<area shape="rect" id="node32" href="tor__queue_8h_source.html" title="tor_queue.h" alt="" coords="1600,333,1691,360"/>
<area shape="rect" id="node33" href="util__format_8h_source.html" title="util_format.h" alt="" coords="1587,707,1682,733"/>
<area shape="rect" id="node7" href="testsupport_8h_source.html" title="testsupport.h" alt="" coords="1628,781,1727,808"/>
<area shape="rect" id="node8" href="compat_8h_source.html" title="compat.h" alt="" coords="635,632,711,659"/>
<area shape="rect" id="node10" href="compat__time_8h.html" title="Functions and types for monotonic times. " alt="" coords="394,781,502,808"/>
<area shape="rect" id="node12" href="compat__threads_8h_source.html" title="compat_threads.h" alt="" coords="595,707,722,733"/>
<area shape="rect" id="node17" href="compat__openssl_8h.html" title="compatability definitions for working with different openssl forks " alt="" coords="1252,557,1380,584"/>
<area shape="rect" id="node21" href="util_8h.html" title="Headers for util.c. " alt="" coords="324,483,375,509"/>
<area shape="rect" id="node25" href="siphash_8h_source.html" title="siphash.h" alt="" coords="221,483,299,509"/>
<area shape="rect" id="node22" href="di__ops_8h.html" title="Headers for di_ops.c. " alt="" coords="195,707,266,733"/>
<area shape="rect" id="node24" href="util__bug_8h.html" title="util_bug.h" alt="" coords="469,557,547,584"/>
<area shape="rect" id="node38" href="rendcache_8h.html" title="Header file for rendcache.c. " alt="" coords="1749,184,1843,211"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aeb2686408816c0dc134615160ed3fd7f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#aeb2686408816c0dc134615160ed3fd7f">REND_DESC_COOKIE_LEN</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:aeb2686408816c0dc134615160ed3fd7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9079d47391ba4745b27ae1370978ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#aff9079d47391ba4745b27ae1370978ab">REND_REPLICA_LEN</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:aff9079d47391ba4745b27ae1370978ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1471b2ef6060bd8e94bd681c8d924273"><td class="memItemLeft" align="right" valign="top"><a id="a1471b2ef6060bd8e94bd681c8d924273"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>REND_DESC_COOKIE_LEN_EXT</b>&#160;&#160;&#160;(<a class="el" href="rendcommon_8c.html#aeb2686408816c0dc134615160ed3fd7f">REND_DESC_COOKIE_LEN</a> + 1)</td></tr>
<tr class="separator:a1471b2ef6060bd8e94bd681c8d924273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01142a5c4ff591795cf23aa6e0fcce8f"><td class="memItemLeft" align="right" valign="top"><a id="a01142a5c4ff591795cf23aa6e0fcce8f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>REND_DESC_COOKIE_LEN_EXT_BASE64</b>&#160;&#160;&#160;(<a class="el" href="or_8h.html#aa14fbbf59fb52b367ef1c15384a6594a">REND_DESC_COOKIE_LEN_BASE64</a> + 2)</td></tr>
<tr class="separator:a01142a5c4ff591795cf23aa6e0fcce8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4f290e9602660feb24c410603a298ef8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#a4f290e9602660feb24c410603a298ef8">rend_cmp_service_ids</a> (const char *one, const char *two)</td></tr>
<tr class="separator:a4f290e9602660feb24c410603a298ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91927fc14b63a83089d9b0ee22184498"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#a91927fc14b63a83089d9b0ee22184498">rend_service_descriptor_free</a> (<a class="el" href="structrend__service__descriptor__t.html">rend_service_descriptor_t</a> *desc)</td></tr>
<tr class="separator:a91927fc14b63a83089d9b0ee22184498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50e9a99ec6511e2cfdcfebcdc2213c2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#a50e9a99ec6511e2cfdcfebcdc2213c2a">rend_get_descriptor_id_bytes</a> (char *descriptor_id_out, const char *service_id, const char *secret_id_part)</td></tr>
<tr class="separator:a50e9a99ec6511e2cfdcfebcdc2213c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b00bb6a2b63bab1c0a8cf1f6ca0048"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#af7b00bb6a2b63bab1c0a8cf1f6ca0048">rend_compute_v2_desc_id</a> (char *desc_id_out, const char *service_id, const char *descriptor_cookie, time_t now, uint8_t replica)</td></tr>
<tr class="separator:af7b00bb6a2b63bab1c0a8cf1f6ca0048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af739253549fdf62a61e2b029a9892ea9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#af739253549fdf62a61e2b029a9892ea9">rend_encoded_v2_service_descriptor_free</a> (<a class="el" href="structrend__encoded__v2__service__descriptor__t.html">rend_encoded_v2_service_descriptor_t</a> *desc)</td></tr>
<tr class="separator:af739253549fdf62a61e2b029a9892ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61dd29c390c943442cdd965fa9a31916"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#a61dd29c390c943442cdd965fa9a31916">rend_intro_point_free</a> (<a class="el" href="structrend__intro__point__t.html">rend_intro_point_t</a> *intro)</td></tr>
<tr class="separator:a61dd29c390c943442cdd965fa9a31916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabd63c8ba90edf8d2d8970be04bae97b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#aabd63c8ba90edf8d2d8970be04bae97b">rend_encode_v2_descriptors</a> (<a class="el" href="structsmartlist__t.html">smartlist_t</a> *descs_out, <a class="el" href="structrend__service__descriptor__t.html">rend_service_descriptor_t</a> *desc, time_t now, uint8_t period, <a class="el" href="or_8h.html#aafc6920f8a16e10f46703e7819795c74">rend_auth_type_t</a> auth_type, <a class="el" href="structcrypto__pk__t.html">crypto_pk_t</a> *client_key, <a class="el" href="structsmartlist__t.html">smartlist_t</a> *client_cookies)</td></tr>
<tr class="separator:aabd63c8ba90edf8d2d8970be04bae97b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb619b1758ff82d476170d83fce49e77"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#abb619b1758ff82d476170d83fce49e77">rend_get_service_id</a> (<a class="el" href="structcrypto__pk__t.html">crypto_pk_t</a> *pk, char *out)</td></tr>
<tr class="separator:abb619b1758ff82d476170d83fce49e77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c98beed11b35d28c3e8fe8249d027c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#a4c98beed11b35d28c3e8fe8249d027c5">rend_valid_service_id</a> (const char *query)</td></tr>
<tr class="separator:a4c98beed11b35d28c3e8fe8249d027c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5ccbcbbd3b16b2dadbe09d4f286acba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#af5ccbcbbd3b16b2dadbe09d4f286acba">rend_valid_descriptor_id</a> (const char *query)</td></tr>
<tr class="separator:af5ccbcbbd3b16b2dadbe09d4f286acba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab85bc5f1bcd5c91edb70efede89c8ee6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#ab85bc5f1bcd5c91edb70efede89c8ee6">rend_valid_client_name</a> (const char *client_name)</td></tr>
<tr class="separator:ab85bc5f1bcd5c91edb70efede89c8ee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e66ba6d7ab8afe4f3fb51cb9478bc9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#a4e66ba6d7ab8afe4f3fb51cb9478bc9e">rend_process_relay_cell</a> (<a class="el" href="structcircuit__t.html">circuit_t</a> *circ, const <a class="el" href="structcrypt__path__t.html">crypt_path_t</a> *layer_hint, int command, size_t length, const uint8_t *payload)</td></tr>
<tr class="separator:a4e66ba6d7ab8afe4f3fb51cb9478bc9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e861907b5ed972758bdff02b1fff7f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrend__data__t.html">rend_data_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#a3e861907b5ed972758bdff02b1fff7f7">rend_data_dup</a> (const <a class="el" href="structrend__data__t.html">rend_data_t</a> *data)</td></tr>
<tr class="separator:a3e861907b5ed972758bdff02b1fff7f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32bf2108c6c803a11486e89dfa5b55ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrend__data__t.html">rend_data_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#a32bf2108c6c803a11486e89dfa5b55ab">rend_data_service_create</a> (const char *onion_address, const char *pk_digest, const uint8_t *cookie, <a class="el" href="or_8h.html#aafc6920f8a16e10f46703e7819795c74">rend_auth_type_t</a> auth_type)</td></tr>
<tr class="separator:a32bf2108c6c803a11486e89dfa5b55ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba983562d99c5c2f278cd4e1f616ff93"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrend__data__t.html">rend_data_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#aba983562d99c5c2f278cd4e1f616ff93">rend_data_client_create</a> (const char *onion_address, const char *desc_id, const char *cookie, <a class="el" href="or_8h.html#aafc6920f8a16e10f46703e7819795c74">rend_auth_type_t</a> auth_type)</td></tr>
<tr class="separator:aba983562d99c5c2f278cd4e1f616ff93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a154a5fdb5490cbf22ae39bff6564bcdf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#a154a5fdb5490cbf22ae39bff6564bcdf">hid_serv_get_responsible_directories</a> (<a class="el" href="structsmartlist__t.html">smartlist_t</a> *responsible_dirs, const char *id)</td></tr>
<tr class="separator:a154a5fdb5490cbf22ae39bff6564bcdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6c48ed956d918bba341bec3c7980364"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#af6c48ed956d918bba341bec3c7980364">rend_auth_encode_cookie</a> (const uint8_t *cookie_in, <a class="el" href="or_8h.html#aafc6920f8a16e10f46703e7819795c74">rend_auth_type_t</a> auth_type)</td></tr>
<tr class="separator:af6c48ed956d918bba341bec3c7980364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14d7e2ad87fc827c229c0aad411bdc15"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rendcommon_8c.html#a14d7e2ad87fc827c229c0aad411bdc15">rend_auth_decode_cookie</a> (const char *cookie_in, uint8_t *cookie_out, <a class="el" href="or_8h.html#aafc6920f8a16e10f46703e7819795c74">rend_auth_type_t</a> *auth_type_out, char **err_msg_out)</td></tr>
<tr class="separator:a14d7e2ad87fc827c229c0aad411bdc15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a222c9f8aa5eeb460a1ff512791320296"><td class="memItemLeft" align="right" valign="top"><a id="a222c9f8aa5eeb460a1ff512791320296"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>rend_allow_non_anonymous_connection</b> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options)</td></tr>
<tr class="separator:a222c9f8aa5eeb460a1ff512791320296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae84c40d313f62f1f2c6ef1f8710df6cc"><td class="memItemLeft" align="right" valign="top"><a id="ae84c40d313f62f1f2c6ef1f8710df6cc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>rend_non_anonymous_mode_enabled</b> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options)</td></tr>
<tr class="separator:ae84c40d313f62f1f2c6ef1f8710df6cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6914515abf5af93d6349c29ecb3e91d"><td class="memItemLeft" align="right" valign="top"><a id="aa6914515abf5af93d6349c29ecb3e91d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>assert_circ_anonymity_ok</b> (<a class="el" href="structorigin__circuit__t.html">origin_circuit_t</a> *circ, const <a class="el" href="structor__options__t.html">or_options_t</a> *options)</td></tr>
<tr class="separator:aa6914515abf5af93d6349c29ecb3e91d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Rendezvous implementation: shared code between introducers, services, clients, and rendezvous points. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aeb2686408816c0dc134615160ed3fd7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb2686408816c0dc134615160ed3fd7f">&#9670;&nbsp;</a></span>REND_DESC_COOKIE_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REND_DESC_COOKIE_LEN&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of the descriptor cookie that is used for versioned hidden service descriptors. </p>

</div>
</div>
<a id="aff9079d47391ba4745b27ae1370978ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff9079d47391ba4745b27ae1370978ab">&#9670;&nbsp;</a></span>REND_REPLICA_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REND_REPLICA_LEN&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of the replica number that is used to determine the secret ID part of versioned hidden service descriptors. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a154a5fdb5490cbf22ae39bff6564bcdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a154a5fdb5490cbf22ae39bff6564bcdf">&#9670;&nbsp;</a></span>hid_serv_get_responsible_directories()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hid_serv_get_responsible_directories </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>responsible_dirs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine the routers that are responsible for <b>id</b> (binary) and add pointers to those routers' <a class="el" href="structrouterstatus__t.html">routerstatus_t</a> to <b>responsible_dirs</b>. Return -1 if we're returning an empty smartlist, else return 0. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rendcommon_8c_a154a5fdb5490cbf22ae39bff6564bcdf_icgraph.png" border="0" usemap="#rendcommon_8c_a154a5fdb5490cbf22ae39bff6564bcdf_icgraph" alt=""/></div>
<map name="rendcommon_8c_a154a5fdb5490cbf22ae39bff6564bcdf_icgraph" id="rendcommon_8c_a154a5fdb5490cbf22ae39bff6564bcdf_icgraph">
<area shape="rect" id="node2" href="rendservice_8h.html#ab506650aa443a97f3932b3f50652c90d" title="directory_post_to_hs_dir" alt="" coords="223,13,387,39"/>
</map>
</div>

</div>
</div>
<a id="a14d7e2ad87fc827c229c0aad411bdc15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14d7e2ad87fc827c229c0aad411bdc15">&#9670;&nbsp;</a></span>rend_auth_decode_cookie()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rend_auth_decode_cookie </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cookie_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cookie_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="or_8h.html#aafc6920f8a16e10f46703e7819795c74">rend_auth_type_t</a> *&#160;</td>
          <td class="paramname"><em>auth_type_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>err_msg_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decode a base64-encoded client authorization descriptor cookie. The descriptor_cookie can be truncated to REND_DESC_COOKIE_LEN_BASE64 characters (as given to clients), or may include the two padding characters (as stored by the service).</p>
<p>The result is stored in REND_DESC_COOKIE_LEN bytes of cookie_out. The rend_auth_type_t decoded from the cookie is stored in the optional auth_type_out parameter.</p>
<p>Return 0 on success, or -1 on error. The caller is responsible for freeing the returned err_msg. </p>

</div>
</div>
<a id="af6c48ed956d918bba341bec3c7980364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6c48ed956d918bba341bec3c7980364">&#9670;&nbsp;</a></span>rend_auth_encode_cookie()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* rend_auth_encode_cookie </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>cookie_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="or_8h.html#aafc6920f8a16e10f46703e7819795c74">rend_auth_type_t</a>&#160;</td>
          <td class="paramname"><em>auth_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Encode a client authorization descriptor cookie. The result of this function is suitable for use in the HidServAuth option. The trailing padding characters are removed, and the auth type is encoded into the cookie.</p>
<p>Returns a new base64-encoded cookie. This function cannot fail. The caller is responsible for freeing the returned value. </p>

</div>
</div>
<a id="a4f290e9602660feb24c410603a298ef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f290e9602660feb24c410603a298ef8">&#9670;&nbsp;</a></span>rend_cmp_service_ids()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rend_cmp_service_ids </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>one</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>two</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 0 if one and two are the same service ids, else -1 or 1 </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rendcommon_8c_a4f290e9602660feb24c410603a298ef8_icgraph.png" border="0" usemap="#rendcommon_8c_a4f290e9602660feb24c410603a298ef8_icgraph" alt=""/></div>
<map name="rendcommon_8c_a4f290e9602660feb24c410603a298ef8_icgraph" id="rendcommon_8c_a4f290e9602660feb24c410603a298ef8_icgraph">
<area shape="rect" id="node2" href="rendclient_8h.html#a654f5fd84a1bbaeb1f43471166ad3273" title="rend_client_send_introduction" alt="" coords="205,5,400,32"/>
</map>
</div>

</div>
</div>
<a id="af7b00bb6a2b63bab1c0a8cf1f6ca0048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7b00bb6a2b63bab1c0a8cf1f6ca0048">&#9670;&nbsp;</a></span>rend_compute_v2_desc_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rend_compute_v2_desc_id </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>desc_id_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>service_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>descriptor_cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>replica</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the binary <b>desc_id_out</b> (DIGEST_LEN bytes long) for a given base32-encoded <b>service_id</b> and optional unencoded <b>descriptor_cookie</b> of length REND_DESC_COOKIE_LEN, at time <b>now</b> for replica number <b>replica</b>. <b>desc_id</b> needs to have <b>DIGEST_LEN</b> bytes free. Return 0 for success, -1 otherwise. </p>

</div>
</div>
<a id="aba983562d99c5c2f278cd4e1f616ff93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba983562d99c5c2f278cd4e1f616ff93">&#9670;&nbsp;</a></span>rend_data_client_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrend__data__t.html">rend_data_t</a>* rend_data_client_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>onion_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>desc_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="or_8h.html#aafc6920f8a16e10f46703e7819795c74">rend_auth_type_t</a>&#160;</td>
          <td class="paramname"><em>auth_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate and initialize a <a class="el" href="structrend__data__t.html">rend_data_t</a> object for a client request using the given arguments. Either an onion address or a descriptor ID is needed. Both can be given but only the onion address will be used to make the descriptor fetch.</p>
<p>Return a valid <a class="el" href="structrend__data__t.html">rend_data_t</a> pointer or NULL on error meaning the descriptor IDs couldn't be computed from the given data. </p>

</div>
</div>
<a id="a3e861907b5ed972758bdff02b1fff7f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e861907b5ed972758bdff02b1fff7f7">&#9670;&nbsp;</a></span>rend_data_dup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrend__data__t.html">rend_data_t</a>* rend_data_dup </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrend__data__t.html">rend_data_t</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate and return a new <a class="el" href="structrend__data__t.html">rend_data_t</a> with the same contents as <b>query</b>. </p>

</div>
</div>
<a id="a32bf2108c6c803a11486e89dfa5b55ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32bf2108c6c803a11486e89dfa5b55ab">&#9670;&nbsp;</a></span>rend_data_service_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrend__data__t.html">rend_data_t</a>* rend_data_service_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>onion_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pk_digest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="or_8h.html#aafc6920f8a16e10f46703e7819795c74">rend_auth_type_t</a>&#160;</td>
          <td class="paramname"><em>auth_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate and initialize a <a class="el" href="structrend__data__t.html">rend_data_t</a> object for a service using the given arguments. Only the <b>onion_address</b> is not optional.</p>
<p>Return a valid <a class="el" href="structrend__data__t.html">rend_data_t</a> pointer. </p>

</div>
</div>
<a id="aabd63c8ba90edf8d2d8970be04bae97b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabd63c8ba90edf8d2d8970be04bae97b">&#9670;&nbsp;</a></span>rend_encode_v2_descriptors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rend_encode_v2_descriptors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>descs_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrend__service__descriptor__t.html">rend_service_descriptor_t</a> *&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="or_8h.html#aafc6920f8a16e10f46703e7819795c74">rend_auth_type_t</a>&#160;</td>
          <td class="paramname"><em>auth_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcrypto__pk__t.html">crypto_pk_t</a> *&#160;</td>
          <td class="paramname"><em>client_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>client_cookies</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Encode a set of <a class="el" href="structrend__encoded__v2__service__descriptor__t.html">rend_encoded_v2_service_descriptor_t</a>'s for <b>desc</b> at time <b>now</b> using <b>service_key</b>, depending on <b>auth_type</b> a <b>descriptor_cookie</b> and a list of <b>client_cookies</b> (which are both <b>NULL</b> if no client authorization is performed), and <b>period</b> (e.g. 0 for the current period, 1 for the next period, etc.) and add them to the existing list <b>descs_out</b>; return the number of seconds that the descriptors will be found by clients, or -1 if the encoding was not successful. </p>

</div>
</div>
<a id="af739253549fdf62a61e2b029a9892ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af739253549fdf62a61e2b029a9892ea9">&#9670;&nbsp;</a></span>rend_encoded_v2_service_descriptor_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rend_encoded_v2_service_descriptor_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrend__encoded__v2__service__descriptor__t.html">rend_encoded_v2_service_descriptor_t</a> *&#160;</td>
          <td class="paramname"><em>desc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free the storage held by an encoded v2 service descriptor. </p>

</div>
</div>
<a id="a50e9a99ec6511e2cfdcfebcdc2213c2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50e9a99ec6511e2cfdcfebcdc2213c2a">&#9670;&nbsp;</a></span>rend_get_descriptor_id_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rend_get_descriptor_id_bytes </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>descriptor_id_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>service_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>secret_id_part</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the descriptor ID for <b>service_id</b> of length <b>REND_SERVICE_ID_LEN</b> and <b>secret_id_part</b> of length <b>DIGEST_LEN</b>, and write it to <b>descriptor_id_out</b> of length <b>DIGEST_LEN</b>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rendcommon_8c_a50e9a99ec6511e2cfdcfebcdc2213c2a_cgraph.png" border="0" usemap="#rendcommon_8c_a50e9a99ec6511e2cfdcfebcdc2213c2a_cgraph" alt=""/></div>
<map name="rendcommon_8c_a50e9a99ec6511e2cfdcfebcdc2213c2a_cgraph" id="rendcommon_8c_a50e9a99ec6511e2cfdcfebcdc2213c2a_cgraph">
<area shape="rect" id="node2" href="crypto_8c.html#ae92ffdfbeff07ba661ed65ca7791915d" title="crypto_digest_new" alt="" coords="207,5,338,32"/>
<area shape="rect" id="node3" href="crypto_8c.html#af702bc434eed2203f9dd1894ef5f5326" title="crypto_digest_add_bytes" alt="" coords="189,56,356,83"/>
<area shape="rect" id="node4" href="crypto_8c.html#a75e95996fd9dcf7f2e3800407bba12c9" title="crypto_digest_get_digest" alt="" coords="189,107,356,133"/>
<area shape="rect" id="node6" href="crypto_8c.html#a4ca581f3cf1db8b08e696a7c4efb8a90" title="crypto_digest_free" alt="" coords="208,157,337,184"/>
<area shape="rect" id="node5" href="crypto_8c.html#a0ea6f0654f17288e6896a83a749354b5" title="crypto_digest_algorithm\l_get_length" alt="" coords="404,99,564,141"/>
</map>
</div>

</div>
</div>
<a id="abb619b1758ff82d476170d83fce49e77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb619b1758ff82d476170d83fce49e77">&#9670;&nbsp;</a></span>rend_get_service_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rend_get_service_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcrypto__pk__t.html">crypto_pk_t</a> *&#160;</td>
          <td class="paramname"><em>pk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets <b>out</b> to the first 10 bytes of the digest of <b>pk</b>, base32 encoded. NUL-terminates out. (We use this string to identify services in directory requests and .onion URLs.) </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rendcommon_8c_abb619b1758ff82d476170d83fce49e77_cgraph.png" border="0" usemap="#rendcommon_8c_abb619b1758ff82d476170d83fce49e77_cgraph" alt=""/></div>
<map name="rendcommon_8c_abb619b1758ff82d476170d83fce49e77_cgraph" id="rendcommon_8c_abb619b1758ff82d476170d83fce49e77_cgraph">
<area shape="rect" id="node2" href="crypto_8c.html#a91336077a5062618ff895dae4e50079d" title="crypto_pk_get_digest" alt="" coords="192,5,339,32"/>
<area shape="rect" id="node4" href="util__format_8c.html#af100283587ab62e6645c900859f95c8e" title="base32_encode" alt="" coords="209,56,322,83"/>
<area shape="rect" id="node3" href="crypto_8c.html#adc1609ea0f9d65a1f60225cb001eeb15" title="crypto_digest" alt="" coords="387,5,487,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rendcommon_8c_abb619b1758ff82d476170d83fce49e77_icgraph.png" border="0" usemap="#rendcommon_8c_abb619b1758ff82d476170d83fce49e77_icgraph" alt=""/></div>
<map name="rendcommon_8c_abb619b1758ff82d476170d83fce49e77_icgraph" id="rendcommon_8c_abb619b1758ff82d476170d83fce49e77_icgraph">
<area shape="rect" id="node2" href="rendcache_8c.html#a3b62337cd31ec86e2239ffbe6005adce" title="rend_cache_failure\l_remove" alt="" coords="192,5,323,47"/>
<area shape="rect" id="node3" href="rendcache_8c.html#a2c5eb5e8ecaa713ec73cebc5ad4df905" title="rend_cache_entry_free" alt="" coords="371,13,525,39"/>
</map>
</div>

</div>
</div>
<a id="a61dd29c390c943442cdd965fa9a31916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61dd29c390c943442cdd965fa9a31916">&#9670;&nbsp;</a></span>rend_intro_point_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rend_intro_point_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrend__intro__point__t.html">rend_intro_point_t</a> *&#160;</td>
          <td class="paramname"><em>intro</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free the storage held by an introduction point info. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rendcommon_8c_a61dd29c390c943442cdd965fa9a31916_cgraph.png" border="0" usemap="#rendcommon_8c_a61dd29c390c943442cdd965fa9a31916_cgraph" alt=""/></div>
<map name="rendcommon_8c_a61dd29c390c943442cdd965fa9a31916_cgraph" id="rendcommon_8c_a61dd29c390c943442cdd965fa9a31916_cgraph">
<area shape="rect" id="node2" href="circuitbuild_8c.html#a2ee63ec586b7d4f06830954b9aefb037" title="extend_info_free" alt="" coords="197,5,316,32"/>
<area shape="rect" id="node3" href="crypto_8c.html#a2a5f687763115d7c79f977a0abfddaff" title="crypto_pk_free" alt="" coords="365,31,473,57"/>
<area shape="rect" id="node4" href="replaycache_8c.html#a3820bca2b83e616483e752d3e5adfd92" title="replaycache_free" alt="" coords="196,107,317,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rendcommon_8c_a61dd29c390c943442cdd965fa9a31916_icgraph.png" border="0" usemap="#rendcommon_8c_a61dd29c390c943442cdd965fa9a31916_icgraph" alt=""/></div>
<map name="rendcommon_8c_a61dd29c390c943442cdd965fa9a31916_icgraph" id="rendcommon_8c_a61dd29c390c943442cdd965fa9a31916_icgraph">
<area shape="rect" id="node2" href="rendcommon_8h.html#a91927fc14b63a83089d9b0ee22184498" title="rend_service_descriptor_free" alt="" coords="196,5,385,32"/>
<area shape="rect" id="node4" href="rendservice_8c.html#a8cd5cb06a8e03c07ed7d120f90cee388" title="rend_service_free" alt="" coords="448,56,573,83"/>
<area shape="rect" id="node3" href="rendcache_8c.html#a2c5eb5e8ecaa713ec73cebc5ad4df905" title="rend_cache_entry_free" alt="" coords="433,5,588,32"/>
<area shape="rect" id="node5" href="rendservice_8h.html#ade90973329e24160017a04e0503397bd" title="rend_service_free_all" alt="" coords="636,56,781,83"/>
</map>
</div>

</div>
</div>
<a id="a4e66ba6d7ab8afe4f3fb51cb9478bc9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e66ba6d7ab8afe4f3fb51cb9478bc9e">&#9670;&nbsp;</a></span>rend_process_relay_cell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rend_process_relay_cell </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcircuit__t.html">circuit_t</a> *&#160;</td>
          <td class="paramname"><em>circ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcrypt__path__t.html">crypt_path_t</a> *&#160;</td>
          <td class="paramname"><em>layer_hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when we get a rendezvous-related relay cell on circuit <b>circ</b>. Dispatch on rendezvous relay command. </p>

</div>
</div>
<a id="a91927fc14b63a83089d9b0ee22184498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91927fc14b63a83089d9b0ee22184498">&#9670;&nbsp;</a></span>rend_service_descriptor_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rend_service_descriptor_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrend__service__descriptor__t.html">rend_service_descriptor_t</a> *&#160;</td>
          <td class="paramname"><em>desc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free the storage held by the service descriptor <b>desc</b>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rendcommon_8c_a91927fc14b63a83089d9b0ee22184498_cgraph.png" border="0" usemap="#rendcommon_8c_a91927fc14b63a83089d9b0ee22184498_cgraph" alt=""/></div>
<map name="rendcommon_8c_a91927fc14b63a83089d9b0ee22184498_cgraph" id="rendcommon_8c_a91927fc14b63a83089d9b0ee22184498_cgraph">
<area shape="rect" id="node2" href="crypto_8c.html#a2a5f687763115d7c79f977a0abfddaff" title="crypto_pk_free" alt="" coords="603,31,711,57"/>
<area shape="rect" id="node3" href="rendcommon_8c.html#a61dd29c390c943442cdd965fa9a31916" title="rend_intro_point_free" alt="" coords="243,56,385,83"/>
<area shape="rect" id="node4" href="circuitbuild_8c.html#a2ee63ec586b7d4f06830954b9aefb037" title="extend_info_free" alt="" coords="435,81,553,108"/>
<area shape="rect" id="node5" href="replaycache_8c.html#a3820bca2b83e616483e752d3e5adfd92" title="replaycache_free" alt="" coords="433,132,555,159"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rendcommon_8c_a91927fc14b63a83089d9b0ee22184498_icgraph.png" border="0" usemap="#rendcommon_8c_a91927fc14b63a83089d9b0ee22184498_icgraph" alt=""/></div>
<map name="rendcommon_8c_a91927fc14b63a83089d9b0ee22184498_icgraph" id="rendcommon_8c_a91927fc14b63a83089d9b0ee22184498_icgraph">
<area shape="rect" id="node2" href="rendcache_8c.html#a2c5eb5e8ecaa713ec73cebc5ad4df905" title="rend_cache_entry_free" alt="" coords="243,5,397,32"/>
<area shape="rect" id="node3" href="rendservice_8c.html#a8cd5cb06a8e03c07ed7d120f90cee388" title="rend_service_free" alt="" coords="257,56,383,83"/>
<area shape="rect" id="node4" href="rendservice_8h.html#ade90973329e24160017a04e0503397bd" title="rend_service_free_all" alt="" coords="445,56,591,83"/>
</map>
</div>

</div>
</div>
<a id="ab85bc5f1bcd5c91edb70efede89c8ee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab85bc5f1bcd5c91edb70efede89c8ee6">&#9670;&nbsp;</a></span>rend_valid_client_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rend_valid_client_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>client_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>client_name</b> is a syntactically valid name for rendezvous client authentication. </p>

</div>
</div>
<a id="af5ccbcbbd3b16b2dadbe09d4f286acba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5ccbcbbd3b16b2dadbe09d4f286acba">&#9670;&nbsp;</a></span>rend_valid_descriptor_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rend_valid_descriptor_id </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>query</b> is a syntactically valid descriptor ID. (as generated by rend_get_descriptor_id_bytes). </p>

</div>
</div>
<a id="a4c98beed11b35d28c3e8fe8249d027c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c98beed11b35d28c3e8fe8249d027c5">&#9670;&nbsp;</a></span>rend_valid_service_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rend_valid_service_id </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>query</b> is a syntactically valid service ID (as generated by rend_get_service_id). </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rendcommon_8c_a4c98beed11b35d28c3e8fe8249d027c5_icgraph.png" border="0" usemap="#rendcommon_8c_a4c98beed11b35d28c3e8fe8249d027c5_icgraph" alt=""/></div>
<map name="rendcommon_8c_a4c98beed11b35d28c3e8fe8249d027c5_icgraph" id="rendcommon_8c_a4c98beed11b35d28c3e8fe8249d027c5_icgraph">
<area shape="rect" id="node2" href="rendcache_8h.html#ad9955a4d0f958b0bd0222b5d2c278015" title="rend_cache_lookup_entry" alt="" coords="208,111,379,138"/>
<area shape="rect" id="node8" href="rendservice_8h.html#a9adfef842de9b8aec233a9046b9faeb2" title="rend_service_del_ephemeral" alt="" coords="200,162,387,189"/>
<area shape="rect" id="node3" href="rendclient_8h.html#a69147b3604e7988bbe30715c04fb1ee2" title="rend_client_refetch\l_v2_renddesc" alt="" coords="462,5,594,47"/>
<area shape="rect" id="node4" href="rendclient_8h.html#acb88060f4b84c006debe7de7e0eb7eaf" title="rend_client_report\l_intro_point_failure" alt="" coords="463,71,593,112"/>
<area shape="rect" id="node5" href="rendclient_8h.html#ab6a404500892962da09d28a99822d176" title="rend_client_note_connection\l_attempt_ended" alt="" coords="435,136,621,177"/>
<area shape="rect" id="node7" href="rendclient_8h.html#a57db1b6cc827d2f8376ad36191c422fe" title="rend_client_get_random\l_intro" alt="" coords="448,201,608,243"/>
<area shape="rect" id="node6" href="connection__edge_8c.html#a5922c995ab015f688168d02a6b954050" title="MOCK_IMPL" alt="" coords="669,143,769,170"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
