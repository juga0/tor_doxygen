<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tor: /home/user/_my/code/bwauth-related/tor/src/common/util.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tor
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97b64286d42c5ef1697cb5f17129db19.html">tor</a></li><li class="navelem"><a class="el" href="dir_3cb0ba3f4b82dbe34a1a06276e96bc8d.html">src</a></li><li class="navelem"><a class="el" href="dir_b7e1585941a202f53e5249c42015d573.html">common</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">util.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Common functions for strings, IO, network, data structures, process control.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;orconfig.h&quot;</code><br />
<code>#include &quot;<a class="el" href="util_8h_source.html">util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="torlog_8h_source.html">torlog.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="crypto_8h_source.html">crypto.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="torint_8h_source.html">torint.h</a>&quot;</code><br />
<code>#include &quot;container.h&quot;</code><br />
<code>#include &quot;<a class="el" href="address_8h_source.html">address.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sandbox_8h_source.html">sandbox.h</a>&quot;</code><br />
<code>#include &quot;backtrace.h&quot;</code><br />
<code>#include &quot;<a class="el" href="util__process_8h_source.html">util_process.h</a>&quot;</code><br />
<code>#include &quot;util_format.h&quot;</code><br />
<code>#include &lt;dirent.h&gt;</code><br />
<code>#include &lt;pwd.h&gt;</code><br />
<code>#include &lt;grp.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for util.c:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c__incl.png" border="0" usemap="#_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2common_2util_8c" alt=""/></div>
<map name="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2common_2util_8c" id="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2common_2util_8c">
<area shape="rect" id="node2" href="orconfig_8h_source.html" title="orconfig.h" alt="" coords="885,632,963,659"/>
<area shape="rect" id="node3" href="util_8h.html" title="Headers for util.c. " alt="" coords="613,259,664,285"/>
<area shape="rect" id="node4" href="torint_8h.html" title="Header file to define uint32_t and friends. " alt="" coords="963,557,1026,584"/>
<area shape="rect" id="node15" href="torlog_8h.html" title="Headers for log.c. " alt="" coords="646,333,711,360"/>
<area shape="rect" id="node16" href="crypto_8h.html" title="Headers for crypto.c. " alt="" coords="1137,333,1207,360"/>
<area shape="rect" id="node17" href="container_8h_source.html" title="container.h" alt="" coords="819,184,906,211"/>
<area shape="rect" id="node19" href="address_8h.html" title="Headers for address.h. " alt="" coords="1201,109,1279,136"/>
<area shape="rect" id="node20" href="sandbox_8h.html" title="Header file for sandbox.c. " alt="" coords="1437,483,1520,509"/>
<area shape="rect" id="node21" href="backtrace_8h_source.html" title="backtrace.h" alt="" coords="1480,184,1571,211"/>
<area shape="rect" id="node22" href="util__process_8h.html" title="Headers for util_process.c. " alt="" coords="1582,109,1685,136"/>
<area shape="rect" id="node23" href="util__format_8h_source.html" title="util_format.h" alt="" coords="878,483,973,509"/>
<area shape="rect" id="node5" href="compat_8h_source.html" title="compat.h" alt="" coords="691,408,767,435"/>
<area shape="rect" id="node6" href="testsupport_8h_source.html" title="testsupport.h" alt="" coords="356,557,455,584"/>
<area shape="rect" id="node12" href="di__ops_8h.html" title="Headers for di_ops.c. " alt="" coords="43,483,114,509"/>
<area shape="rect" id="node14" href="util__bug_8h.html" title="util_bug.h" alt="" coords="137,333,215,360"/>
<area shape="rect" id="node8" href="compat__time_8h.html" title="Functions and types for monotonic times. " alt="" coords="801,557,909,584"/>
<area shape="rect" id="node11" href="compat__threads_8h_source.html" title="compat_threads.h" alt="" coords="443,483,570,509"/>
<area shape="rect" id="node18" href="siphash_8h_source.html" title="siphash.h" alt="" coords="823,259,902,285"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structopen__file__t.html">open_file_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0cbf0cc95664980a1b5b84ef4f8af034"><td class="memItemLeft" align="right" valign="top"><a id="a0cbf0cc95664980a1b5b84ef4f8af034"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>UTIL_PRIVATE</b></td></tr>
<tr class="separator:a0cbf0cc95664980a1b5b84ef4f8af034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4534412c9a0d6fdb2972de209354b0ba"><td class="memItemLeft" align="right" valign="top"><a id="a4534412c9a0d6fdb2972de209354b0ba"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_USE_ISOC99_</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a4534412c9a0d6fdb2972de209354b0ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ca3f58833778cfd3ab5610e5c4fa1b"><td class="memItemLeft" align="right" valign="top"><a id="ac4ca3f58833778cfd3ab5610e5c4fa1b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DMALLOC_FN_ARGS</b></td></tr>
<tr class="separator:ac4ca3f58833778cfd3ab5610e5c4fa1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6538e1ff31af191c4bb3326d898d9fa9"><td class="memItemLeft" align="right" valign="top"><a id="a6538e1ff31af191c4bb3326d898d9fa9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SQRT_SIZE_MAX_P1</b>&#160;&#160;&#160;(((size_t)1) &lt;&lt; (sizeof(size_t)*4))</td></tr>
<tr class="separator:a6538e1ff31af191c4bb3326d898d9fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64ea88958a1d307372ff615397bc1f90"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHECK_STRTOX_RESULT</b>()</td></tr>
<tr class="separator:a64ea88958a1d307372ff615397bc1f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a037d31e745b80e57db06f809c5c9973c"><td class="memItemLeft" align="right" valign="top"><a id="a037d31e745b80e57db06f809c5c9973c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TOR_USEC_PER_SEC</b>&#160;&#160;&#160;1000000</td></tr>
<tr class="separator:a037d31e745b80e57db06f809c5c9973c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1720f39e33ed5efd4db6d54f9bf1906"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#ab1720f39e33ed5efd4db6d54f9bf1906">IS_LEAPYEAR</a>(y)&#160;&#160;&#160;(!(y % 4) &amp;&amp; ((y % 100) || !(y % 400)))</td></tr>
<tr class="separator:ab1720f39e33ed5efd4db6d54f9bf1906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac19cd26443d2063fae4669dd911b78d3"><td class="memItemLeft" align="right" valign="top"><a id="ac19cd26443d2063fae4669dd911b78d3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FIFO_READ_MAX</b>&#160;&#160;&#160;(1024*1024)</td></tr>
<tr class="separator:ac19cd26443d2063fae4669dd911b78d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48739d8fe3c9ba335b906e6594a9e65f"><td class="memItemLeft" align="right" valign="top"><a id="a48739d8fe3c9ba335b906e6594a9e65f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TOR_ISODIGIT</b>(c)&#160;&#160;&#160;('0' &lt;= (c) &amp;&amp; (c) &lt;= '7')</td></tr>
<tr class="separator:a48739d8fe3c9ba335b906e6594a9e65f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f86622395b61ddc2208174e8cd05f3"><td class="memItemLeft" align="right" valign="top"><a id="aa5f86622395b61ddc2208174e8cd05f3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_SCANF_WIDTH</b>&#160;&#160;&#160;9999</td></tr>
<tr class="separator:aa5f86622395b61ddc2208174e8cd05f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeed2a131ac1f1b165ee744b1d69ef52e"><td class="memItemLeft" align="right" valign="top"><a id="aeed2a131ac1f1b165ee744b1d69ef52e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_MAX_FD</b>&#160;&#160;&#160;256</td></tr>
<tr class="separator:aeed2a131ac1f1b165ee744b1d69ef52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d8eff967313657fb4892acb792d00c3"><td class="memItemLeft" align="right" valign="top"><a id="a6d8eff967313657fb4892acb792d00c3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TIME_TO_EXEC_FWHELPER_SUCCESS</b>&#160;&#160;&#160;300</td></tr>
<tr class="separator:a6d8eff967313657fb4892acb792d00c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e68da2e3235d2b9be2b90089851f842"><td class="memItemLeft" align="right" valign="top"><a id="a1e68da2e3235d2b9be2b90089851f842"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TIME_TO_EXEC_FWHELPER_FAIL</b>&#160;&#160;&#160;60</td></tr>
<tr class="separator:a1e68da2e3235d2b9be2b90089851f842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">child-process states</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Each of these values represents a possible state that a child process can be in. They're used to determine what to say when telling the parent how far along we were before failure. </p>
</div></td></tr>
<tr class="memitem:acadd540ad1aac84bfcb4d360608744ae"><td class="memItemLeft" align="right" valign="top"><a id="acadd540ad1aac84bfcb4d360608744ae"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHILD_STATE_INIT</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:acadd540ad1aac84bfcb4d360608744ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71d3acadaab0522aefc3d3f60bd916c1"><td class="memItemLeft" align="right" valign="top"><a id="a71d3acadaab0522aefc3d3f60bd916c1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHILD_STATE_PIPE</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a71d3acadaab0522aefc3d3f60bd916c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb728729ca1c91ffee22604492e4c59"><td class="memItemLeft" align="right" valign="top"><a id="a7eb728729ca1c91ffee22604492e4c59"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHILD_STATE_MAXFD</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a7eb728729ca1c91ffee22604492e4c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d62a36aa2e3c0e15932de6ee115c1a"><td class="memItemLeft" align="right" valign="top"><a id="a98d62a36aa2e3c0e15932de6ee115c1a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHILD_STATE_FORK</b>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a98d62a36aa2e3c0e15932de6ee115c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7e407294f6b7af42a2ee0b8b672c2bf"><td class="memItemLeft" align="right" valign="top"><a id="ab7e407294f6b7af42a2ee0b8b672c2bf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHILD_STATE_DUPOUT</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:ab7e407294f6b7af42a2ee0b8b672c2bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c8460d52e9e6993a23df127186e6a5"><td class="memItemLeft" align="right" valign="top"><a id="a34c8460d52e9e6993a23df127186e6a5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHILD_STATE_DUPERR</b>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a34c8460d52e9e6993a23df127186e6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a279218e1944b4b91bb421d4da5bd54b9"><td class="memItemLeft" align="right" valign="top"><a id="a279218e1944b4b91bb421d4da5bd54b9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHILD_STATE_DUPIN</b>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a279218e1944b4b91bb421d4da5bd54b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab55e4dff71447d5d48ef9f549b767def"><td class="memItemLeft" align="right" valign="top"><a id="ab55e4dff71447d5d48ef9f549b767def"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHILD_STATE_CLOSEFD</b>&#160;&#160;&#160;7</td></tr>
<tr class="separator:ab55e4dff71447d5d48ef9f549b767def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b50d90d77ecac220da439ee36d2185a"><td class="memItemLeft" align="right" valign="top"><a id="a6b50d90d77ecac220da439ee36d2185a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHILD_STATE_EXEC</b>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a6b50d90d77ecac220da439ee36d2185a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c2d33f02db97c49fe4fb0a6fb8253a"><td class="memItemLeft" align="right" valign="top"><a id="a49c2d33f02db97c49fe4fb0a6fb8253a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHILD_STATE_FAILEXEC</b>&#160;&#160;&#160;9</td></tr>
<tr class="separator:a49c2d33f02db97c49fe4fb0a6fb8253a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac4fb16a7033fadcbbef9267c543e1956"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#ac4fb16a7033fadcbbef9267c543e1956">tor_malloc_</a> (size_t size DMALLOC_PARAMS)</td></tr>
<tr class="separator:ac4fb16a7033fadcbbef9267c543e1956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7405df3da88d7ea0cd3caf81fb08b361"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a7405df3da88d7ea0cd3caf81fb08b361">tor_malloc_zero_</a> (size_t size DMALLOC_PARAMS)</td></tr>
<tr class="separator:a7405df3da88d7ea0cd3caf81fb08b361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf0799dff060a0f036418f47ec8921e6"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#aaf0799dff060a0f036418f47ec8921e6">tor_calloc_</a> (size_t nmemb, size_t size DMALLOC_PARAMS)</td></tr>
<tr class="separator:aaf0799dff060a0f036418f47ec8921e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d169aae56af8034ded171839c8a5c4a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a3d169aae56af8034ded171839c8a5c4a">tor_realloc_</a> (void *ptr, size_t size DMALLOC_PARAMS)</td></tr>
<tr class="separator:a3d169aae56af8034ded171839c8a5c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a882356feb0fa2fe4001c5298015862a3"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a882356feb0fa2fe4001c5298015862a3">tor_reallocarray_</a> (void *ptr, size_t sz1, size_t sz2 DMALLOC_PARAMS)</td></tr>
<tr class="separator:a882356feb0fa2fe4001c5298015862a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a505a294e869f33a39909c18e6532cd68"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a505a294e869f33a39909c18e6532cd68">tor_strdup_</a> (const char *s DMALLOC_PARAMS)</td></tr>
<tr class="separator:a505a294e869f33a39909c18e6532cd68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a285103817ab128605f5e7aabdf0dafe8"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a285103817ab128605f5e7aabdf0dafe8">tor_strndup_</a> (const char *s, size_t n DMALLOC_PARAMS)</td></tr>
<tr class="separator:a285103817ab128605f5e7aabdf0dafe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf0c32853fed8fe6fabc4e9396a0a4ce"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#aaf0c32853fed8fe6fabc4e9396a0a4ce">tor_memdup_</a> (const void *mem, size_t len DMALLOC_PARAMS)</td></tr>
<tr class="separator:aaf0c32853fed8fe6fabc4e9396a0a4ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53410dfa4324dcf545e7ac907bd0106a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a53410dfa4324dcf545e7ac907bd0106a">tor_memdup_nulterm_</a> (const void *mem, size_t len DMALLOC_PARAMS)</td></tr>
<tr class="separator:a53410dfa4324dcf545e7ac907bd0106a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d94cc20afc38582c65aa418919ebed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a40d94cc20afc38582c65aa418919ebed">tor_free_</a> (void *mem)</td></tr>
<tr class="separator:a40d94cc20afc38582c65aa418919ebed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af16b9ea01680fc8d8adb247d1549c00c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#af16b9ea01680fc8d8adb247d1549c00c">tor_log_mallinfo</a> (int severity)</td></tr>
<tr class="separator:af16b9ea01680fc8d8adb247d1549c00c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a439eb5ebebe45181a077082b5f5ec598"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a439eb5ebebe45181a077082b5f5ec598">tor_mathlog</a> (double d)</td></tr>
<tr class="separator:a439eb5ebebe45181a077082b5f5ec598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44cb339836df0bbfcf8416209976f6db"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a44cb339836df0bbfcf8416209976f6db">tor_lround</a> (double d)</td></tr>
<tr class="separator:a44cb339836df0bbfcf8416209976f6db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b0befd3ad0e6ffcf03da6bd791d7e75"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a9b0befd3ad0e6ffcf03da6bd791d7e75">tor_llround</a> (double d)</td></tr>
<tr class="separator:a9b0befd3ad0e6ffcf03da6bd791d7e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a221f4e984b660ea3932b18d49c10ae05"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a221f4e984b660ea3932b18d49c10ae05">tor_log2</a> (uint64_t u64)</td></tr>
<tr class="separator:a221f4e984b660ea3932b18d49c10ae05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae44cd05245deb753551a05b5b4ad271f"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#ae44cd05245deb753551a05b5b4ad271f">round_to_power_of_2</a> (uint64_t u64)</td></tr>
<tr class="separator:ae44cd05245deb753551a05b5b4ad271f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d370e39e1dfeb9c6436bd7879c04ce2"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a8d370e39e1dfeb9c6436bd7879c04ce2">round_to_next_multiple_of</a> (unsigned number, unsigned divisor)</td></tr>
<tr class="separator:a8d370e39e1dfeb9c6436bd7879c04ce2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8736099b0ade1d9bfdcca508257fc0f5"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a8736099b0ade1d9bfdcca508257fc0f5">round_uint32_to_next_multiple_of</a> (uint32_t number, uint32_t divisor)</td></tr>
<tr class="separator:a8736099b0ade1d9bfdcca508257fc0f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af988d4e0eccfc51ee92e983170091b37"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#af988d4e0eccfc51ee92e983170091b37">round_uint64_to_next_multiple_of</a> (uint64_t number, uint64_t divisor)</td></tr>
<tr class="separator:af988d4e0eccfc51ee92e983170091b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a71fe4811768a82c3060e8946ee62b4"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a7a71fe4811768a82c3060e8946ee62b4">sample_laplace_distribution</a> (double mu, double b, double p)</td></tr>
<tr class="separator:a7a71fe4811768a82c3060e8946ee62b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37dbad9fcf523be6a991f30ac4c2bfd6"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a37dbad9fcf523be6a991f30ac4c2bfd6">add_laplace_noise</a> (int64_t signal_, double random_, double delta_f, double epsilon)</td></tr>
<tr class="separator:a37dbad9fcf523be6a991f30ac4c2bfd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7113a7890fceb4f3af38cc1c1345627"><td class="memItemLeft" align="right" valign="top"><a id="ad7113a7890fceb4f3af38cc1c1345627"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>simplify_fraction64</b> (uint64_t *numer, uint64_t *denom)</td></tr>
<tr class="separator:ad7113a7890fceb4f3af38cc1c1345627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13961bf3ef2587508876b5ee616222fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a13961bf3ef2587508876b5ee616222fc">n_bits_set_u8</a> (uint8_t v)</td></tr>
<tr class="separator:a13961bf3ef2587508876b5ee616222fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96e40a3f8c0df5e234fc7640796fe539"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a96e40a3f8c0df5e234fc7640796fe539">tor_strstrip</a> (char *s, const char *strip)</td></tr>
<tr class="separator:a96e40a3f8c0df5e234fc7640796fe539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17effd59ed2f9bf4cfebb12e423ded7f"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a17effd59ed2f9bf4cfebb12e423ded7f">hex_str</a> (const char *from, size_t fromlen)</td></tr>
<tr class="separator:a17effd59ed2f9bf4cfebb12e423ded7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ec7622e977b0d3a00d672dbe3c4ef1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a1ec7622e977b0d3a00d672dbe3c4ef1f">tor_strlower</a> (char *s)</td></tr>
<tr class="separator:a1ec7622e977b0d3a00d672dbe3c4ef1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e2453faef9677a638a014103aed225"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a44e2453faef9677a638a014103aed225">tor_strupper</a> (char *s)</td></tr>
<tr class="separator:a44e2453faef9677a638a014103aed225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bf05ee543d6f7b3a3b3e47bec2a242f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a5bf05ee543d6f7b3a3b3e47bec2a242f">tor_strisprint</a> (const char *s)</td></tr>
<tr class="separator:a5bf05ee543d6f7b3a3b3e47bec2a242f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaab0f88cea2f367f28e98b23e6871f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#acaab0f88cea2f367f28e98b23e6871f5">tor_strisnonupper</a> (const char *s)</td></tr>
<tr class="separator:acaab0f88cea2f367f28e98b23e6871f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66dfc160abb620a3fccaf54d563e5725"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a66dfc160abb620a3fccaf54d563e5725">strcmp_opt</a> (const char *s1, const char *s2)</td></tr>
<tr class="separator:a66dfc160abb620a3fccaf54d563e5725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a245aaefd9d8715af06ce0f7b7355fd0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a245aaefd9d8715af06ce0f7b7355fd0d">strcmpstart</a> (const char *s1, const char *s2)</td></tr>
<tr class="separator:a245aaefd9d8715af06ce0f7b7355fd0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a2ca528cbd3f30a7a22d2ae2c82594"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a96a2ca528cbd3f30a7a22d2ae2c82594">strcmp_len</a> (const char *s1, const char *s2, size_t s1_len)</td></tr>
<tr class="separator:a96a2ca528cbd3f30a7a22d2ae2c82594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d095be5cec365a93ac90501390f70fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a1d095be5cec365a93ac90501390f70fa">strcasecmpstart</a> (const char *s1, const char *s2)</td></tr>
<tr class="separator:a1d095be5cec365a93ac90501390f70fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28445ce92bb84e6413d5437428dae850"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a28445ce92bb84e6413d5437428dae850">strcmpend</a> (const char *s1, const char *s2)</td></tr>
<tr class="separator:a28445ce92bb84e6413d5437428dae850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a595e5e722adc3f46c2d27bced61a8a18"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a595e5e722adc3f46c2d27bced61a8a18">strcasecmpend</a> (const char *s1, const char *s2)</td></tr>
<tr class="separator:a595e5e722adc3f46c2d27bced61a8a18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5053b1adb75de7e1697e3ed8fa365ab8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a5053b1adb75de7e1697e3ed8fa365ab8">fast_memcmpstart</a> (const void *mem, size_t memlen, const char *prefix)</td></tr>
<tr class="separator:a5053b1adb75de7e1697e3ed8fa365ab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69faf166aa0aa9164d2134419c81ba1b"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a69faf166aa0aa9164d2134419c81ba1b">eat_whitespace</a> (const char *s)</td></tr>
<tr class="separator:a69faf166aa0aa9164d2134419c81ba1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6131c8f51e7c98072a0697c68be9bed9"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a6131c8f51e7c98072a0697c68be9bed9">eat_whitespace_eos</a> (const char *s, const char *eos)</td></tr>
<tr class="separator:a6131c8f51e7c98072a0697c68be9bed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab838c820246f358bc0b99884154b2704"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#ab838c820246f358bc0b99884154b2704">eat_whitespace_no_nl</a> (const char *s)</td></tr>
<tr class="separator:ab838c820246f358bc0b99884154b2704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bb1364a2d99b1af1fa75dd87c1912d2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a0bb1364a2d99b1af1fa75dd87c1912d2">eat_whitespace_eos_no_nl</a> (const char *s, const char *eos)</td></tr>
<tr class="separator:a0bb1364a2d99b1af1fa75dd87c1912d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34984f08eb3eef95438b8e65226dff8e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a34984f08eb3eef95438b8e65226dff8e">find_whitespace</a> (const char *s)</td></tr>
<tr class="separator:a34984f08eb3eef95438b8e65226dff8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b8d1db012eaaff2542537dee3c644a3"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a2b8d1db012eaaff2542537dee3c644a3">find_whitespace_eos</a> (const char *s, const char *eos)</td></tr>
<tr class="separator:a2b8d1db012eaaff2542537dee3c644a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb59ba844f26d47f1cf42a2c0b324db8"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#acb59ba844f26d47f1cf42a2c0b324db8">find_str_at_start_of_line</a> (const char *haystack, const char *needle)</td></tr>
<tr class="separator:acb59ba844f26d47f1cf42a2c0b324db8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936fd5dfa0ccd9b836df432640cbfe88"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a936fd5dfa0ccd9b836df432640cbfe88">string_is_C_identifier</a> (const char *string)</td></tr>
<tr class="separator:a936fd5dfa0ccd9b836df432640cbfe88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c5079074e649dc0369225eca3073f7d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a7c5079074e649dc0369225eca3073f7d">tor_mem_is_zero</a> (const char *mem, size_t len)</td></tr>
<tr class="separator:a7c5079074e649dc0369225eca3073f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add0703747195c2abd042572426e80266"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#add0703747195c2abd042572426e80266">tor_digest_is_zero</a> (const char *digest)</td></tr>
<tr class="separator:add0703747195c2abd042572426e80266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb7293a905e61c3a9ba683a8ed9ad99"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a4fb7293a905e61c3a9ba683a8ed9ad99">string_is_key_value</a> (int severity, const char *string)</td></tr>
<tr class="separator:a4fb7293a905e61c3a9ba683a8ed9ad99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a307d12f617bd1f5606b8f971733e4c48"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a307d12f617bd1f5606b8f971733e4c48">string_is_valid_ipv4_address</a> (const char *string)</td></tr>
<tr class="separator:a307d12f617bd1f5606b8f971733e4c48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06c31f983cd56699cca308532a09a14c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a06c31f983cd56699cca308532a09a14c">string_is_valid_ipv6_address</a> (const char *string)</td></tr>
<tr class="separator:a06c31f983cd56699cca308532a09a14c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e86f3506694e8592bb7f926af588b07"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a6e86f3506694e8592bb7f926af588b07">string_is_valid_hostname</a> (const char *string)</td></tr>
<tr class="separator:a6e86f3506694e8592bb7f926af588b07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a714ca710c1b7d56d6633bf2d1f550cad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a714ca710c1b7d56d6633bf2d1f550cad">tor_digest256_is_zero</a> (const char *digest)</td></tr>
<tr class="separator:a714ca710c1b7d56d6633bf2d1f550cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d00748e8ddd4a785d07fec04205b892"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a1d00748e8ddd4a785d07fec04205b892">tor_parse_long</a> (const char *s, int base, long min, long max, int *ok, char **next)</td></tr>
<tr class="separator:a1d00748e8ddd4a785d07fec04205b892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c315755a2fb518d47d7397a14e506de"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a8c315755a2fb518d47d7397a14e506de">tor_parse_ulong</a> (const char *s, int base, unsigned long min, unsigned long max, int *ok, char **next)</td></tr>
<tr class="separator:a8c315755a2fb518d47d7397a14e506de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab465dbfbc9e54d89b7cada4bcb3c83cb"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#ab465dbfbc9e54d89b7cada4bcb3c83cb">tor_parse_double</a> (const char *s, double min, double max, int *ok, char **next)</td></tr>
<tr class="separator:ab465dbfbc9e54d89b7cada4bcb3c83cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fa6261bbc231af861f420e8411e0f03"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a0fa6261bbc231af861f420e8411e0f03">tor_parse_uint64</a> (const char *s, int base, uint64_t min, uint64_t max, int *ok, char **next)</td></tr>
<tr class="separator:a0fa6261bbc231af861f420e8411e0f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac152e18c6deb4f05823053bb2980a8e4"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#ac152e18c6deb4f05823053bb2980a8e4">esc_for_log</a> (const char *s)</td></tr>
<tr class="separator:ac152e18c6deb4f05823053bb2980a8e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeece0265a0fe8dd5b9a254b00dd27ad2"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#aeece0265a0fe8dd5b9a254b00dd27ad2">esc_for_log_len</a> (const char *chars, size_t n)</td></tr>
<tr class="separator:aeece0265a0fe8dd5b9a254b00dd27ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354eb90598823d4fd6111b94c9c0ce97"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a354eb90598823d4fd6111b94c9c0ce97">escaped</a> (const char *s)</td></tr>
<tr class="separator:a354eb90598823d4fd6111b94c9c0ce97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a007f8fc912d371f5789fdb6d82616"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a70a007f8fc912d371f5789fdb6d82616">tor_escape_str_for_pt_args</a> (const char *string, const char *chars_to_escape)</td></tr>
<tr class="separator:a70a007f8fc912d371f5789fdb6d82616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40683a877f0ef2262f9a5d7b4e9acbdc"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a40683a877f0ef2262f9a5d7b4e9acbdc">tv_udiff</a> (const struct <a class="el" href="structtimeval.html">timeval</a> *start, const struct <a class="el" href="structtimeval.html">timeval</a> *end)</td></tr>
<tr class="separator:a40683a877f0ef2262f9a5d7b4e9acbdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa86d039278659b0bcd070908fb5e5218"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#aa86d039278659b0bcd070908fb5e5218">tv_mdiff</a> (const struct <a class="el" href="structtimeval.html">timeval</a> *start, const struct <a class="el" href="structtimeval.html">timeval</a> *end)</td></tr>
<tr class="separator:aa86d039278659b0bcd070908fb5e5218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b535fd3c14d8db8e53d43cc9c4a9770"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a3b535fd3c14d8db8e53d43cc9c4a9770">tv_to_msec</a> (const struct <a class="el" href="structtimeval.html">timeval</a> *tv)</td></tr>
<tr class="separator:a3b535fd3c14d8db8e53d43cc9c4a9770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a966c4dd39a43f89fd5207aebb4756654"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a966c4dd39a43f89fd5207aebb4756654">tor_timegm</a> (const struct tm *tm, time_t *time_out)</td></tr>
<tr class="separator:a966c4dd39a43f89fd5207aebb4756654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e1e4c423a6ba1306a9c3b2565e99391"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a0e1e4c423a6ba1306a9c3b2565e99391">format_rfc1123_time</a> (char *buf, time_t t)</td></tr>
<tr class="separator:a0e1e4c423a6ba1306a9c3b2565e99391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4968664a12def8a77e2eefd8f38f7217"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a4968664a12def8a77e2eefd8f38f7217">parse_rfc1123_time</a> (const char *buf, time_t *t)</td></tr>
<tr class="separator:a4968664a12def8a77e2eefd8f38f7217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ea588248ddc24be41620939146e356b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a6ea588248ddc24be41620939146e356b">format_local_iso_time</a> (char *buf, time_t t)</td></tr>
<tr class="separator:a6ea588248ddc24be41620939146e356b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a270ca9db337eb4621f623a69c0faeb64"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a270ca9db337eb4621f623a69c0faeb64">format_iso_time</a> (char *buf, time_t t)</td></tr>
<tr class="separator:a270ca9db337eb4621f623a69c0faeb64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d7e19b54b49c88b434adaaf7d9b4f85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a0d7e19b54b49c88b434adaaf7d9b4f85">format_iso_time_nospace</a> (char *buf, time_t t)</td></tr>
<tr class="separator:a0d7e19b54b49c88b434adaaf7d9b4f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a198d1f011891d6d369bab39eaeecd275"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a198d1f011891d6d369bab39eaeecd275">format_iso_time_nospace_usec</a> (char *buf, const struct <a class="el" href="structtimeval.html">timeval</a> *tv)</td></tr>
<tr class="separator:a198d1f011891d6d369bab39eaeecd275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b3dda16e5097d60dd0a43815cc84fa8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a1b3dda16e5097d60dd0a43815cc84fa8">parse_iso_time_</a> (const char *cp, time_t *t, int strict)</td></tr>
<tr class="separator:a1b3dda16e5097d60dd0a43815cc84fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff3d3e28d4f54b708d8ca2a83794308"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a0ff3d3e28d4f54b708d8ca2a83794308">parse_iso_time</a> (const char *cp, time_t *t)</td></tr>
<tr class="separator:a0ff3d3e28d4f54b708d8ca2a83794308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18f61e4343161ea52d3a1396386026c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a18f61e4343161ea52d3a1396386026c4">parse_http_time</a> (const char *date, struct tm *tm)</td></tr>
<tr class="separator:a18f61e4343161ea52d3a1396386026c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a88be72c2d4775622cedbda5d76f833"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a9a88be72c2d4775622cedbda5d76f833">format_time_interval</a> (char *out, size_t out_len, long interval)</td></tr>
<tr class="separator:a9a88be72c2d4775622cedbda5d76f833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca03d8cb6a22d540b13b92ea5945df33"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#aca03d8cb6a22d540b13b92ea5945df33">approx_time</a> (void)</td></tr>
<tr class="separator:aca03d8cb6a22d540b13b92ea5945df33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866d4c80bbdc37a0279c2bd02f4b2bde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a866d4c80bbdc37a0279c2bd02f4b2bde">update_approx_time</a> (time_t now)</td></tr>
<tr class="separator:a866d4c80bbdc37a0279c2bd02f4b2bde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b6ade9f7a0036f23e62eb950b4bd54f"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a7b6ade9f7a0036f23e62eb950b4bd54f">rate_limit_log</a> (<a class="el" href="structratelim__t.html">ratelim_t</a> *lim, time_t now)</td></tr>
<tr class="separator:a7b6ade9f7a0036f23e62eb950b4bd54f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb16940d73c3b4012f2f810f3ecbecd"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a0eb16940d73c3b4012f2f810f3ecbecd">write_all</a> (tor_socket_t fd, const char *buf, size_t count, int isSocket)</td></tr>
<tr class="separator:a0eb16940d73c3b4012f2f810f3ecbecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f7ba7abeacdd02663350b7278098d44"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a7f7ba7abeacdd02663350b7278098d44">read_all</a> (tor_socket_t fd, char *buf, size_t count, int isSocket)</td></tr>
<tr class="separator:a7f7ba7abeacdd02663350b7278098d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d60b02b2bdb25bbf582496a1e16072c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a2d60b02b2bdb25bbf582496a1e16072c">MOCK_IMPL</a> (int, tor_unlink,(const char *pathname))</td></tr>
<tr class="separator:a2d60b02b2bdb25bbf582496a1e16072c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae26b1614b89d2c4bbfe5a7c2dab7c76"><td class="memItemLeft" align="right" valign="top"><a class="el" href="util_8h.html#a83a53fbc2832eca17cafe21fd209420c">file_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#aae26b1614b89d2c4bbfe5a7c2dab7c76">file_status</a> (const char *fname)</td></tr>
<tr class="separator:aae26b1614b89d2c4bbfe5a7c2dab7c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53a01d55a7c6e8dd7f25c270d2b70f05"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a53a01d55a7c6e8dd7f25c270d2b70f05">MOCK_IMPL</a> (int, check_private_dir,(const char *dirname, <a class="el" href="util_8h.html#a5de34b7fb58161640f7254a4c14119f7">cpd_check_t</a> check, const char *effective_user))</td></tr>
<tr class="separator:a53a01d55a7c6e8dd7f25c270d2b70f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b000f4f73f86564abf8872d0fa6a9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a46b000f4f73f86564abf8872d0fa6a9a">MOCK_IMPL</a> (int, write_str_to_file,(const char *fname, const char *str, int bin))</td></tr>
<tr class="separator:a46b000f4f73f86564abf8872d0fa6a9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f3fb0bdeb712732f51d0f9e3b0c849c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a5f3fb0bdeb712732f51d0f9e3b0c849c">start_writing_to_file</a> (const char *fname, int open_flags, int mode, <a class="el" href="structopen__file__t.html">open_file_t</a> **data_out)</td></tr>
<tr class="separator:a5f3fb0bdeb712732f51d0f9e3b0c849c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0cbd74a7fe81a4aa5efab4d87628ea0"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#ac0cbd74a7fe81a4aa5efab4d87628ea0">fdopen_file</a> (<a class="el" href="structopen__file__t.html">open_file_t</a> *file_data)</td></tr>
<tr class="separator:ac0cbd74a7fe81a4aa5efab4d87628ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a3fe13e93e542ee9b598d865f2647c"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#aa4a3fe13e93e542ee9b598d865f2647c">start_writing_to_stdio_file</a> (const char *fname, int open_flags, int mode, <a class="el" href="structopen__file__t.html">open_file_t</a> **data_out)</td></tr>
<tr class="separator:aa4a3fe13e93e542ee9b598d865f2647c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34dff6b01b03f9d8609c93fec5fffc17"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a34dff6b01b03f9d8609c93fec5fffc17">finish_writing_to_file</a> (<a class="el" href="structopen__file__t.html">open_file_t</a> *file_data)</td></tr>
<tr class="separator:a34dff6b01b03f9d8609c93fec5fffc17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55ed8b7b00f14493effd493a957ddf1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#ac55ed8b7b00f14493effd493a957ddf1">abort_writing_to_file</a> (<a class="el" href="structopen__file__t.html">open_file_t</a> *file_data)</td></tr>
<tr class="separator:ac55ed8b7b00f14493effd493a957ddf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae01530967d53afcfefa8227c98072e83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#ae01530967d53afcfefa8227c98072e83">write_chunks_to_file</a> (const char *fname, const <a class="el" href="structsmartlist__t.html">smartlist_t</a> *chunks, int bin, int no_tempfile)</td></tr>
<tr class="separator:ae01530967d53afcfefa8227c98072e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb8751c9768c71bd548ce847b9f1d2d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#acb8751c9768c71bd548ce847b9f1d2d8">MOCK_IMPL</a> (int, write_bytes_to_file,(const char *fname, const char *str, size_t len, int bin))</td></tr>
<tr class="separator:acb8751c9768c71bd548ce847b9f1d2d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8623147f8fba9a3c98c906f554601f35"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a8623147f8fba9a3c98c906f554601f35">append_bytes_to_file</a> (const char *fname, const char *str, size_t len, int bin)</td></tr>
<tr class="separator:a8623147f8fba9a3c98c906f554601f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38d75b2709a797a91881a298dea484c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a38d75b2709a797a91881a298dea484c7">write_bytes_to_new_file</a> (const char *fname, const char *str, size_t len, int bin)</td></tr>
<tr class="separator:a38d75b2709a797a91881a298dea484c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae161e4c3bcf049fa0b2ba6136c3ddd56"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#ae161e4c3bcf049fa0b2ba6136c3ddd56">read_file_to_str_until_eof</a> (int fd, size_t max_bytes_to_read, size_t *sz_out)</td></tr>
<tr class="separator:ae161e4c3bcf049fa0b2ba6136c3ddd56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18a8335da29f8a902b5d2d3b9ef68f19"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a18a8335da29f8a902b5d2d3b9ef68f19">MOCK_IMPL</a> (char *, read_file_to_str,(const char *filename, int flags, struct stat *stat_out))</td></tr>
<tr class="separator:a18a8335da29f8a902b5d2d3b9ef68f19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4d578a2bb5f75e1cd2d1b523d94c92"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a8e4d578a2bb5f75e1cd2d1b523d94c92">unescape_string</a> (const char *s, char **result, size_t *size_out)</td></tr>
<tr class="separator:a8e4d578a2bb5f75e1cd2d1b523d94c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabb29a0799fb54c87b3f6a4e7c252cb1"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#aabb29a0799fb54c87b3f6a4e7c252cb1">parse_config_line_from_str_verbose</a> (const char *line, char **key_out, char **value_out, const char **err_out)</td></tr>
<tr class="separator:aabb29a0799fb54c87b3f6a4e7c252cb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89a3242e83d59f2ccb9bb662e9a94134"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a89a3242e83d59f2ccb9bb662e9a94134">expand_filename</a> (const char *filename)</td></tr>
<tr class="separator:a89a3242e83d59f2ccb9bb662e9a94134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e57e8764505012f016303eab3e4180"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a90e57e8764505012f016303eab3e4180">tor_vsscanf</a> (const char *buf, const char *pattern, va_list ap)</td></tr>
<tr class="separator:a90e57e8764505012f016303eab3e4180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58eee4159dfe33194147f2146f0dbc2f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a58eee4159dfe33194147f2146f0dbc2f">tor_sscanf</a> (const char *buf, const char *pattern,...)</td></tr>
<tr class="separator:a58eee4159dfe33194147f2146f0dbc2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68cb44a66a7446022122c93590b6d179"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a68cb44a66a7446022122c93590b6d179">smartlist_add_asprintf</a> (struct <a class="el" href="structsmartlist__t.html">smartlist_t</a> *sl, const char *pattern,...)</td></tr>
<tr class="separator:a68cb44a66a7446022122c93590b6d179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fee2abf83af3a8b8a18b245daf4083b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a4fee2abf83af3a8b8a18b245daf4083b">smartlist_add_vasprintf</a> (struct <a class="el" href="structsmartlist__t.html">smartlist_t</a> *sl, const char *pattern, va_list args)</td></tr>
<tr class="separator:a4fee2abf83af3a8b8a18b245daf4083b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7df82707fff59896c355f363b21c53cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a7df82707fff59896c355f363b21c53cd">MOCK_IMPL</a> (<a class="el" href="structsmartlist__t.html">smartlist_t</a> *, tor_listdir,(const char *dirname))</td></tr>
<tr class="separator:a7df82707fff59896c355f363b21c53cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba3030cb2c1b5c587301c81b37243404"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#aba3030cb2c1b5c587301c81b37243404">path_is_relative</a> (const char *filename)</td></tr>
<tr class="separator:aba3030cb2c1b5c587301c81b37243404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ce5e8df63b6d2ae9cb31a301fecb350"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a9ce5e8df63b6d2ae9cb31a301fecb350">start_daemon</a> (void)</td></tr>
<tr class="separator:a9ce5e8df63b6d2ae9cb31a301fecb350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc27414998a66c3602c4199b8316ec29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#acc27414998a66c3602c4199b8316ec29">finish_daemon</a> (const char *desired_cwd)</td></tr>
<tr class="separator:acc27414998a66c3602c4199b8316ec29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfd840af6560e9723b41fb936d6935ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#acfd840af6560e9723b41fb936d6935ed">write_pidfile</a> (const char *filename)</td></tr>
<tr class="separator:acfd840af6560e9723b41fb936d6935ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf5a920e5066e56d3267e95ab675bdc0"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#abf5a920e5066e56d3267e95ab675bdc0">tor_join_win_cmdline</a> (const char *argv[])</td></tr>
<tr class="separator:abf5a920e5066e56d3267e95ab675bdc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5295de634ed543ced2412a93c77bb0ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a5295de634ed543ced2412a93c77bb0ab">format_hex_number_sigsafe</a> (unsigned long x, char *buf, int buf_len)</td></tr>
<tr class="separator:a5295de634ed543ced2412a93c77bb0ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4111988030c2da71eec585c6b5ecc1bb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a4111988030c2da71eec585c6b5ecc1bb">format_dec_number_sigsafe</a> (unsigned long x, char *buf, int buf_len)</td></tr>
<tr class="separator:a4111988030c2da71eec585c6b5ecc1bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd19d8da6d9f5237a8815199361c37b7"><td class="memItemLeft" align="right" valign="top">STATIC int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#acd19d8da6d9f5237a8815199361c37b7">format_helper_exit_status</a> (unsigned char child_state, int saved_errno, char *hex_errno)</td></tr>
<tr class="separator:acd19d8da6d9f5237a8815199361c37b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5189d0a5ffdf1ce3ac328aef77a32496"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a5189d0a5ffdf1ce3ac328aef77a32496">tor_terminate_process</a> (process_handle_t *process_handle)</td></tr>
<tr class="separator:a5189d0a5ffdf1ce3ac328aef77a32496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ffe4b25d88ed9e9fe0024efd0bcfd36"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a4ffe4b25d88ed9e9fe0024efd0bcfd36">tor_process_get_pid</a> (process_handle_t *process_handle)</td></tr>
<tr class="separator:a4ffe4b25d88ed9e9fe0024efd0bcfd36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52c9d71fcf4db360c3bb4db819fd3c7d"><td class="memItemLeft" align="right" valign="top"><a id="a52c9d71fcf4db360c3bb4db819fd3c7d"></a>
FILE *&#160;</td><td class="memItemRight" valign="bottom"><b>tor_process_get_stdout_pipe</b> (process_handle_t *process_handle)</td></tr>
<tr class="separator:a52c9d71fcf4db360c3bb4db819fd3c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a314f05865bf730672a42dd9da355f884"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a314f05865bf730672a42dd9da355f884">tor_spawn_background</a> (const char *const filename, const char **argv, <a class="el" href="structprocess__environment__t.html">process_environment_t</a> *env, process_handle_t **process_handle_out)</td></tr>
<tr class="separator:a314f05865bf730672a42dd9da355f884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a812faddc218480a687a37305f1ae17cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a812faddc218480a687a37305f1ae17cf">MOCK_IMPL</a> (void, tor_process_handle_destroy,(process_handle_t *process_handle, int also_terminate_process))</td></tr>
<tr class="separator:a812faddc218480a687a37305f1ae17cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae5b7e7e99ea4705673069cf581ab70b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#aae5b7e7e99ea4705673069cf581ab70b">tor_get_exit_code</a> (process_handle_t *process_handle, int block, int *exit_code)</td></tr>
<tr class="separator:aae5b7e7e99ea4705673069cf581ab70b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a584e4996b64ee5bce8e33d46812388bc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a584e4996b64ee5bce8e33d46812388bc">environment_variable_names_equal</a> (const char *s1, const char *s2)</td></tr>
<tr class="separator:a584e4996b64ee5bce8e33d46812388bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85b13f9b761bab5b056bca836fbed32c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a85b13f9b761bab5b056bca836fbed32c">process_environment_free</a> (<a class="el" href="structprocess__environment__t.html">process_environment_t</a> *env)</td></tr>
<tr class="separator:a85b13f9b761bab5b056bca836fbed32c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a575120f4319acc1717c0592c4bf3e95a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structprocess__environment__t.html">process_environment_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a575120f4319acc1717c0592c4bf3e95a">process_environment_make</a> (struct <a class="el" href="structsmartlist__t.html">smartlist_t</a> *env_vars)</td></tr>
<tr class="separator:a575120f4319acc1717c0592c4bf3e95a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98f5785d540bfcd4822ebbcbe61685cd"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a98f5785d540bfcd4822ebbcbe61685cd">get_current_process_environment_variables</a> (void)</td></tr>
<tr class="separator:a98f5785d540bfcd4822ebbcbe61685cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3b38763d1dc04eff42f596c14efb1c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#ae3b38763d1dc04eff42f596c14efb1c9">set_environment_variable_in_smartlist</a> (struct <a class="el" href="structsmartlist__t.html">smartlist_t</a> *env_vars, const char *new_var, void(*free_old)(void *), int free_p)</td></tr>
<tr class="separator:ae3b38763d1dc04eff42f596c14efb1c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78fd132b1188cdc0ac5e225dc160194f"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a78fd132b1188cdc0ac5e225dc160194f">tor_read_all_handle</a> (FILE *h, char *buf, size_t count, const process_handle_t *process, int *eof)</td></tr>
<tr class="separator:a78fd132b1188cdc0ac5e225dc160194f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a793d72f9aa9b10762da2d74f414f14e4"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a793d72f9aa9b10762da2d74f414f14e4">tor_read_all_from_process_stdout</a> (const process_handle_t *process_handle, char *buf, size_t count)</td></tr>
<tr class="separator:a793d72f9aa9b10762da2d74f414f14e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5512823a9379c4bc5f60c956600d00b6"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a5512823a9379c4bc5f60c956600d00b6">tor_read_all_from_process_stderr</a> (const process_handle_t *process_handle, char *buf, size_t count)</td></tr>
<tr class="separator:a5512823a9379c4bc5f60c956600d00b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4a56a6278fc3fbf7ddf018c99e6b29"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a8e4a56a6278fc3fbf7ddf018c99e6b29">tor_split_lines</a> (<a class="el" href="structsmartlist__t.html">smartlist_t</a> *sl, char *buf, int len)</td></tr>
<tr class="separator:a8e4a56a6278fc3fbf7ddf018c99e6b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a277d6cece483ae49a0bf173a0529a"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a50a277d6cece483ae49a0bf173a0529a">stream_status_to_string</a> (enum <a class="el" href="util_8h.html#a5d31dda277e56fa17f61ee4d92881e34">stream_status</a> <a class="el" href="util_8h.html#a5d31dda277e56fa17f61ee4d92881e34">stream_status</a>)</td></tr>
<tr class="separator:a50a277d6cece483ae49a0bf173a0529a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ae33bb00cf9d8dab5ae1bd9e1809f8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a5ae33bb00cf9d8dab5ae1bd9e1809f8e">MOCK_IMPL</a> (<a class="el" href="structsmartlist__t.html">smartlist_t</a> *, tor_get_lines_from_handle,(FILE *handle, enum <a class="el" href="util_8h.html#a5d31dda277e56fa17f61ee4d92881e34">stream_status</a> *stream_status_out))</td></tr>
<tr class="separator:a5ae33bb00cf9d8dab5ae1bd9e1809f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50e2697cfbe18da3471a82d003f55622"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="util_8h.html#a5d31dda277e56fa17f61ee4d92881e34">stream_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a50e2697cfbe18da3471a82d003f55622">get_string_from_pipe</a> (FILE *stream, char *buf_out, size_t count)</td></tr>
<tr class="separator:a50e2697cfbe18da3471a82d003f55622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae87d3f1a30c8b60279e46e98a97c202c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#ae87d3f1a30c8b60279e46e98a97c202c">tor_check_port_forwarding</a> (const char *filename, <a class="el" href="structsmartlist__t.html">smartlist_t</a> *ports_to_forward, time_t now)</td></tr>
<tr class="separator:ae87d3f1a30c8b60279e46e98a97c202c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a373d6d2dd841030c564ed3fffe08550a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a373d6d2dd841030c564ed3fffe08550a">tor_init_weak_random</a> (<a class="el" href="structtor__weak__rng__t.html">tor_weak_rng_t</a> *rng, unsigned seed)</td></tr>
<tr class="separator:a373d6d2dd841030c564ed3fffe08550a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a30c7dd4d28d53ef2fa6a978361808d"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a0a30c7dd4d28d53ef2fa6a978361808d">tor_weak_random</a> (<a class="el" href="structtor__weak__rng__t.html">tor_weak_rng_t</a> *rng)</td></tr>
<tr class="separator:a0a30c7dd4d28d53ef2fa6a978361808d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a156db0f5951592099e3bc646de2416"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a6a156db0f5951592099e3bc646de2416">tor_weak_random_range</a> (<a class="el" href="structtor__weak__rng__t.html">tor_weak_rng_t</a> *rng, int32_t top)</td></tr>
<tr class="separator:a6a156db0f5951592099e3bc646de2416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75c02e9ab5f17f8c5e9c68ee0833ac65"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a75c02e9ab5f17f8c5e9c68ee0833ac65">clamp_double_to_int64</a> (double number)</td></tr>
<tr class="separator:a75c02e9ab5f17f8c5e9c68ee0833ac65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae251b57349c0a4bf306bd47653d3ca16"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#ae251b57349c0a4bf306bd47653d3ca16">tor_htonll</a> (uint64_t a)</td></tr>
<tr class="separator:ae251b57349c0a4bf306bd47653d3ca16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4959f0aba8a681ab08cfdccfbe16ffc2"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a4959f0aba8a681ab08cfdccfbe16ffc2">tor_ntohll</a> (uint64_t a)</td></tr>
<tr class="separator:a4959f0aba8a681ab08cfdccfbe16ffc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Common functions for strings, IO, network, data structures, process control. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a64ea88958a1d307372ff615397bc1f90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64ea88958a1d307372ff615397bc1f90">&#9670;&nbsp;</a></span>CHECK_STRTOX_RESULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHECK_STRTOX_RESULT</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="comment">/* Did an overflow occur? */</span>                          \</div><div class="line">  if (errno == ERANGE)                                  \</div><div class="line">    goto err;                                           \</div><div class="line">  <span class="comment">/* Was at least one character converted? */</span>           \</div><div class="line">  if (endptr == s)                                      \</div><div class="line">    goto err;                                           \</div><div class="line">  <span class="comment">/* Were there unexpected unconverted characters? */</span>   \</div><div class="line">  if (!next &amp;&amp; *endptr)                                 \</div><div class="line">    goto err;                                           \</div><div class="line">  <span class="comment">/* Illogical (max, min) inputs? */</span>                    \</div><div class="line">  if (BUG(max &lt; min))                                   \</div><div class="line">    goto err;                                           \</div><div class="line">  <span class="comment">/* Is r within limits? */</span>                             \</div><div class="line">  if (r &lt; min || r &gt; max)                               \</div><div class="line">    goto err;                                           \</div><div class="line">  if (ok) *ok = 1;                                      \</div><div class="line">  if (next) *next = endptr;                             \</div><div class="line">  return r;                                             \</div><div class="line"> err:                                                   \</div><div class="line">  if (ok) *ok = 0;                                      \</div><div class="line">  if (next) *next = endptr;                             \</div><div class="line">  return 0</div></div><!-- fragment -->
</div>
</div>
<a id="ab1720f39e33ed5efd4db6d54f9bf1906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1720f39e33ed5efd4db6d54f9bf1906">&#9670;&nbsp;</a></span>IS_LEAPYEAR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IS_LEAPYEAR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y</td><td>)</td>
          <td>&#160;&#160;&#160;(!(y % 4) &amp;&amp; ((y % 100) || !(y % 400)))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Yield true iff <b>y</b> is a leap-year. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac55ed8b7b00f14493effd493a957ddf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac55ed8b7b00f14493effd493a957ddf1">&#9670;&nbsp;</a></span>abort_writing_to_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abort_writing_to_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structopen__file__t.html">open_file_t</a> *&#160;</td>
          <td class="paramname"><em>file_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finish writing to <b>file_data</b>: close the file handle, free memory as needed, and if using a temporary file, delete it. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_ac55ed8b7b00f14493effd493a957ddf1_icgraph.png" border="0" usemap="#util_8c_ac55ed8b7b00f14493effd493a957ddf1_icgraph" alt=""/></div>
<map name="util_8c_ac55ed8b7b00f14493effd493a957ddf1_icgraph" id="util_8c_ac55ed8b7b00f14493effd493a957ddf1_icgraph">
<area shape="rect" id="node2" href="util_8h.html#aa4a3fe13e93e542ee9b598d865f2647c" title="start_writing_to_stdio_file" alt="" coords="192,5,363,32"/>
</map>
</div>

</div>
</div>
<a id="a37dbad9fcf523be6a991f30ac4c2bfd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37dbad9fcf523be6a991f30ac4c2bfd6">&#9670;&nbsp;</a></span>add_laplace_noise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t add_laplace_noise </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>signal_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>random_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>delta_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>epsilon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add random noise between INT64_MIN and INT64_MAX coming from a Laplace distribution with mu = 0 and b = <b>delta_f</b>/<b>epsilon</b> to <b>signal</b> based on the provided <b>random</b> value in [0.0, 1.0[. The epsilon value must be between ]0.0, 1.0]. delta_f must be greater than 0. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a37dbad9fcf523be6a991f30ac4c2bfd6_cgraph.png" border="0" usemap="#util_8c_a37dbad9fcf523be6a991f30ac4c2bfd6_cgraph" alt=""/></div>
<map name="util_8c_a37dbad9fcf523be6a991f30ac4c2bfd6_cgraph" id="util_8c_a37dbad9fcf523be6a991f30ac4c2bfd6_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a7a71fe4811768a82c3060e8946ee62b4" title="sample_laplace_distribution" alt="" coords="183,5,365,32"/>
</map>
</div>

</div>
</div>
<a id="a8623147f8fba9a3c98c906f554601f35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8623147f8fba9a3c98c906f554601f35">&#9670;&nbsp;</a></span>append_bytes_to_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int append_bytes_to_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As write_bytes_to_file, but if the file already exists, append the bytes to the end of the file instead of overwriting it. </p>

</div>
</div>
<a id="aca03d8cb6a22d540b13b92ea5945df33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca03d8cb6a22d540b13b92ea5945df33">&#9670;&nbsp;</a></span>approx_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t approx_time </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a cached estimate of the current time from when <a class="el" href="util_8c.html#a866d4c80bbdc37a0279c2bd02f4b2bde">update_approx_time()</a> was last called. This is a hack to avoid calling time(NULL) on critical paths: please do not even think of calling it anywhere else. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_aca03d8cb6a22d540b13b92ea5945df33_icgraph.png" border="0" usemap="#util_8c_aca03d8cb6a22d540b13b92ea5945df33_icgraph" alt=""/></div>
<map name="util_8c_aca03d8cb6a22d540b13b92ea5945df33_icgraph" id="util_8c_aca03d8cb6a22d540b13b92ea5945df33_icgraph">
<area shape="rect" id="node2" href="channel_8h.html#a41ebc2554b7f8fd2b5c331bf7dc94ecc" title="channel_get_for_extend" alt="" coords="163,5,323,32"/>
<area shape="rect" id="node3" href="circuitlist_8h.html#a931cd41e6b2c350f134e3f1e3b43edc9" title="circuit_set_p_circid_chan" alt="" coords="159,56,328,83"/>
<area shape="rect" id="node4" href="circuitlist_8h.html#a38413accb1cc33e6949c1083f30f86f4" title="circuit_set_n_circid_chan" alt="" coords="159,107,328,133"/>
<area shape="rect" id="node5" href="circuitmux__ewma_8h.html#a30844e1c06da11dfc70c8a0a1b24fbd3" title="cell_ewma_get_tick" alt="" coords="175,157,312,184"/>
<area shape="rect" id="node6" href="circuitstats_8h.html#a078e35bc3a938238e3eac4eb29a076ce" title="circuit_build_times\l_needs_circuits_now" alt="" coords="171,209,315,250"/>
<area shape="rect" id="node7" href="circuitstats_8h.html#a2b95a37e26723de09e38d46549c9fba0" title="circuit_build_times\l_network_is_live" alt="" coords="178,274,309,315"/>
<area shape="rect" id="node9" href="circuituse_8h.html#aa95a48009b429befccf14ebce9d13a97" title="connection_ap_handshake\l_attach_chosen_circuit" alt="" coords="155,339,331,381"/>
<area shape="rect" id="node10" href="circuituse_8h.html#adf36645f7a473ad622918668f2f5ba33" title="mark_circuit_unusable\l_for_new_conns" alt="" coords="167,405,319,446"/>
<area shape="rect" id="node13" href="routerlist_8c.html#a264fc4b4441c88e689a8428be321d318" title="MOCK_IMPL" alt="" coords="193,471,293,497"/>
<area shape="rect" id="node14" href="routerlist_8h.html#ad0e00a6f0df9aace49976da496902957" title="routerlist_descriptors\l_added" alt="" coords="172,522,315,563"/>
<area shape="rect" id="node15" href="scheduler_8h.html#a087fd81b86de21c70f9e3750f5b88792" title="scheduler_adjust_queue_size" alt="" coords="147,588,340,615"/>
<area shape="rect" id="node16" href="scheduler_8c.html#aede4632e18f27f3fe1362f6d19d8eea8" title="scheduler_get_queue\l_heuristic" alt="" coords="171,639,316,681"/>
<area shape="rect" id="node8" href="channel_8c.html#a4bb9524073333e156da271ca623a772d" title="channel_do_open_actions" alt="" coords="388,281,560,308"/>
<area shape="rect" id="node11" href="circuitlist_8h.html#a52c4991dce45efd8d927b6092e3c85be" title="circuit_mark_all_dirty\l_circs_as_unusable" alt="" coords="401,405,547,446"/>
<area shape="rect" id="node12" href="circuitbuild_8h.html#a9850a0ba60e6a62bc0a7267343418235" title="circuit_note_clock\l_jumped" alt="" coords="608,405,735,446"/>
</map>
</div>

</div>
</div>
<a id="a75c02e9ab5f17f8c5e9c68ee0833ac65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75c02e9ab5f17f8c5e9c68ee0833ac65">&#9670;&nbsp;</a></span>clamp_double_to_int64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t clamp_double_to_int64 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cast a given double value to a int64_t. Return 0 if number is NaN. Returns either INT64_MIN or INT64_MAX if number is outside of the int64_t range. </p>

</div>
</div>
<a id="a69faf166aa0aa9164d2134419c81ba1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69faf166aa0aa9164d2134419c81ba1b">&#9670;&nbsp;</a></span>eat_whitespace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* eat_whitespace </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a pointer to the first char of s that is not whitespace and not a comment, or to the terminating NUL if no such character exists. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a69faf166aa0aa9164d2134419c81ba1b_icgraph.png" border="0" usemap="#util_8c_a69faf166aa0aa9164d2134419c81ba1b_icgraph" alt=""/></div>
<map name="util_8c_a69faf166aa0aa9164d2134419c81ba1b_icgraph" id="util_8c_a69faf166aa0aa9164d2134419c81ba1b_icgraph">
<area shape="rect" id="node2" href="address_8h.html#add80f7b71c7e02f033ca18bf13400d51" title="tor_addr_port_lookup" alt="" coords="185,5,327,32"/>
<area shape="rect" id="node3" href="torlog_8h.html#a92ebdd777d8d185679722e4e605442fd" title="parse_log_severity\l_config" alt="" coords="191,57,321,98"/>
<area shape="rect" id="node4" href="config_8h.html#a921479be2cc807b006e928356bc0ba51" title="port_cfg_line_extract\l_addrport" alt="" coords="185,122,327,163"/>
<area shape="rect" id="node5" href="routerparse_8h.html#a6e030201d6bc0307036313ed138a0b63" title="authority_cert_parse\l_from_string" alt="" coords="186,187,326,229"/>
<area shape="rect" id="node6" href="routerparse_8c.html#a65294e0f578a21d0e10431bf4ef1d038" title="MOCK_IMPL" alt="" coords="206,253,306,280"/>
<area shape="rect" id="node7" href="routerparse_8h.html#a47c9a3cf5868b2133b4e5a582ca69aa6" title="tor_version_parse_platform" alt="" coords="167,304,345,331"/>
<area shape="rect" id="node8" href="routerparse_8h.html#af9f19ced712ed538c086276fa472851d" title="rend_parse_client_keys" alt="" coords="177,355,335,381"/>
</map>
</div>

</div>
</div>
<a id="a6131c8f51e7c98072a0697c68be9bed9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6131c8f51e7c98072a0697c68be9bed9">&#9670;&nbsp;</a></span>eat_whitespace_eos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* eat_whitespace_eos </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>eos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a pointer to the first char of s that is not whitespace and not a comment, or to the terminating NUL if no such character exists. </p>

</div>
</div>
<a id="a0bb1364a2d99b1af1fa75dd87c1912d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bb1364a2d99b1af1fa75dd87c1912d2">&#9670;&nbsp;</a></span>eat_whitespace_eos_no_nl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* eat_whitespace_eos_no_nl </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>eos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As eat_whitespace_no_nl, but stop at <b>eos</b> whether we have found a non-whitespace character or not. </p>

</div>
</div>
<a id="ab838c820246f358bc0b99884154b2704"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab838c820246f358bc0b99884154b2704">&#9670;&nbsp;</a></span>eat_whitespace_no_nl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* eat_whitespace_no_nl </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a pointer to the first char of s that is not a space or a tab or a \r, or to the terminating NUL if no such character exists. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_ab838c820246f358bc0b99884154b2704_icgraph.png" border="0" usemap="#util_8c_ab838c820246f358bc0b99884154b2704_icgraph" alt=""/></div>
<map name="util_8c_ab838c820246f358bc0b99884154b2704_icgraph" id="util_8c_ab838c820246f358bc0b99884154b2704_icgraph">
<area shape="rect" id="node2" href="directory_8c.html#a2ab1c7dcfde852c520eb496643fdc865" title="parse_http_url" alt="" coords="204,5,308,32"/>
</map>
</div>

</div>
</div>
<a id="a584e4996b64ee5bce8e33d46812388bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a584e4996b64ee5bce8e33d46812388bc">&#9670;&nbsp;</a></span>environment_variable_names_equal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int environment_variable_names_equal </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return non-zero iff getenv would consider <b>s1</b> and <b>s2</b> to have the same name as strings in a process's environment. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a584e4996b64ee5bce8e33d46812388bc_icgraph.png" border="0" usemap="#util_8c_a584e4996b64ee5bce8e33d46812388bc_icgraph" alt=""/></div>
<map name="util_8c_a584e4996b64ee5bce8e33d46812388bc_icgraph" id="util_8c_a584e4996b64ee5bce8e33d46812388bc_icgraph">
<area shape="rect" id="node2" href="util_8h.html#ae3b38763d1dc04eff42f596c14efb1c9" title="set_environment_variable\l_in_smartlist" alt="" coords="199,5,369,47"/>
</map>
</div>

</div>
</div>
<a id="ac152e18c6deb4f05823053bb2980a8e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac152e18c6deb4f05823053bb2980a8e4">&#9670;&nbsp;</a></span>esc_for_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* esc_for_log </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate and return a new string representing the contents of <b>s</b>, surrounded by quotes and using standard C escapes.</p>
<p>Generally, we use this for logging values that come in over the network to keep them from tricking users, and for sending certain values to the controller.</p>
<p>We trust values from the resolver, OS, configuration file, and command line to not be maliciously ill-formed. We validate incoming routerdescs and SOCKS requests and addresses from BEGIN cells as they're parsed; afterwards, we trust them as non-malicious. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_ac152e18c6deb4f05823053bb2980a8e4_icgraph.png" border="0" usemap="#util_8c_ac152e18c6deb4f05823053bb2980a8e4_icgraph" alt=""/></div>
<map name="util_8c_ac152e18c6deb4f05823053bb2980a8e4_icgraph" id="util_8c_ac152e18c6deb4f05823053bb2980a8e4_icgraph">
<area shape="rect" id="node2" href="util_8h.html#aea75d86d98077dca32127a8cb0fe97dc" title="escaped" alt="" coords="180,81,251,108"/>
<area shape="rect" id="node6" href="util_8h.html#a1b3dda16e5097d60dd0a43815cc84fa8" title="parse_iso_time_" alt="" coords="157,136,274,163"/>
<area shape="rect" id="node8" href="config_8h.html#a3f20cb3dcadc8c6d0982ac29ccd3a6bf" title="getinfo_helper_config" alt="" coords="143,187,288,213"/>
<area shape="rect" id="node9" href="routerlist_8h.html#afd620fb5cbc29f6895ae016c0240d9a6" title="esc_router_info" alt="" coords="160,237,271,264"/>
<area shape="rect" id="node3" href="util_8h.html#a4fb7293a905e61c3a9ba683a8ed9ad99" title="string_is_key_value" alt="" coords="349,5,486,32"/>
<area shape="rect" id="node4" href="config_8h.html#ac4eb7d900d6542f8b19af751d2c1bb05" title="escaped_safe_str_client" alt="" coords="336,56,499,83"/>
<area shape="rect" id="node5" href="config_8h.html#af4f7098ccf9acfd57ab27de9ee917f48" title="escaped_safe_str" alt="" coords="355,107,480,133"/>
<area shape="rect" id="node7" href="util_8h.html#a8d4de39a48bc02621960c1d162478c63" title="parse_iso_time" alt="" coords="362,157,473,184"/>
<area shape="rect" id="node10" href="dirserv_8h.html#adaceacf408562b95dd1169799995bd6c" title="authdir_wants_to_reject\l_router" alt="" coords="337,230,497,271"/>
</map>
</div>

</div>
</div>
<a id="aeece0265a0fe8dd5b9a254b00dd27ad2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeece0265a0fe8dd5b9a254b00dd27ad2">&#9670;&nbsp;</a></span>esc_for_log_len()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* esc_for_log_len </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>chars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Similar to esc_for_log. Allocate and return a new string representing the first n characters in <b>chars</b>, surround by quotes and using standard C escapes. If a NUL character is encountered in <b>chars</b>, the resulting string will be terminated there. </p>

</div>
</div>
<a id="a354eb90598823d4fd6111b94c9c0ce97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a354eb90598823d4fd6111b94c9c0ce97">&#9670;&nbsp;</a></span>escaped()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* escaped </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate and return a new string representing the contents of <b>s</b>, surrounded by quotes and using standard C escapes.</p>
<p>THIS FUNCTION IS NOT REENTRANT. Don't call it from outside the main thread. Also, each call invalidates the last-returned value, so don't try log_warn(LD_GENERAL, "%s %s", escaped(a), escaped(b)); </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a354eb90598823d4fd6111b94c9c0ce97_cgraph.png" border="0" usemap="#util_8c_a354eb90598823d4fd6111b94c9c0ce97_cgraph" alt=""/></div>
<map name="util_8c_a354eb90598823d4fd6111b94c9c0ce97_cgraph" id="util_8c_a354eb90598823d4fd6111b94c9c0ce97_cgraph">
<area shape="rect" id="node2" href="util_8c.html#ac152e18c6deb4f05823053bb2980a8e4" title="esc_for_log" alt="" coords="124,5,213,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a354eb90598823d4fd6111b94c9c0ce97_icgraph.png" border="0" usemap="#util_8c_a354eb90598823d4fd6111b94c9c0ce97_icgraph" alt=""/></div>
<map name="util_8c_a354eb90598823d4fd6111b94c9c0ce97_icgraph" id="util_8c_a354eb90598823d4fd6111b94c9c0ce97_icgraph">
<area shape="rect" id="node2" href="util_8h.html#a4fb7293a905e61c3a9ba683a8ed9ad99" title="string_is_key_value" alt="" coords="137,5,274,32"/>
<area shape="rect" id="node3" href="config_8h.html#ac4eb7d900d6542f8b19af751d2c1bb05" title="escaped_safe_str_client" alt="" coords="124,56,287,83"/>
<area shape="rect" id="node4" href="config_8h.html#af4f7098ccf9acfd57ab27de9ee917f48" title="escaped_safe_str" alt="" coords="143,107,268,133"/>
</map>
</div>

</div>
</div>
<a id="a89a3242e83d59f2ccb9bb662e9a94134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89a3242e83d59f2ccb9bb662e9a94134">&#9670;&nbsp;</a></span>expand_filename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* expand_filename </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Expand any homedir prefix on <b>filename</b>; return a newly allocated string. </p>

</div>
</div>
<a id="a5053b1adb75de7e1697e3ed8fa365ab8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5053b1adb75de7e1697e3ed8fa365ab8">&#9670;&nbsp;</a></span>fast_memcmpstart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fast_memcmpstart </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>memlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compare the value of the string <b>prefix</b> with the start of the <b>memlen</b>-byte memory chunk at <b>mem</b>. Return as for strcmp.</p>
<p>[As <a class="el" href="di__ops_8h.html#aaa9a1e14eb0294fabe7c0fe8fb5c74a0">fast_memcmp(mem, prefix, strlen(prefix))</a> but returns -1 if memlen is less than strlen(prefix).] </p>

</div>
</div>
<a id="ac0cbd74a7fe81a4aa5efab4d87628ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0cbd74a7fe81a4aa5efab4d87628ea0">&#9670;&nbsp;</a></span>fdopen_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* fdopen_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structopen__file__t.html">open_file_t</a> *&#160;</td>
          <td class="paramname"><em>file_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given <b>file_data</b> from <a class="el" href="util_8c.html#a5f3fb0bdeb712732f51d0f9e3b0c849c">start_writing_to_file()</a>, return a stdio FILE* that can be used to write to the same file. The caller should not mix stdio calls with non-stdio calls. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_ac0cbd74a7fe81a4aa5efab4d87628ea0_icgraph.png" border="0" usemap="#util_8c_ac0cbd74a7fe81a4aa5efab4d87628ea0_icgraph" alt=""/></div>
<map name="util_8c_ac0cbd74a7fe81a4aa5efab4d87628ea0_icgraph" id="util_8c_ac0cbd74a7fe81a4aa5efab4d87628ea0_icgraph">
<area shape="rect" id="node2" href="util_8h.html#aa4a3fe13e93e542ee9b598d865f2647c" title="start_writing_to_stdio_file" alt="" coords="139,5,309,32"/>
</map>
</div>

</div>
</div>
<a id="aae26b1614b89d2c4bbfe5a7c2dab7c76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae26b1614b89d2c4bbfe5a7c2dab7c76">&#9670;&nbsp;</a></span>file_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="util_8h.html#a83a53fbc2832eca17cafe21fd209420c">file_status_t</a> file_status </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return: FN_ERROR if filename can't be read, is NULL, or is zero-length, FN_NOENT if it doesn't exist, FN_FILE if it is a non-empty regular file, or a FIFO on unix-like systems, FN_EMPTY for zero-byte regular files, FN_DIR if it's a directory, and FN_ERROR for any other file type. On FN_ERROR and FN_NOENT, sets errno. (errno is not set when FN_ERROR is returned due to an unhandled file type.) </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_aae26b1614b89d2c4bbfe5a7c2dab7c76_icgraph.png" border="0" usemap="#util_8c_aae26b1614b89d2c4bbfe5a7c2dab7c76_icgraph" alt=""/></div>
<map name="util_8c_aae26b1614b89d2c4bbfe5a7c2dab7c76_icgraph" id="util_8c_aae26b1614b89d2c4bbfe5a7c2dab7c76_icgraph">
<area shape="rect" id="node2" href="compat_8c.html#abaceb8fb0b9b55778be3dd71cc847aee" title="replace_file" alt="" coords="154,5,242,32"/>
<area shape="rect" id="node3" href="router_8h.html#adf9d6e2bf82d6ddfb3e47cd7d49b57ec" title="rotate_onion_key" alt="" coords="137,56,259,83"/>
<area shape="rect" id="node4" href="router_8h.html#a7ca8d566f45ef49fb6fd7358c235a420" title="init_key_from_file" alt="" coords="136,107,260,133"/>
<area shape="rect" id="node5" href="statefile_8c.html#a25adaf118e940e7774207a8c926d4bad" title="or_state_load" alt="" coords="148,157,248,184"/>
</map>
</div>

</div>
</div>
<a id="acb59ba844f26d47f1cf42a2c0b324db8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb59ba844f26d47f1cf42a2c0b324db8">&#9670;&nbsp;</a></span>find_str_at_start_of_line()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* find_str_at_start_of_line </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>haystack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>needle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the first occurrence of <b>needle</b> in <b>haystack</b> that occurs at the start of a line (that is, at the beginning of <b>haystack</b> or immediately after a newline). Return NULL if no such string is found. </p>

</div>
</div>
<a id="a34984f08eb3eef95438b8e65226dff8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34984f08eb3eef95438b8e65226dff8e">&#9670;&nbsp;</a></span>find_whitespace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* find_whitespace </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a pointer to the first char of s that is whitespace or <b>#</b>, or to the terminating NUL if no such character exists. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a34984f08eb3eef95438b8e65226dff8e_icgraph.png" border="0" usemap="#util_8c_a34984f08eb3eef95438b8e65226dff8e_icgraph" alt=""/></div>
<map name="util_8c_a34984f08eb3eef95438b8e65226dff8e_icgraph" id="util_8c_a34984f08eb3eef95438b8e65226dff8e_icgraph">
<area shape="rect" id="node2" href="directory_8c.html#a2ab1c7dcfde852c520eb496643fdc865" title="parse_http_url" alt="" coords="207,5,311,32"/>
<area shape="rect" id="node3" href="routerparse_8h.html#a47c9a3cf5868b2133b4e5a582ca69aa6" title="tor_version_parse_platform" alt="" coords="169,56,348,83"/>
</map>
</div>

</div>
</div>
<a id="a2b8d1db012eaaff2542537dee3c644a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b8d1db012eaaff2542537dee3c644a3">&#9670;&nbsp;</a></span>find_whitespace_eos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* find_whitespace_eos </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>eos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As find_whitespace, but stop at <b>eos</b> whether we have found a whitespace or not. </p>

</div>
</div>
<a id="acc27414998a66c3602c4199b8316ec29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc27414998a66c3602c4199b8316ec29">&#9670;&nbsp;</a></span>finish_daemon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void finish_daemon </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>desired_cwd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finish putting the process into daemon mode: drop standard fds, and tell the parent process to exit. (Note: it's safe to call this more than once: calls after the first are ignored. Calls start_daemon first if it hasn't been called already.) </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_acc27414998a66c3602c4199b8316ec29_cgraph.png" border="0" usemap="#util_8c_acc27414998a66c3602c4199b8316ec29_cgraph" alt=""/></div>
<map name="util_8c_acc27414998a66c3602c4199b8316ec29_cgraph" id="util_8c_acc27414998a66c3602c4199b8316ec29_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a9ce5e8df63b6d2ae9cb31a301fecb350" title="start_daemon" alt="" coords="160,5,261,32"/>
</map>
</div>

</div>
</div>
<a id="a34dff6b01b03f9d8609c93fec5fffc17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34dff6b01b03f9d8609c93fec5fffc17">&#9670;&nbsp;</a></span>finish_writing_to_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int finish_writing_to_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structopen__file__t.html">open_file_t</a> *&#160;</td>
          <td class="paramname"><em>file_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finish writing to <b>file_data</b>: close the file handle, free memory as needed, and if using a temporary file, replace the original file with the temporary file. </p>

</div>
</div>
<a id="a4111988030c2da71eec585c6b5ecc1bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4111988030c2da71eec585c6b5ecc1bb">&#9670;&nbsp;</a></span>format_dec_number_sigsafe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int format_dec_number_sigsafe </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As format_hex_number_sigsafe, but format the number in base 10. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a4111988030c2da71eec585c6b5ecc1bb_icgraph.png" border="0" usemap="#util_8c_a4111988030c2da71eec585c6b5ecc1bb_icgraph" alt=""/></div>
<map name="util_8c_a4111988030c2da71eec585c6b5ecc1bb_icgraph" id="util_8c_a4111988030c2da71eec585c6b5ecc1bb_icgraph">
<area shape="rect" id="node2" href="torlog_8h.html#af84865bb6a5b9b8f701e4b7f7454ce30" title="tor_log_err_sigsafe" alt="" coords="240,5,372,32"/>
</map>
</div>

</div>
</div>
<a id="acd19d8da6d9f5237a8815199361c37b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd19d8da6d9f5237a8815199361c37b7">&#9670;&nbsp;</a></span>format_helper_exit_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC int format_helper_exit_status </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>child_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>saved_errno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>hex_errno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Format <b>child_state</b> and <b>saved_errno</b> as a hex string placed in <b>hex_errno</b>. Called between fork and _exit, so must be signal-handler safe.</p>
<p><b>hex_errno</b> must have at least HEX_ERRNO_SIZE+1 bytes available.</p>
<p>The format of <b>hex_errno</b> is: "CHILD_STATE/ERRNO\n", left-padded with spaces. CHILD_STATE indicates where in the processs of starting the child process did the failure occur (see CHILD_STATE_* macros for definition), and SAVED_ERRNO is the value of errno when the failure occurred.</p>
<p>On success return the number of characters added to hex_errno, not counting the terminating NUL; return -1 on error. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_acd19d8da6d9f5237a8815199361c37b7_cgraph.png" border="0" usemap="#util_8c_acd19d8da6d9f5237a8815199361c37b7_cgraph" alt=""/></div>
<map name="util_8c_acd19d8da6d9f5237a8815199361c37b7_cgraph" id="util_8c_acd19d8da6d9f5237a8815199361c37b7_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a5295de634ed543ced2412a93c77bb0ab" title="format_hex_number_sigsafe" alt="" coords="183,13,369,39"/>
</map>
</div>

</div>
</div>
<a id="a5295de634ed543ced2412a93c77bb0ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5295de634ed543ced2412a93c77bb0ab">&#9670;&nbsp;</a></span>format_hex_number_sigsafe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int format_hex_number_sigsafe </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Helper function to output hex numbers from within a signal handler.</p>
<p>Writes the nul-terminated hexadecimal digits of <b>x</b> into a buffer <b>buf</b> of size <b>buf_len</b>, and return the actual number of digits written, not counting the terminal NUL.</p>
<p>If there is insufficient space, write nothing and return 0.</p>
<p>This accepts an unsigned int because <a class="el" href="util_8c.html#acd19d8da6d9f5237a8815199361c37b7">format_helper_exit_status()</a> needs to call it with a signed int and an unsigned char, and since the C standard does not guarantee that an int is wider than a char (an int must be at least 16 bits but it is permitted for a char to be that wide as well), we can't assume a signed int is sufficient to accomodate an unsigned char. Thus, <a class="el" href="util_8c.html#acd19d8da6d9f5237a8815199361c37b7">format_helper_exit_status()</a> will still need to emit any require '-' on its own.</p>
<p>For most purposes, you'd want to use tor_snprintf("%x") instead of this function; it's designed to be used in code paths where you can't call arbitrary C functions. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a5295de634ed543ced2412a93c77bb0ab_icgraph.png" border="0" usemap="#util_8c_a5295de634ed543ced2412a93c77bb0ab_icgraph" alt=""/></div>
<map name="util_8c_a5295de634ed543ced2412a93c77bb0ab_icgraph" id="util_8c_a5295de634ed543ced2412a93c77bb0ab_icgraph">
<area shape="rect" id="node2" href="util_8c.html#acd19d8da6d9f5237a8815199361c37b7" title="format_helper_exit\l_status" alt="" coords="240,5,369,47"/>
</map>
</div>

</div>
</div>
<a id="a270ca9db337eb4621f623a69c0faeb64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a270ca9db337eb4621f623a69c0faeb64">&#9670;&nbsp;</a></span>format_iso_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void format_iso_time </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set <b>buf</b> to the ISO8601 encoding of the GMT value of <b>t</b>. The buffer must be at least ISO_TIME_LEN+1 bytes long. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a270ca9db337eb4621f623a69c0faeb64_icgraph.png" border="0" usemap="#util_8c_a270ca9db337eb4621f623a69c0faeb64_icgraph" alt=""/></div>
<map name="util_8c_a270ca9db337eb4621f623a69c0faeb64_icgraph" id="util_8c_a270ca9db337eb4621f623a69c0faeb64_icgraph">
<area shape="rect" id="node2" href="util_8h.html#a0d7e19b54b49c88b434adaaf7d9b4f85" title="format_iso_time_nospace" alt="" coords="168,5,339,32"/>
<area shape="rect" id="node3" href="util_8h.html#a198d1f011891d6d369bab39eaeecd275" title="format_iso_time_nospace_usec" alt="" coords="387,5,593,32"/>
</map>
</div>

</div>
</div>
<a id="a0d7e19b54b49c88b434adaaf7d9b4f85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d7e19b54b49c88b434adaaf7d9b4f85">&#9670;&nbsp;</a></span>format_iso_time_nospace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void format_iso_time_nospace </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As format_iso_time, but use the yyyy-mm-ddThh:mm:ss format to avoid embedding an internal space. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a0d7e19b54b49c88b434adaaf7d9b4f85_cgraph.png" border="0" usemap="#util_8c_a0d7e19b54b49c88b434adaaf7d9b4f85_cgraph" alt=""/></div>
<map name="util_8c_a0d7e19b54b49c88b434adaaf7d9b4f85_cgraph" id="util_8c_a0d7e19b54b49c88b434adaaf7d9b4f85_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a270ca9db337eb4621f623a69c0faeb64" title="format_iso_time" alt="" coords="224,5,339,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a0d7e19b54b49c88b434adaaf7d9b4f85_icgraph.png" border="0" usemap="#util_8c_a0d7e19b54b49c88b434adaaf7d9b4f85_icgraph" alt=""/></div>
<map name="util_8c_a0d7e19b54b49c88b434adaaf7d9b4f85_icgraph" id="util_8c_a0d7e19b54b49c88b434adaaf7d9b4f85_icgraph">
<area shape="rect" id="node2" href="util_8h.html#a198d1f011891d6d369bab39eaeecd275" title="format_iso_time_nospace_usec" alt="" coords="224,5,431,32"/>
</map>
</div>

</div>
</div>
<a id="a198d1f011891d6d369bab39eaeecd275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a198d1f011891d6d369bab39eaeecd275">&#9670;&nbsp;</a></span>format_iso_time_nospace_usec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void format_iso_time_nospace_usec </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structtimeval.html">timeval</a> *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As format_iso_time_nospace, but include microseconds in decimal fixed-point format. Requires that buf be at least ISO_TIME_USEC_LEN+1 bytes long. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a198d1f011891d6d369bab39eaeecd275_cgraph.png" border="0" usemap="#util_8c_a198d1f011891d6d369bab39eaeecd275_cgraph" alt=""/></div>
<map name="util_8c_a198d1f011891d6d369bab39eaeecd275_cgraph" id="util_8c_a198d1f011891d6d369bab39eaeecd275_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a0d7e19b54b49c88b434adaaf7d9b4f85" title="format_iso_time_nospace" alt="" coords="260,5,431,32"/>
<area shape="rect" id="node4" href="compat_8c.html#af032ac661214ae28b4f205781a515290" title="tor_snprintf" alt="" coords="302,56,389,83"/>
<area shape="rect" id="node3" href="util_8c.html#a270ca9db337eb4621f623a69c0faeb64" title="format_iso_time" alt="" coords="479,5,593,32"/>
<area shape="rect" id="node5" href="compat_8c.html#a1df7873b16ae8936d25dfedb706f4ea6" title="tor_vsnprintf" alt="" coords="489,56,583,83"/>
</map>
</div>

</div>
</div>
<a id="a6ea588248ddc24be41620939146e356b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ea588248ddc24be41620939146e356b">&#9670;&nbsp;</a></span>format_local_iso_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void format_local_iso_time </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set <b>buf</b> to the ISO8601 encoding of the local value of <b>t</b>. The buffer must be at least ISO_TIME_LEN+1 bytes long.</p>
<p>(ISO8601 format is 2006-10-29 10:57:20) </p>

</div>
</div>
<a id="a0e1e4c423a6ba1306a9c3b2565e99391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e1e4c423a6ba1306a9c3b2565e99391">&#9670;&nbsp;</a></span>format_rfc1123_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void format_rfc1123_time </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set <b>buf</b> to the RFC1123 encoding of the UTC value of <b>t</b>. The buffer must be at least RFC1123_TIME_LEN+1 bytes long.</p>
<p>(RFC1123 format is "Fri, 29 Sep 2006 15:54:20 GMT". Note the "GMT" rather than "UTC".) </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a0e1e4c423a6ba1306a9c3b2565e99391_cgraph.png" border="0" usemap="#util_8c_a0e1e4c423a6ba1306a9c3b2565e99391_cgraph" alt=""/></div>
<map name="util_8c_a0e1e4c423a6ba1306a9c3b2565e99391_cgraph" id="util_8c_a0e1e4c423a6ba1306a9c3b2565e99391_cgraph">
<area shape="rect" id="node2" href="compat_8c.html#a983d273987a338a60523f0bce4006af2" title="tor_gmtime_r" alt="" coords="195,56,293,83"/>
<area shape="rect" id="node3" href="compat__threads_8c.html#a0f3b168e06f8e4b99789af20771ee096" title="tor_mutex_new" alt="" coords="351,5,461,32"/>
<area shape="rect" id="node4" href="compat__pthreads_8c.html#a8bfcc96866bdf76508915db8b252f746" title="tor_mutex_acquire" alt="" coords="341,56,471,83"/>
<area shape="rect" id="node5" href="compat__pthreads_8c.html#a3fc2298a8cb49803528daa6d35091372" title="tor_mutex_release" alt="" coords="341,107,471,133"/>
</map>
</div>

</div>
</div>
<a id="a9a88be72c2d4775622cedbda5d76f833"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a88be72c2d4775622cedbda5d76f833">&#9670;&nbsp;</a></span>format_time_interval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int format_time_interval </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>out_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given an <b>interval</b> in seconds, try to write it to the <b>out_len</b>-byte buffer in <b>out</b> in a human-readable form. Return 0 on success, -1 on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a9a88be72c2d4775622cedbda5d76f833_cgraph.png" border="0" usemap="#util_8c_a9a88be72c2d4775622cedbda5d76f833_cgraph" alt=""/></div>
<map name="util_8c_a9a88be72c2d4775622cedbda5d76f833_cgraph" id="util_8c_a9a88be72c2d4775622cedbda5d76f833_cgraph">
<area shape="rect" id="node2" href="compat_8c.html#af032ac661214ae28b4f205781a515290" title="tor_snprintf" alt="" coords="193,5,280,32"/>
<area shape="rect" id="node3" href="compat_8c.html#a1df7873b16ae8936d25dfedb706f4ea6" title="tor_vsnprintf" alt="" coords="328,5,423,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a9a88be72c2d4775622cedbda5d76f833_icgraph.png" border="0" usemap="#util_8c_a9a88be72c2d4775622cedbda5d76f833_icgraph" alt=""/></div>
<map name="util_8c_a9a88be72c2d4775622cedbda5d76f833_icgraph" id="util_8c_a9a88be72c2d4775622cedbda5d76f833_icgraph">
<area shape="rect" id="node2" href="connection_8h.html#a14be61f9dd31706f59ee48db802dbedc" title="clock_skew_warning" alt="" coords="193,5,336,32"/>
</map>
</div>

</div>
</div>
<a id="a98f5785d540bfcd4822ebbcbe61685cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98f5785d540bfcd4822ebbcbe61685cd">&#9670;&nbsp;</a></span>get_current_process_environment_variables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structsmartlist__t.html">smartlist_t</a>* get_current_process_environment_variables </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a newly allocated smartlist containing every variable in this process's environment, as a NUL-terminated string of the form "NAME=VALUE". Note that on some/many/most/all OSes, the parent process can put strings not of that form in our environment; callers should try to not get crashed by that.</p>
<p>The returned strings are heap-allocated, and must be freed by the caller. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a98f5785d540bfcd4822ebbcbe61685cd_cgraph.png" border="0" usemap="#util_8c_a98f5785d540bfcd4822ebbcbe61685cd_cgraph" alt=""/></div>
<map name="util_8c_a98f5785d540bfcd4822ebbcbe61685cd_cgraph" id="util_8c_a98f5785d540bfcd4822ebbcbe61685cd_cgraph">
<area shape="rect" id="node2" href="compat_8c.html#a77e69845b5a9619b4098e8f163fb386e" title="get_environment" alt="" coords="212,5,331,32"/>
<area shape="rect" id="node3" href="container_8c.html#accf59a8b7d39a4286ff99653b6878006" title="smartlist_add" alt="" coords="221,56,321,83"/>
</map>
</div>

</div>
</div>
<a id="a50e2697cfbe18da3471a82d003f55622"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50e2697cfbe18da3471a82d003f55622">&#9670;&nbsp;</a></span>get_string_from_pipe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="util_8h.html#a5d31dda277e56fa17f61ee4d92881e34">stream_status</a> get_string_from_pipe </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads from <b>stream</b> and stores input in <b>buf_out</b> making sure it's below <b>count</b> bytes. If the string has a trailing newline, we strip it off.</p>
<p>This function is specifically created to handle input from managed proxies, according to the pluggable transports spec. Make sure it fits your needs before using it.</p>
<p>Returns: IO_STREAM_CLOSED: If the stream is closed. IO_STREAM_EAGAIN: If there is nothing to read and we should check back later. IO_STREAM_TERM: If something is wrong with the stream. IO_STREAM_OKAY: If everything went okay and we got a string in <b>buf_out</b>. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a50e2697cfbe18da3471a82d003f55622_icgraph.png" border="0" usemap="#util_8c_a50e2697cfbe18da3471a82d003f55622_icgraph" alt=""/></div>
<map name="util_8c_a50e2697cfbe18da3471a82d003f55622_icgraph" id="util_8c_a50e2697cfbe18da3471a82d003f55622_icgraph">
<area shape="rect" id="node2" href="util_8c.html#a5ae33bb00cf9d8dab5ae1bd9e1809f8e" title="MOCK_IMPL" alt="" coords="196,5,296,32"/>
</map>
</div>

</div>
</div>
<a id="a17effd59ed2f9bf4cfebb12e423ded7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17effd59ed2f9bf4cfebb12e423ded7f">&#9670;&nbsp;</a></span>hex_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* hex_str </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>fromlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a pointer to a NUL-terminated hexadecimal string encoding the first <b>fromlen</b> bytes of <b>from</b>. (fromlen must be &lt;= 32.) The result does not need to be deallocated, but repeated calls to hex_str will trash old results. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a17effd59ed2f9bf4cfebb12e423ded7f_cgraph.png" border="0" usemap="#util_8c_a17effd59ed2f9bf4cfebb12e423ded7f_cgraph" alt=""/></div>
<map name="util_8c_a17effd59ed2f9bf4cfebb12e423ded7f_cgraph" id="util_8c_a17effd59ed2f9bf4cfebb12e423ded7f_cgraph">
<area shape="rect" id="node2" href="util__format_8c.html#a8b8940b2ef607928eb3dca4850567ea5" title="base16_encode" alt="" coords="119,5,232,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a17effd59ed2f9bf4cfebb12e423ded7f_icgraph.png" border="0" usemap="#util_8c_a17effd59ed2f9bf4cfebb12e423ded7f_icgraph" alt=""/></div>
<map name="util_8c_a17effd59ed2f9bf4cfebb12e423ded7f_icgraph" id="util_8c_a17effd59ed2f9bf4cfebb12e423ded7f_icgraph">
<area shape="rect" id="node2" href="channel_8c.html#ab56dc7ecc8a31e8bfa4dc5281b72c21e" title="MOCK_IMPL" alt="" coords="127,5,227,32"/>
<area shape="rect" id="node3" href="geoip_8h.html#a2facbb330d6f7714db2fd5293ed00477" title="geoip_db_digest" alt="" coords="119,56,235,83"/>
</map>
</div>

</div>
</div>
<a id="a2d60b02b2bdb25bbf582496a1e16072c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d60b02b2bdb25bbf582496a1e16072c">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[1/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tor_unlink&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(const char *pathname)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wrapper for unlink() to make it mockable for the test suite; returns 0 if unlinking the file succeeded, -1 and sets errno if unlinking fails. </p>

</div>
</div>
<a id="a53a01d55a7c6e8dd7f25c270d2b70f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53a01d55a7c6e8dd7f25c270d2b70f05">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[2/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">check_private_dir&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(const char *dirname, <a class="el" href="util_8h.html#a5de34b7fb58161640f7254a4c14119f7">cpd_check_t</a> check, const char *effective_user)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether <b>dirname</b> exists and is private. If yes return 0. If <b>dirname</b> does not exist:</p><ul>
<li>if <b>check</b>&amp;CPD_CREATE, try to create it and return 0 on success.</li>
<li>if <b>check</b>&amp;CPD_CHECK, and we think we can create it, return 0.</li>
<li>if <b>check</b>&amp;CPD_CHECK is false, and the directory exists, return 0.</li>
<li>otherwise, return -1. If CPD_GROUP_OK is set, then it's okay if the directory is group-readable, but in all cases we create the directory mode 0700. If CPD_GROUP_READ is set, existing directory behaves as CPD_GROUP_OK and if the directory is created it will use mode 0750 with group read permission. Group read privileges also assume execute permission as norm for directories. If CPD_CHECK_MODE_ONLY is set, then we don't alter the directory permissions if they are too permissive: we just return -1. When effective_user is not NULL, check permissions against the given user and its primary group. </li>
</ul>

</div>
</div>
<a id="a46b000f4f73f86564abf8872d0fa6a9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46b000f4f73f86564abf8872d0fa6a9a">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[3/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">write_str_to_file&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(const char *fname, const char *str, int bin)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a file named <b>fname</b> with the contents <b>str</b>. Overwrite the previous <b>fname</b> if possible. Return 0 on success, -1 on failure.</p>
<p>This function replaces the old file atomically, if possible. This function, and all other functions in <a class="el" href="util_8c.html" title="Common functions for strings, IO, network, data structures, process control. ">util.c</a> that create files, create them with mode 0600. </p>

</div>
</div>
<a id="acb8751c9768c71bd548ce847b9f1d2d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb8751c9768c71bd548ce847b9f1d2d8">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[4/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">write_bytes_to_file&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(const char *fname, const char *str, size_t len, int bin)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As write_str_to_file, but does not assume a NUL-terminated string. Instead, we write <b>len</b> bytes, starting at <b>str</b>. </p>

</div>
</div>
<a id="a18a8335da29f8a902b5d2d3b9ef68f19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18a8335da29f8a902b5d2d3b9ef68f19">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[5/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">read_file_to_str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(const char *filename, int flags, struct stat *stat_out)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the contents of <b>filename</b> into a newly allocated string; return the string on success or NULL on failure.</p>
<p>If <b>stat_out</b> is provided, store the result of stat()ing the file into <b>stat_out</b>.</p>
<p>If <b>flags</b> &amp; RFTS_BIN, open the file in binary mode. If <b>flags</b> &amp; RFTS_IGNORE_MISSING, don't warn if the file doesn't exist. </p>
<p>When we detect that we're reading from a FIFO, don't read more than this many bytes. It's insane overkill for most uses. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a18a8335da29f8a902b5d2d3b9ef68f19_cgraph.png" border="0" usemap="#util_8c_a18a8335da29f8a902b5d2d3b9ef68f19_cgraph" alt=""/></div>
<map name="util_8c_a18a8335da29f8a902b5d2d3b9ef68f19_cgraph" id="util_8c_a18a8335da29f8a902b5d2d3b9ef68f19_cgraph">
<area shape="rect" id="node2" href="compat_8c.html#a68cf2b7e7222c4f58cdc37dea2b5a912" title="tor_open_cloexec" alt="" coords="153,5,277,32"/>
</map>
</div>

</div>
</div>
<a id="a7df82707fff59896c355f363b21c53cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7df82707fff59896c355f363b21c53cd">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[6/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tor_listdir&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(const char *dirname)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a new list containing the filenames in the directory <b>dirname</b>. Return NULL on error or if <b>dirname</b> is not a directory. </p>

</div>
</div>
<a id="a812faddc218480a687a37305f1ae17cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a812faddc218480a687a37305f1ae17cf">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[7/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tor_process_handle_destroy&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(process_handle_t *process_handle, int also_terminate_process)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy all resources allocated by the process handle in <b>process_handle</b>. If <b>also_terminate_process</b> is true, also terminate the process of the process handle. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a812faddc218480a687a37305f1ae17cf_cgraph.png" border="0" usemap="#util_8c_a812faddc218480a687a37305f1ae17cf_cgraph" alt=""/></div>
<map name="util_8c_a812faddc218480a687a37305f1ae17cf_cgraph" id="util_8c_a812faddc218480a687a37305f1ae17cf_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a5189d0a5ffdf1ce3ac328aef77a32496" title="tor_terminate_process" alt="" coords="153,5,304,32"/>
<area shape="rect" id="node3" href="util_8c.html#aae5b7e7e99ea4705673069cf581ab70b" title="tor_get_exit_code" alt="" coords="352,5,477,32"/>
</map>
</div>

</div>
</div>
<a id="a5ae33bb00cf9d8dab5ae1bd9e1809f8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ae33bb00cf9d8dab5ae1bd9e1809f8e">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[8/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tor_get_lines_from_handle&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(FILE *handle, enum <a class="el" href="util_8h.html#a5d31dda277e56fa17f61ee4d92881e34">stream_status</a> *stream_status_out)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a smartlist containing lines outputted from <b>handle</b>. Return NULL on error, and set <b>stream_status_out</b> appropriately. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a5ae33bb00cf9d8dab5ae1bd9e1809f8e_cgraph.png" border="0" usemap="#util_8c_a5ae33bb00cf9d8dab5ae1bd9e1809f8e_cgraph" alt=""/></div>
<map name="util_8c_a5ae33bb00cf9d8dab5ae1bd9e1809f8e_cgraph" id="util_8c_a5ae33bb00cf9d8dab5ae1bd9e1809f8e_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a50e2697cfbe18da3471a82d003f55622" title="get_string_from_pipe" alt="" coords="153,5,296,32"/>
</map>
</div>

</div>
</div>
<a id="a13961bf3ef2587508876b5ee616222fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13961bf3ef2587508876b5ee616222fc">&#9670;&nbsp;</a></span>n_bits_set_u8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int n_bits_set_u8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the number of bits set in <b>v</b>. </p>

</div>
</div>
<a id="aabb29a0799fb54c87b3f6a4e7c252cb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabb29a0799fb54c87b3f6a4e7c252cb1">&#9670;&nbsp;</a></span>parse_config_line_from_str_verbose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* parse_config_line_from_str_verbose </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>key_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>value_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>err_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a string containing part of a configuration file or similar format, advance past comments and whitespace and try to parse a single line. If we parse a line successfully, set *<b>key_out</b> to a new string holding the key portion and *<b>value_out</b> to a new string holding the value portion of the line, and return a pointer to the start of the next line. If we run out of data, return a pointer to the end of the string. If we encounter an error, return NULL and set *<b>err_out</b> (if provided) to an error message. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_aabb29a0799fb54c87b3f6a4e7c252cb1_icgraph.png" border="0" usemap="#util_8c_aabb29a0799fb54c87b3f6a4e7c252cb1_icgraph" alt=""/></div>
<map name="util_8c_aabb29a0799fb54c87b3f6a4e7c252cb1_icgraph" id="util_8c_aabb29a0799fb54c87b3f6a4e7c252cb1_icgraph">
<area shape="rect" id="node2" href="confparse_8c.html#ae9877f561b70fd9bf085e57c9547da9d" title="config_get_lines" alt="" coords="209,13,325,39"/>
<area shape="rect" id="node3" href="dirserv_8c.html#a321d38c3a8578f36a42cef18c507bc90" title="dirserv_read_guardfraction\l_file_from_str" alt="" coords="373,5,548,47"/>
</map>
</div>

</div>
</div>
<a id="a18f61e4343161ea52d3a1396386026c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18f61e4343161ea52d3a1396386026c4">&#9670;&nbsp;</a></span>parse_http_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parse_http_time </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct tm *&#160;</td>
          <td class="paramname"><em>tm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a <b>date</b> in one of the three formats allowed by HTTP (ugh), parse it into <b>tm</b>. Return 0 on success, negative on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a18f61e4343161ea52d3a1396386026c4_cgraph.png" border="0" usemap="#util_8c_a18f61e4343161ea52d3a1396386026c4_cgraph" alt=""/></div>
<map name="util_8c_a18f61e4343161ea52d3a1396386026c4_cgraph" id="util_8c_a18f61e4343161ea52d3a1396386026c4_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a58eee4159dfe33194147f2146f0dbc2f" title="tor_sscanf" alt="" coords="168,5,251,32"/>
<area shape="rect" id="node3" href="util_8c.html#a90e57e8764505012f016303eab3e4180" title="tor_vsscanf" alt="" coords="299,5,389,32"/>
</map>
</div>

</div>
</div>
<a id="a0ff3d3e28d4f54b708d8ca2a83794308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ff3d3e28d4f54b708d8ca2a83794308">&#9670;&nbsp;</a></span>parse_iso_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parse_iso_time </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given an ISO-formatted UTC time value (after the epoch) in <b>cp</b>, parse it and store its value in *<b>t</b>. Return 0 on success, -1 on failure. Reject the string if any characters are present after the time. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a0ff3d3e28d4f54b708d8ca2a83794308_cgraph.png" border="0" usemap="#util_8c_a0ff3d3e28d4f54b708d8ca2a83794308_cgraph" alt=""/></div>
<map name="util_8c_a0ff3d3e28d4f54b708d8ca2a83794308_cgraph" id="util_8c_a0ff3d3e28d4f54b708d8ca2a83794308_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a1b3dda16e5097d60dd0a43815cc84fa8" title="parse_iso_time_" alt="" coords="164,31,281,57"/>
<area shape="rect" id="node3" href="util_8c.html#a58eee4159dfe33194147f2146f0dbc2f" title="tor_sscanf" alt="" coords="333,5,415,32"/>
<area shape="rect" id="node5" href="util_8c.html#ac152e18c6deb4f05823053bb2980a8e4" title="esc_for_log" alt="" coords="329,56,419,83"/>
<area shape="rect" id="node4" href="util_8c.html#a90e57e8764505012f016303eab3e4180" title="tor_vsscanf" alt="" coords="467,5,557,32"/>
</map>
</div>

</div>
</div>
<a id="a1b3dda16e5097d60dd0a43815cc84fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b3dda16e5097d60dd0a43815cc84fa8">&#9670;&nbsp;</a></span>parse_iso_time_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parse_iso_time_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>strict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given an ISO-formatted UTC time value (after the epoch) in <b>cp</b>, parse it and store its value in *<b>t</b>. Return 0 on success, -1 on failure. Ignore extraneous stuff in <b>cp</b> after the end of the time string, unless <b>strict</b> is set. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a1b3dda16e5097d60dd0a43815cc84fa8_cgraph.png" border="0" usemap="#util_8c_a1b3dda16e5097d60dd0a43815cc84fa8_cgraph" alt=""/></div>
<map name="util_8c_a1b3dda16e5097d60dd0a43815cc84fa8_cgraph" id="util_8c_a1b3dda16e5097d60dd0a43815cc84fa8_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a58eee4159dfe33194147f2146f0dbc2f" title="tor_sscanf" alt="" coords="174,5,257,32"/>
<area shape="rect" id="node4" href="util_8c.html#ac152e18c6deb4f05823053bb2980a8e4" title="esc_for_log" alt="" coords="171,56,260,83"/>
<area shape="rect" id="node3" href="util_8c.html#a90e57e8764505012f016303eab3e4180" title="tor_vsscanf" alt="" coords="308,5,399,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a1b3dda16e5097d60dd0a43815cc84fa8_icgraph.png" border="0" usemap="#util_8c_a1b3dda16e5097d60dd0a43815cc84fa8_icgraph" alt=""/></div>
<map name="util_8c_a1b3dda16e5097d60dd0a43815cc84fa8_icgraph" id="util_8c_a1b3dda16e5097d60dd0a43815cc84fa8_icgraph">
<area shape="rect" id="node2" href="util_8h.html#a8d4de39a48bc02621960c1d162478c63" title="parse_iso_time" alt="" coords="171,5,281,32"/>
</map>
</div>

</div>
</div>
<a id="a4968664a12def8a77e2eefd8f38f7217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4968664a12def8a77e2eefd8f38f7217">&#9670;&nbsp;</a></span>parse_rfc1123_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parse_rfc1123_time </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse the (a subset of) the RFC1123 encoding of some time (in UTC) from <b>buf</b>, and store the result in *<b>t</b>.</p>
<p>Note that we only accept the subset generated by format_rfc1123_time above, not the full range of formats suggested by RFC 1123.</p>
<p>Return 0 on success, -1 on failure. </p>

</div>
</div>
<a id="aba3030cb2c1b5c587301c81b37243404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba3030cb2c1b5c587301c81b37243404">&#9670;&nbsp;</a></span>path_is_relative()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int path_is_relative </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>filename</b> is a relative path. </p>

</div>
</div>
<a id="a85b13f9b761bab5b056bca836fbed32c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85b13f9b761bab5b056bca836fbed32c">&#9670;&nbsp;</a></span>process_environment_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void process_environment_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprocess__environment__t.html">process_environment_t</a> *&#160;</td>
          <td class="paramname"><em>env</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free <b>env</b> (assuming it was produced by process_environment_make). </p>

</div>
</div>
<a id="a575120f4319acc1717c0592c4bf3e95a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a575120f4319acc1717c0592c4bf3e95a">&#9670;&nbsp;</a></span>process_environment_make()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structprocess__environment__t.html">process_environment_t</a>* process_environment_make </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>env_vars</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make a <a class="el" href="structprocess__environment__t.html">process_environment_t</a> containing the environment variables specified in <b>env_vars</b> (as C strings of the form "NAME=VALUE"). </p>

</div>
</div>
<a id="a7b6ade9f7a0036f23e62eb950b4bd54f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b6ade9f7a0036f23e62eb950b4bd54f">&#9670;&nbsp;</a></span>rate_limit_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* rate_limit_log </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structratelim__t.html">ratelim_t</a> *&#160;</td>
          <td class="paramname"><em>lim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the rate-limiter <b>lim</b> is ready at <b>now</b>, return a newly allocated string indicating how many messages were suppressed, suitable to append to a log message. Otherwise return NULL. </p>

</div>
</div>
<a id="a7f7ba7abeacdd02663350b7278098d44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f7ba7abeacdd02663350b7278098d44">&#9670;&nbsp;</a></span>read_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t read_all </td>
          <td>(</td>
          <td class="paramtype">tor_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>isSocket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read from <b>fd</b> to <b>buf</b>, until we get <b>count</b> bytes or reach the end of the file. <b>isSocket</b> must be 1 if fd was returned by socket() or accept(), and 0 if fd was returned by open(). Return the number of bytes read, or -1 on error. Only use if fd is a blocking fd. </p>

</div>
</div>
<a id="ae161e4c3bcf049fa0b2ba6136c3ddd56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae161e4c3bcf049fa0b2ba6136c3ddd56">&#9670;&nbsp;</a></span>read_file_to_str_until_eof()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* read_file_to_str_until_eof </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_bytes_to_read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>sz_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the contents of the open file <b>fd</b> presuming it is a FIFO (or similar) file descriptor for which the size of the file isn't known ahead of time. Return NULL on failure, and a NUL-terminated string on success. On success, set <b>sz_out</b> to the number of bytes read. </p>

</div>
</div>
<a id="a8d370e39e1dfeb9c6436bd7879c04ce2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d370e39e1dfeb9c6436bd7879c04ce2">&#9670;&nbsp;</a></span>round_to_next_multiple_of()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned round_to_next_multiple_of </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>divisor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the lowest x such that x is at least <b>number</b>, and x modulo <b>divisor</b> == 0. If no such x can be expressed as an unsigned, return UINT_MAX </p>

</div>
</div>
<a id="ae44cd05245deb753551a05b5b4ad271f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae44cd05245deb753551a05b5b4ad271f">&#9670;&nbsp;</a></span>round_to_power_of_2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t round_to_power_of_2 </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>u64</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the power of 2 in range [1,UINT64_MAX] closest to <b>u64</b>. If there are two powers of 2 equally close, round down. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_ae44cd05245deb753551a05b5b4ad271f_cgraph.png" border="0" usemap="#util_8c_ae44cd05245deb753551a05b5b4ad271f_cgraph" alt=""/></div>
<map name="util_8c_ae44cd05245deb753551a05b5b4ad271f_cgraph" id="util_8c_ae44cd05245deb753551a05b5b4ad271f_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a221f4e984b660ea3932b18d49c10ae05" title="tor_log2" alt="" coords="200,5,268,32"/>
</map>
</div>

</div>
</div>
<a id="a8736099b0ade1d9bfdcca508257fc0f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8736099b0ade1d9bfdcca508257fc0f5">&#9670;&nbsp;</a></span>round_uint32_to_next_multiple_of()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t round_uint32_to_next_multiple_of </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>divisor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the lowest x such that x is at least <b>number</b>, and x modulo <b>divisor</b> == 0. If no such x can be expressed as a uint32_t, return UINT32_MAX </p>

</div>
</div>
<a id="af988d4e0eccfc51ee92e983170091b37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af988d4e0eccfc51ee92e983170091b37">&#9670;&nbsp;</a></span>round_uint64_to_next_multiple_of()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t round_uint64_to_next_multiple_of </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>divisor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the lowest x such that x is at least <b>number</b>, and x modulo <b>divisor</b> == 0. If no such x can be expressed as a uint64_t, return UINT64_MAX </p>

</div>
</div>
<a id="a7a71fe4811768a82c3060e8946ee62b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a71fe4811768a82c3060e8946ee62b4">&#9670;&nbsp;</a></span>sample_laplace_distribution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t sample_laplace_distribution </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transform a random value <b>p</b> from the uniform distribution in [0.0, 1.0[ into a Laplace distributed value with location parameter <b>mu</b> and scale parameter <b>b</b>. Truncate the final result to be an integer in [INT64_MIN, INT64_MAX]. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a7a71fe4811768a82c3060e8946ee62b4_icgraph.png" border="0" usemap="#util_8c_a7a71fe4811768a82c3060e8946ee62b4_icgraph" alt=""/></div>
<map name="util_8c_a7a71fe4811768a82c3060e8946ee62b4_icgraph" id="util_8c_a7a71fe4811768a82c3060e8946ee62b4_icgraph">
<area shape="rect" id="node2" href="util_8h.html#a1002800a4c79695b35032f8db18bf89b" title="add_laplace_noise" alt="" coords="236,5,365,32"/>
</map>
</div>

</div>
</div>
<a id="ae3b38763d1dc04eff42f596c14efb1c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3b38763d1dc04eff42f596c14efb1c9">&#9670;&nbsp;</a></span>set_environment_variable_in_smartlist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_environment_variable_in_smartlist </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>env_vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>new_var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>free_old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>free_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For each string s in <b>env_vars</b> such that environment_variable_names_equal(s, <b>new_var</b>), remove it; if <b>free_p</b> is non-zero, call <b>free_old</b>(s). If <b>new_var</b> contains '=', insert it into <b>env_vars</b>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_ae3b38763d1dc04eff42f596c14efb1c9_cgraph.png" border="0" usemap="#util_8c_ae3b38763d1dc04eff42f596c14efb1c9_cgraph" alt=""/></div>
<map name="util_8c_ae3b38763d1dc04eff42f596c14efb1c9_cgraph" id="util_8c_ae3b38763d1dc04eff42f596c14efb1c9_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a584e4996b64ee5bce8e33d46812388bc" title="environment_variable\l_names_equal" alt="" coords="224,5,369,47"/>
<area shape="rect" id="node3" href="container_8c.html#accf59a8b7d39a4286ff99653b6878006" title="smartlist_add" alt="" coords="247,71,347,98"/>
<area shape="rect" id="node4" href="util_8c.html#a78fd132b1188cdc0ac5e225dc160194f" title="tor_read_all_handle" alt="" coords="229,122,364,149"/>
</map>
</div>

</div>
</div>
<a id="a68cb44a66a7446022122c93590b6d179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68cb44a66a7446022122c93590b6d179">&#9670;&nbsp;</a></span>smartlist_add_asprintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smartlist_add_asprintf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>sl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Append the string produced by tor_asprintf(<b>pattern</b>, <b>...</b>) to <b>sl</b>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a68cb44a66a7446022122c93590b6d179_cgraph.png" border="0" usemap="#util_8c_a68cb44a66a7446022122c93590b6d179_cgraph" alt=""/></div>
<map name="util_8c_a68cb44a66a7446022122c93590b6d179_cgraph" id="util_8c_a68cb44a66a7446022122c93590b6d179_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a4fee2abf83af3a8b8a18b245daf4083b" title="smartlist_add_vasprintf" alt="" coords="204,31,361,57"/>
<area shape="rect" id="node3" href="compat_8c.html#a5ef7a08e8b543c0d61f9ef1081d4c1ea" title="tor_vasprintf" alt="" coords="412,5,507,32"/>
<area shape="rect" id="node4" href="container_8c.html#accf59a8b7d39a4286ff99653b6878006" title="smartlist_add" alt="" coords="409,56,509,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a68cb44a66a7446022122c93590b6d179_icgraph.png" border="0" usemap="#util_8c_a68cb44a66a7446022122c93590b6d179_icgraph" alt=""/></div>
<map name="util_8c_a68cb44a66a7446022122c93590b6d179_icgraph" id="util_8c_a68cb44a66a7446022122c93590b6d179_icgraph">
<area shape="rect" id="node2" href="config_8h.html#a371199c6500ed7bbdf40789df8310c92" title="get_list_of_ports_to\l_forward" alt="" coords="471,216,607,257"/>
<area shape="rect" id="node3" href="config_8h.html#a3f20cb3dcadc8c6d0982ac29ccd3a6bf" title="getinfo_helper_config" alt="" coords="225,71,370,98"/>
<area shape="rect" id="node4" href="control_8h.html#a0381183e4e119ef80562083e5d6305fe" title="control_ports_write\l_to_file" alt="" coords="231,123,363,164"/>
<area shape="rect" id="node5" href="control_8h.html#ad442667356d1ccf0fc9c42aefde5c16b" title="control_event_conf\l_changed" alt="" coords="231,188,363,229"/>
<area shape="rect" id="node6" href="dirvote_8h.html#a97feb95be6e8e94295fa6775355318ee" title="dirvote_create_microdescriptor" alt="" coords="439,337,639,363"/>
<area shape="rect" id="node7" href="policies_8h.html#a8dd804fdc250aed2c7270fe142400c56" title="write_short_policy" alt="" coords="234,422,361,449"/>
<area shape="rect" id="node8" href="transports_8c.html#ae4a43088088565eae5f080835a902cb0" title="get_transport_options\l_for_server_proxy" alt="" coords="224,356,371,397"/>
<area shape="rect" id="node9" href="transports_8h.html#a57ab748ff34348f65f1c76974b4edb3f" title="get_transport_proxy\l_ports" alt="" coords="229,5,366,47"/>
<area shape="rect" id="node10" href="transports_8h.html#a7b99ca768a76f864050b04271a629044" title="pt_get_extra_info_descriptor\l_string" alt="" coords="204,473,391,515"/>
</map>
</div>

</div>
</div>
<a id="a4fee2abf83af3a8b8a18b245daf4083b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fee2abf83af3a8b8a18b245daf4083b">&#9670;&nbsp;</a></span>smartlist_add_vasprintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smartlist_add_vasprintf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>sl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>va_list-based backend of smartlist_add_asprintf. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a4fee2abf83af3a8b8a18b245daf4083b_cgraph.png" border="0" usemap="#util_8c_a4fee2abf83af3a8b8a18b245daf4083b_cgraph" alt=""/></div>
<map name="util_8c_a4fee2abf83af3a8b8a18b245daf4083b_cgraph" id="util_8c_a4fee2abf83af3a8b8a18b245daf4083b_cgraph">
<area shape="rect" id="node2" href="compat_8c.html#a5ef7a08e8b543c0d61f9ef1081d4c1ea" title="tor_vasprintf" alt="" coords="213,5,308,32"/>
<area shape="rect" id="node3" href="container_8c.html#accf59a8b7d39a4286ff99653b6878006" title="smartlist_add" alt="" coords="211,56,311,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a4fee2abf83af3a8b8a18b245daf4083b_icgraph.png" border="0" usemap="#util_8c_a4fee2abf83af3a8b8a18b245daf4083b_icgraph" alt=""/></div>
<map name="util_8c_a4fee2abf83af3a8b8a18b245daf4083b_icgraph" id="util_8c_a4fee2abf83af3a8b8a18b245daf4083b_icgraph">
<area shape="rect" id="node2" href="util_8c.html#a68cb44a66a7446022122c93590b6d179" title="smartlist_add_asprintf" alt="" coords="211,254,361,281"/>
<area shape="rect" id="node3" href="config_8h.html#a371199c6500ed7bbdf40789df8310c92" title="get_list_of_ports_to\l_forward" alt="" coords="676,216,812,257"/>
<area shape="rect" id="node4" href="config_8h.html#a3f20cb3dcadc8c6d0982ac29ccd3a6bf" title="getinfo_helper_config" alt="" coords="430,71,575,98"/>
<area shape="rect" id="node5" href="control_8h.html#a0381183e4e119ef80562083e5d6305fe" title="control_ports_write\l_to_file" alt="" coords="437,123,569,164"/>
<area shape="rect" id="node6" href="control_8h.html#ad442667356d1ccf0fc9c42aefde5c16b" title="control_event_conf\l_changed" alt="" coords="437,188,569,229"/>
<area shape="rect" id="node7" href="dirvote_8h.html#a97feb95be6e8e94295fa6775355318ee" title="dirvote_create_microdescriptor" alt="" coords="644,337,844,363"/>
<area shape="rect" id="node8" href="policies_8h.html#a8dd804fdc250aed2c7270fe142400c56" title="write_short_policy" alt="" coords="439,422,566,449"/>
<area shape="rect" id="node9" href="transports_8c.html#ae4a43088088565eae5f080835a902cb0" title="get_transport_options\l_for_server_proxy" alt="" coords="429,356,576,397"/>
<area shape="rect" id="node10" href="transports_8h.html#a57ab748ff34348f65f1c76974b4edb3f" title="get_transport_proxy\l_ports" alt="" coords="434,5,571,47"/>
<area shape="rect" id="node11" href="transports_8h.html#a7b99ca768a76f864050b04271a629044" title="pt_get_extra_info_descriptor\l_string" alt="" coords="409,473,596,515"/>
</map>
</div>

</div>
</div>
<a id="a9ce5e8df63b6d2ae9cb31a301fecb350"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ce5e8df63b6d2ae9cb31a301fecb350">&#9670;&nbsp;</a></span>start_daemon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void start_daemon </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start putting the process into daemon mode: fork and drop all resources except standard fds. The parent process never returns, but stays around until finish_daemon is called. (Note: it's safe to call this more than once: calls after the first are ignored.) </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a9ce5e8df63b6d2ae9cb31a301fecb350_icgraph.png" border="0" usemap="#util_8c_a9ce5e8df63b6d2ae9cb31a301fecb350_icgraph" alt=""/></div>
<map name="util_8c_a9ce5e8df63b6d2ae9cb31a301fecb350_icgraph" id="util_8c_a9ce5e8df63b6d2ae9cb31a301fecb350_icgraph">
<area shape="rect" id="node2" href="util_8h.html#acc27414998a66c3602c4199b8316ec29" title="finish_daemon" alt="" coords="155,5,261,32"/>
</map>
</div>

</div>
</div>
<a id="a5f3fb0bdeb712732f51d0f9e3b0c849c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f3fb0bdeb712732f51d0f9e3b0c849c">&#9670;&nbsp;</a></span>start_writing_to_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int start_writing_to_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>open_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structopen__file__t.html">open_file_t</a> **&#160;</td>
          <td class="paramname"><em>data_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Try to start writing to the file in <b>fname</b>, passing the flags <b>open_flags</b> to the open() syscall, creating the file (if needed) with access value <b>mode</b>. If the O_APPEND flag is set, we append to the original file. Otherwise, we open a new temporary file in the same directory, and either replace the original or remove the temporary file when we're done.</p>
<p>Return the fd for the newly opened file, and store working data in *<b>data_out</b>. The caller should not close the fd manually: instead, call <a class="el" href="util_8c.html#a34dff6b01b03f9d8609c93fec5fffc17">finish_writing_to_file()</a> or <a class="el" href="util_8c.html#ac55ed8b7b00f14493effd493a957ddf1">abort_writing_to_file()</a>. Returns -1 on failure.</p>
<p>NOTE: When not appending, the flags O_CREAT and O_TRUNC are treated as true and the flag O_EXCL is treated as false.</p>
<p>NOTE: Ordinarily, O_APPEND means "seek to the end of the file before each
write()". We don't do that. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a5f3fb0bdeb712732f51d0f9e3b0c849c_icgraph.png" border="0" usemap="#util_8c_a5f3fb0bdeb712732f51d0f9e3b0c849c_icgraph" alt=""/></div>
<map name="util_8c_a5f3fb0bdeb712732f51d0f9e3b0c849c_icgraph" id="util_8c_a5f3fb0bdeb712732f51d0f9e3b0c849c_icgraph">
<area shape="rect" id="node2" href="util_8h.html#aa4a3fe13e93e542ee9b598d865f2647c" title="start_writing_to_stdio_file" alt="" coords="188,5,359,32"/>
<area shape="rect" id="node3" href="microdesc_8h.html#a4492613165472890582c336f6e9e0c65" title="microdescs_add_list\l_to_cache" alt="" coords="203,57,344,98"/>
</map>
</div>

</div>
</div>
<a id="aa4a3fe13e93e542ee9b598d865f2647c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4a3fe13e93e542ee9b598d865f2647c">&#9670;&nbsp;</a></span>start_writing_to_stdio_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* start_writing_to_stdio_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>open_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structopen__file__t.html">open_file_t</a> **&#160;</td>
          <td class="paramname"><em>data_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Combines start_writing_to_file with <a class="el" href="util_8c.html#ac0cbd74a7fe81a4aa5efab4d87628ea0">fdopen_file()</a>: arguments are as for start_writing_to_file, but </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_aa4a3fe13e93e542ee9b598d865f2647c_cgraph.png" border="0" usemap="#util_8c_aa4a3fe13e93e542ee9b598d865f2647c_cgraph" alt=""/></div>
<map name="util_8c_aa4a3fe13e93e542ee9b598d865f2647c_cgraph" id="util_8c_aa4a3fe13e93e542ee9b598d865f2647c_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a5f3fb0bdeb712732f51d0f9e3b0c849c" title="start_writing_to_file" alt="" coords="226,5,361,32"/>
<area shape="rect" id="node3" href="util_8c.html#ac0cbd74a7fe81a4aa5efab4d87628ea0" title="fdopen_file" alt="" coords="251,56,336,83"/>
<area shape="rect" id="node4" href="util_8c.html#ac55ed8b7b00f14493effd493a957ddf1" title="abort_writing_to_file" alt="" coords="224,107,363,133"/>
</map>
</div>

</div>
</div>
<a id="a595e5e722adc3f46c2d27bced61a8a18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a595e5e722adc3f46c2d27bced61a8a18">&#9670;&nbsp;</a></span>strcasecmpend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int strcasecmpend </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compares the last strlen(s2) characters of s1 with s2. Returns as for strcasecmp. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a595e5e722adc3f46c2d27bced61a8a18_icgraph.png" border="0" usemap="#util_8c_a595e5e722adc3f46c2d27bced61a8a18_icgraph" alt=""/></div>
<map name="util_8c_a595e5e722adc3f46c2d27bced61a8a18_icgraph" id="util_8c_a595e5e722adc3f46c2d27bced61a8a18_icgraph">
<area shape="rect" id="node2" href="address_8h.html#a704407961c6ac0d2fddfd29b8a719d91" title="tor_addr_parse_PTR_name" alt="" coords="164,5,345,32"/>
<area shape="rect" id="node3" href="addressmap_8c.html#ab8116fcd70f6e238aadd682e990997fe" title="addressmap_address\l_should_automap" alt="" coords="181,57,328,98"/>
<area shape="rect" id="node4" href="addressmap_8c.html#a34bcfa3ad7ee0372635c33ad4fc59598" title="address_is_in_virtual\l_range" alt="" coords="183,122,327,163"/>
<area shape="rect" id="node5" href="circuituse_8h.html#a6552c3467492a702a37f75ffd9a7676b" title="hostname_in_track_host\l_exits" alt="" coords="173,187,337,229"/>
</map>
</div>

</div>
</div>
<a id="a1d095be5cec365a93ac90501390f70fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d095be5cec365a93ac90501390f70fa">&#9670;&nbsp;</a></span>strcasecmpstart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int strcasecmpstart </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compares the first strlen(s2) characters of s1 with s2. Returns as for strcasecmp. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a1d095be5cec365a93ac90501390f70fa_icgraph.png" border="0" usemap="#util_8c_a1d095be5cec365a93ac90501390f70fa_icgraph" alt=""/></div>
<map name="util_8c_a1d095be5cec365a93ac90501390f70fa_icgraph" id="util_8c_a1d095be5cec365a93ac90501390f70fa_icgraph">
<area shape="rect" id="node2" href="config_8c.html#aa33011ecb969cfb88f0e8979654d1fed" title="parse_dir_fallback_line" alt="" coords="169,5,324,32"/>
<area shape="rect" id="node4" href="routerparse_8h.html#ace4c11b51ca67a4f140ed41ae3d47b6d" title="tor_version_parse" alt="" coords="184,56,309,83"/>
<area shape="rect" id="node3" href="config_8c.html#ada6cefd4da1cfdc3d1588721bafc0a3f" title="MOCK_IMPL" alt="" coords="411,5,511,32"/>
<area shape="rect" id="node5" href="routerparse_8h.html#a47c9a3cf5868b2133b4e5a582ca69aa6" title="tor_version_parse_platform" alt="" coords="372,56,551,83"/>
<area shape="rect" id="node6" href="routerparse_8h.html#a34e1f6d4f6429bcf1d565f54a1dfcd5c" title="tor_version_as_new_as" alt="" coords="382,107,541,133"/>
<area shape="rect" id="node7" href="protover_8h.html#a14cfeb2deba8e3104fc9ca36778312d9" title="protover_compute_for\l_old_tor" alt="" coords="599,99,747,141"/>
</map>
</div>

</div>
</div>
<a id="a96a2ca528cbd3f30a7a22d2ae2c82594"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96a2ca528cbd3f30a7a22d2ae2c82594">&#9670;&nbsp;</a></span>strcmp_len()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int strcmp_len </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s1_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compare the s1_len-byte string <b>s1</b> with <b>s2</b>, without depending on a terminating nul in s1. Sorting order is first by length, then lexically; return values are as for strcmp. </p>

</div>
</div>
<a id="a66dfc160abb620a3fccaf54d563e5725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66dfc160abb620a3fccaf54d563e5725">&#9670;&nbsp;</a></span>strcmp_opt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int strcmp_opt </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As strcmp, except that either string may be NULL. The NULL string is considered to be before any non-NULL string. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a66dfc160abb620a3fccaf54d563e5725_icgraph.png" border="0" usemap="#util_8c_a66dfc160abb620a3fccaf54d563e5725_icgraph" alt=""/></div>
<map name="util_8c_a66dfc160abb620a3fccaf54d563e5725_icgraph" id="util_8c_a66dfc160abb620a3fccaf54d563e5725_icgraph">
<area shape="rect" id="node2" href="connection_8h.html#a86d2c5314a90b6c62dae9c9fc82ed241" title="connection_dir_list\l_by_purpose_and_resource" alt="" coords="140,5,321,47"/>
<area shape="rect" id="node3" href="connection_8h.html#a147c7e687750c8a345c5febefe4a1409" title="connection_dir_list\l_by_purpose_resource\l_and_state" alt="" coords="154,71,307,127"/>
</map>
</div>

</div>
</div>
<a id="a28445ce92bb84e6413d5437428dae850"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28445ce92bb84e6413d5437428dae850">&#9670;&nbsp;</a></span>strcmpend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int strcmpend </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compares the last strlen(s2) characters of s1 with s2. Returns as for strcmp. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a28445ce92bb84e6413d5437428dae850_icgraph.png" border="0" usemap="#util_8c_a28445ce92bb84e6413d5437428dae850_icgraph" alt=""/></div>
<map name="util_8c_a28445ce92bb84e6413d5437428dae850_icgraph" id="util_8c_a28445ce92bb84e6413d5437428dae850_icgraph">
<area shape="rect" id="node2" href="crypto__format_8c.html#a40e1ed638568c15cac66b16cf427b4e7" title="crypto_read_tagged\l_contents_from_file" alt="" coords="136,71,272,112"/>
<area shape="rect" id="node3" href="crypto__curve25519_8c.html#a7fce12b8d0fef7bbe32c103aaab17412" title="curve25519_keypair\l_read_from_file" alt="" coords="327,5,465,47"/>
<area shape="rect" id="node4" href="crypto__ed25519_8c.html#a34a8bd7b192871bd1e5b778961ba2efb" title="ed25519_seckey_read\l_from_file" alt="" coords="320,71,472,112"/>
<area shape="rect" id="node5" href="crypto__ed25519_8c.html#aa33c6bb447b0042745d6d2938a12dda4" title="ed25519_pubkey_read\l_from_file" alt="" coords="320,136,472,177"/>
</map>
</div>

</div>
</div>
<a id="a245aaefd9d8715af06ce0f7b7355fd0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a245aaefd9d8715af06ce0f7b7355fd0d">&#9670;&nbsp;</a></span>strcmpstart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int strcmpstart </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compares the first strlen(s2) characters of s1 with s2. Returns as for strcmp. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a245aaefd9d8715af06ce0f7b7355fd0d_icgraph.png" border="0" usemap="#util_8c_a245aaefd9d8715af06ce0f7b7355fd0d_icgraph" alt=""/></div>
<map name="util_8c_a245aaefd9d8715af06ce0f7b7355fd0d_icgraph" id="util_8c_a245aaefd9d8715af06ce0f7b7355fd0d_icgraph">
<area shape="rect" id="node2" href="crypto__format_8c.html#a40e1ed638568c15cac66b16cf427b4e7" title="crypto_read_tagged\l_contents_from_file" alt="" coords="174,87,310,128"/>
<area shape="rect" id="node6" href="config_8c.html#aa33011ecb969cfb88f0e8979654d1fed" title="parse_dir_fallback_line" alt="" coords="165,185,319,211"/>
<area shape="rect" id="node8" href="config_8h.html#a921479be2cc807b006e928356bc0ba51" title="port_cfg_line_extract\l_addrport" alt="" coords="171,236,313,277"/>
<area shape="rect" id="node9" href="control_8h.html#ab464eef1adbc6df3fcc09063dc6f9c3e" title="decode_hashed_passwords" alt="" coords="151,302,333,329"/>
<area shape="rect" id="node10" href="control_8c.html#afb5aa2ca5fb7e5db504bf1d3ff1342c5" title="getinfo_helper_downloads_cert" alt="" coords="141,353,343,379"/>
<area shape="rect" id="node11" href="control_8c.html#a8464eca5a44ec95b58f55316cd5a4ceb" title="getinfo_helper_downloads" alt="" coords="391,378,563,405"/>
<area shape="rect" id="node12" href="directory_8c.html#a2ab1c7dcfde852c520eb496643fdc865" title="parse_http_url" alt="" coords="190,454,294,481"/>
<area shape="rect" id="node13" href="dirserv_8h.html#a8fca5a38cd000d8ccabe5bc73e296bb2" title="dirserv_get_routerdescs" alt="" coords="161,505,323,531"/>
<area shape="rect" id="node14" href="dirvote_8c.html#a53c84b14cb4293be3481901a2bf7d344" title="dirvote_get_intermediate\l_param_value" alt="" coords="160,556,324,597"/>
<area shape="rect" id="node15" href="geoip_8h.html#a921840886e0a3d9ba57b014e6629cf1b" title="getinfo_helper_geoip" alt="" coords="171,622,313,649"/>
<area shape="rect" id="node16" href="policies_8h.html#a3bfef99ddcecfbae711ce90c0c02bdff" title="parse_short_policy" alt="" coords="177,673,307,699"/>
<area shape="rect" id="node17" href="rephist_8h.html#a3b22d94b9f6a32b2213e011bb278258d" title="rep_hist_load_mtbf_data" alt="" coords="160,723,324,750"/>
<area shape="rect" id="node18" href="routerparse_8h.html#a47c9a3cf5868b2133b4e5a582ca69aa6" title="tor_version_parse_platform" alt="" coords="153,774,331,801"/>
<area shape="rect" id="node19" href="routerparse_8h.html#af9f19ced712ed538c086276fa472851d" title="rend_parse_client_keys" alt="" coords="163,825,321,851"/>
<area shape="rect" id="node3" href="crypto__curve25519_8c.html#a7fce12b8d0fef7bbe32c103aaab17412" title="curve25519_keypair\l_read_from_file" alt="" coords="407,5,546,47"/>
<area shape="rect" id="node4" href="crypto__ed25519_8c.html#a34a8bd7b192871bd1e5b778961ba2efb" title="ed25519_seckey_read\l_from_file" alt="" coords="401,71,553,112"/>
<area shape="rect" id="node5" href="crypto__ed25519_8c.html#aa33c6bb447b0042745d6d2938a12dda4" title="ed25519_pubkey_read\l_from_file" alt="" coords="401,136,553,177"/>
<area shape="rect" id="node7" href="config_8c.html#ada6cefd4da1cfdc3d1588721bafc0a3f" title="MOCK_IMPL" alt="" coords="427,202,527,229"/>
</map>
</div>

</div>
</div>
<a id="a50a277d6cece483ae49a0bf173a0529a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50a277d6cece483ae49a0bf173a0529a">&#9670;&nbsp;</a></span>stream_status_to_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* stream_status_to_string </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="util_8h.html#a5d31dda277e56fa17f61ee4d92881e34">stream_status</a> <a class="el" href="util_8h.html#a5d31dda277e56fa17f61ee4d92881e34">stream_status</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a string corresponding to <b>stream_status</b>. </p>

</div>
</div>
<a id="a936fd5dfa0ccd9b836df432640cbfe88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936fd5dfa0ccd9b836df432640cbfe88">&#9670;&nbsp;</a></span>string_is_C_identifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int string_is_C_identifier </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if <b>string</b> could be a C identifier. A C identifier must begin with a letter or an underscore and the rest of its characters can be letters, numbers or underscores. No length limit is imposed. </p>

</div>
</div>
<a id="a4fb7293a905e61c3a9ba683a8ed9ad99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb7293a905e61c3a9ba683a8ed9ad99">&#9670;&nbsp;</a></span>string_is_key_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int string_is_key_value </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>severity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true if <b>string</b> is a valid 'key=[value]' string. "value" is optional, to indicate the empty string. Log at logging <b>severity</b> if something ugly happens. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a4fb7293a905e61c3a9ba683a8ed9ad99_cgraph.png" border="0" usemap="#util_8c_a4fb7293a905e61c3a9ba683a8ed9ad99_cgraph" alt=""/></div>
<map name="util_8c_a4fb7293a905e61c3a9ba683a8ed9ad99_cgraph" id="util_8c_a4fb7293a905e61c3a9ba683a8ed9ad99_cgraph">
<area shape="rect" id="node2" href="log_8c.html#a048192107dfd3f8f22b9e599e45d0b34" title="tor_log" alt="" coords="195,5,257,32"/>
<area shape="rect" id="node3" href="util_8c.html#a354eb90598823d4fd6111b94c9c0ce97" title="escaped" alt="" coords="191,56,261,83"/>
<area shape="rect" id="node4" href="util_8c.html#ac152e18c6deb4f05823053bb2980a8e4" title="esc_for_log" alt="" coords="309,56,399,83"/>
</map>
</div>

</div>
</div>
<a id="a6e86f3506694e8592bb7f926af588b07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e86f3506694e8592bb7f926af588b07">&#9670;&nbsp;</a></span>string_is_valid_hostname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int string_is_valid_hostname </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>string</b> matches a pattern of DNS names that we allow Tor clients to connect to.</p>
<p>Note: This allows certain technically invalid characters ('_') to cope with misconfigured zones that have been encountered in the wild. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a6e86f3506694e8592bb7f926af588b07_cgraph.png" border="0" usemap="#util_8c_a6e86f3506694e8592bb7f926af588b07_cgraph" alt=""/></div>
<map name="util_8c_a6e86f3506694e8592bb7f926af588b07_cgraph" id="util_8c_a6e86f3506694e8592bb7f926af588b07_cgraph">
<area shape="rect" id="node2" href="container_8c.html#a1d75cac5583c66900c032ba972ffabc8" title="smartlist_split_string" alt="" coords="223,5,365,32"/>
</map>
</div>

</div>
</div>
<a id="a307d12f617bd1f5606b8f971733e4c48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a307d12f617bd1f5606b8f971733e4c48">&#9670;&nbsp;</a></span>string_is_valid_ipv4_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int string_is_valid_ipv4_address </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true if <b>string</b> represents a valid IPv4 adddress in 'a.b.c.d' form. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a307d12f617bd1f5606b8f971733e4c48_cgraph.png" border="0" usemap="#util_8c_a307d12f617bd1f5606b8f971733e4c48_cgraph" alt=""/></div>
<map name="util_8c_a307d12f617bd1f5606b8f971733e4c48_cgraph" id="util_8c_a307d12f617bd1f5606b8f971733e4c48_cgraph">
<area shape="rect" id="node2" href="compat_8c.html#a8ba87984a3a5dd16e7b60621ff983a89" title="tor_inet_pton" alt="" coords="189,31,287,57"/>
<area shape="rect" id="node3" href="compat_8c.html#a802226afdc80ad46ae394289b1e586ee" title="tor_inet_aton" alt="" coords="335,5,432,32"/>
<area shape="rect" id="node4" href="util_8c.html#a58eee4159dfe33194147f2146f0dbc2f" title="tor_sscanf" alt="" coords="480,31,563,57"/>
<area shape="rect" id="node5" href="util_8c.html#a90e57e8764505012f016303eab3e4180" title="tor_vsscanf" alt="" coords="611,31,701,57"/>
</map>
</div>

</div>
</div>
<a id="a06c31f983cd56699cca308532a09a14c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06c31f983cd56699cca308532a09a14c">&#9670;&nbsp;</a></span>string_is_valid_ipv6_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int string_is_valid_ipv6_address </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true if <b>string</b> represents a valid IPv6 address in a form that inet_pton() can parse. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a06c31f983cd56699cca308532a09a14c_cgraph.png" border="0" usemap="#util_8c_a06c31f983cd56699cca308532a09a14c_cgraph" alt=""/></div>
<map name="util_8c_a06c31f983cd56699cca308532a09a14c_cgraph" id="util_8c_a06c31f983cd56699cca308532a09a14c_cgraph">
<area shape="rect" id="node2" href="compat_8c.html#a8ba87984a3a5dd16e7b60621ff983a89" title="tor_inet_pton" alt="" coords="189,31,287,57"/>
<area shape="rect" id="node3" href="compat_8c.html#a802226afdc80ad46ae394289b1e586ee" title="tor_inet_aton" alt="" coords="335,5,432,32"/>
<area shape="rect" id="node4" href="util_8c.html#a58eee4159dfe33194147f2146f0dbc2f" title="tor_sscanf" alt="" coords="480,31,563,57"/>
<area shape="rect" id="node5" href="util_8c.html#a90e57e8764505012f016303eab3e4180" title="tor_vsscanf" alt="" coords="611,31,701,57"/>
</map>
</div>

</div>
</div>
<a id="aaf0799dff060a0f036418f47ec8921e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf0799dff060a0f036418f47ec8921e6">&#9670;&nbsp;</a></span>tor_calloc_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tor_calloc_ </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nmemb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t size&#160;</td>
          <td class="paramname"><em>DMALLOC_PARAMS</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate a chunk of <b>nmemb</b>*<b>size</b> bytes of memory, fill the memory with zero bytes, and return a pointer to the result. Log and terminate the process on error. (Same as calloc(<b>nmemb</b>,<b>size</b>), but never returns NULL.) The second argument (<b>size</b>) should preferably be non-zero and a compile-time constant. </p>

</div>
</div>
<a id="ae87d3f1a30c8b60279e46e98a97c202c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae87d3f1a30c8b60279e46e98a97c202c">&#9670;&nbsp;</a></span>tor_check_port_forwarding()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tor_check_port_forwarding </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>ports_to_forward</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Spawn tor-fw-helper and ask it to forward the ports in <b>ports_to_forward</b>. <b>ports_to_forward</b> contains strings of the form "&lt;external port&gt;:&lt;internal port&gt;", which is the format that tor-fw-helper expects. </p>

</div>
</div>
<a id="a714ca710c1b7d56d6633bf2d1f550cad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a714ca710c1b7d56d6633bf2d1f550cad">&#9670;&nbsp;</a></span>tor_digest256_is_zero()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tor_digest256_is_zero </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff the DIGEST256_LEN bytes in digest are all zero. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a714ca710c1b7d56d6633bf2d1f550cad_cgraph.png" border="0" usemap="#util_8c_a714ca710c1b7d56d6633bf2d1f550cad_cgraph" alt=""/></div>
<map name="util_8c_a714ca710c1b7d56d6633bf2d1f550cad_cgraph" id="util_8c_a714ca710c1b7d56d6633bf2d1f550cad_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a7c5079074e649dc0369225eca3073f7d" title="tor_mem_is_zero" alt="" coords="203,5,325,32"/>
</map>
</div>

</div>
</div>
<a id="add0703747195c2abd042572426e80266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add0703747195c2abd042572426e80266">&#9670;&nbsp;</a></span>tor_digest_is_zero()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tor_digest_is_zero </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff the DIGEST_LEN bytes in digest are all zero. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_add0703747195c2abd042572426e80266_cgraph.png" border="0" usemap="#util_8c_add0703747195c2abd042572426e80266_cgraph" alt=""/></div>
<map name="util_8c_add0703747195c2abd042572426e80266_cgraph" id="util_8c_add0703747195c2abd042572426e80266_cgraph">
<area shape="rect" id="node2" href="di__ops_8c.html#a473334ee93cca0aea10523321a444ea3" title="tor_memeq" alt="" coords="181,5,268,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_add0703747195c2abd042572426e80266_icgraph.png" border="0" usemap="#util_8c_add0703747195c2abd042572426e80266_icgraph" alt=""/></div>
<map name="util_8c_add0703747195c2abd042572426e80266_icgraph" id="util_8c_add0703747195c2abd042572426e80266_icgraph">
<area shape="rect" id="node2" href="channel_8c.html#ab56dc7ecc8a31e8bfa4dc5281b72c21e" title="MOCK_IMPL" alt="" coords="209,5,309,32"/>
<area shape="rect" id="node3" href="circuitlist_8h.html#aaef0c4aefe50f0432478e21e51814a34" title="circuit_get_all_pending\l_on_channel" alt="" coords="181,57,336,98"/>
<area shape="rect" id="node5" href="connection__or_8h.html#a641743095fae21749e9f4bdf36c8e9e6" title="connection_or_client\l_learned_peer_id" alt="" coords="188,122,329,163"/>
<area shape="rect" id="node4" href="circuitlist_8h.html#aa797a036ce04a0d14f669e656ec62408" title="circuit_count_pending\l_on_channel" alt="" coords="384,57,532,98"/>
</map>
</div>

</div>
</div>
<a id="a70a007f8fc912d371f5789fdb6d82616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70a007f8fc912d371f5789fdb6d82616">&#9670;&nbsp;</a></span>tor_escape_str_for_pt_args()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* tor_escape_str_for_pt_args </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>chars_to_escape</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a newly allocated string equal to <b>string</b>, except that every character in <b>chars_to_escape</b> is preceded by a backslash. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a70a007f8fc912d371f5789fdb6d82616_icgraph.png" border="0" usemap="#util_8c_a70a007f8fc912d371f5789fdb6d82616_icgraph" alt=""/></div>
<map name="util_8c_a70a007f8fc912d371f5789fdb6d82616_icgraph" id="util_8c_a70a007f8fc912d371f5789fdb6d82616_icgraph">
<area shape="rect" id="node2" href="transports_8c.html#ae4a43088088565eae5f080835a902cb0" title="get_transport_options\l_for_server_proxy" alt="" coords="191,5,337,47"/>
<area shape="rect" id="node3" href="transports_8h.html#a347176a5f6a811de4f851c1147e5fa73" title="pt_stringify_socks_args" alt="" coords="184,71,344,98"/>
<area shape="rect" id="node4" href="transports_8h.html#a122033e171457c2474ad385177d1382a" title="pt_get_socks_args_for\l_proxy_addrport" alt="" coords="392,64,547,105"/>
</map>
</div>

</div>
</div>
<a id="a40d94cc20afc38582c65aa418919ebed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40d94cc20afc38582c65aa418919ebed">&#9670;&nbsp;</a></span>tor_free_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tor_free_ </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Helper for places that need to take a function pointer to the right spelling of "free()". </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a40d94cc20afc38582c65aa418919ebed_icgraph.png" border="0" usemap="#util_8c_a40d94cc20afc38582c65aa418919ebed_icgraph" alt=""/></div>
<map name="util_8c_a40d94cc20afc38582c65aa418919ebed_icgraph" id="util_8c_a40d94cc20afc38582c65aa418919ebed_icgraph">
<area shape="rect" id="node2" href="dircollate_8h.html#a3dd8a2dd2be926429d19ae23fd195e4e" title="dircollator_free" alt="" coords="169,5,276,32"/>
<area shape="rect" id="node3" href="dirserv_8h.html#a952a2a3f8acd42cdebbae8631123cf1c" title="dirserv_free_fingerprint_list" alt="" coords="133,56,312,83"/>
<area shape="rect" id="node5" href="dirvote_8h.html#a4a36c2930edf9d2ca915c30057a64da8" title="ns_detached_signatures_free" alt="" coords="127,107,319,133"/>
<area shape="rect" id="node6" href="dns_8h.html#a307a827eed6277f5125f6503da3ddbe2" title="dns_reset_correctness\l_checks" alt="" coords="145,158,300,199"/>
<area shape="rect" id="node8" href="tor__main_8c.html#a6374afd9273e4780748fb27a8c15f2a3" title="tor_main" alt="" coords="187,224,259,251"/>
<area shape="rect" id="node10" href="test_8h.html#a568fcf10cfdd05506333a2b7ac5ee068" title="pk_generate" alt="" coords="579,249,672,276"/>
<area shape="rect" id="node11" href="transports_8c.html#af16658af2fffde5dcdbea489349b5524" title="free_execve_args" alt="" coords="160,325,285,352"/>
<area shape="rect" id="node4" href="dirserv_8h.html#aa86c752d8d8f446eba40db2d0c2269a7" title="dirserv_free_all" alt="" coords="393,56,504,83"/>
<area shape="rect" id="node7" href="main_8h.html#a1725c3c7eee555118c2f19cebe1ca00d" title="dns_servers_relaunch\l_checks" alt="" coords="374,158,523,199"/>
<area shape="rect" id="node9" href="tor__main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="423,224,474,251"/>
<area shape="rect" id="node12" href="transports_8c.html#a437490d8399f97fdfad6573249e6992b" title="managed_proxy_destroy" alt="" coords="367,325,531,352"/>
</map>
</div>

</div>
</div>
<a id="aae5b7e7e99ea4705673069cf581ab70b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae5b7e7e99ea4705673069cf581ab70b">&#9670;&nbsp;</a></span>tor_get_exit_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tor_get_exit_code </td>
          <td>(</td>
          <td class="paramtype">process_handle_t *&#160;</td>
          <td class="paramname"><em>process_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>exit_code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the exit code of a process specified by <b>process_handle</b> and store it in <b>exit_code</b>, if set to a non-NULL value. If <b>block</b> is set to true, the call will block until the process has exited. Otherwise if the process is still running, the function will return PROCESS_EXIT_RUNNING, and exit_code will be left unchanged. Returns PROCESS_EXIT_EXITED if the process did exit. If there is a failure, PROCESS_EXIT_ERROR will be returned and the contents of exit_code (if non-NULL) will be undefined. N.B. Under *nix operating systems, this will probably not work in Tor, because waitpid() is called in <a class="el" href="main_8c.html" title="Toplevel module. Handles signals, multiplexes between connections, implements main loop...">main.c</a> to reap any terminated child processes. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_aae5b7e7e99ea4705673069cf581ab70b_icgraph.png" border="0" usemap="#util_8c_aae5b7e7e99ea4705673069cf581ab70b_icgraph" alt=""/></div>
<map name="util_8c_aae5b7e7e99ea4705673069cf581ab70b_icgraph" id="util_8c_aae5b7e7e99ea4705673069cf581ab70b_icgraph">
<area shape="rect" id="node2" href="util_8h.html#a5189d0a5ffdf1ce3ac328aef77a32496" title="tor_terminate_process" alt="" coords="179,5,329,32"/>
<area shape="rect" id="node3" href="util_8c.html#a812faddc218480a687a37305f1ae17cf" title="MOCK_IMPL" alt="" coords="377,5,477,32"/>
</map>
</div>

</div>
</div>
<a id="ae251b57349c0a4bf306bd47653d3ca16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae251b57349c0a4bf306bd47653d3ca16">&#9670;&nbsp;</a></span>tor_htonll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t tor_htonll </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a uint64_t value from <b>a</b> in network byte order. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_ae251b57349c0a4bf306bd47653d3ca16_icgraph.png" border="0" usemap="#util_8c_ae251b57349c0a4bf306bd47653d3ca16_icgraph" alt=""/></div>
<map name="util_8c_ae251b57349c0a4bf306bd47653d3ca16_icgraph" id="util_8c_ae251b57349c0a4bf306bd47653d3ca16_icgraph">
<area shape="rect" id="node2" href="util_8h.html#a4959f0aba8a681ab08cfdccfbe16ffc2" title="tor_ntohll" alt="" coords="128,5,203,32"/>
</map>
</div>

</div>
</div>
<a id="a373d6d2dd841030c564ed3fffe08550a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a373d6d2dd841030c564ed3fffe08550a">&#9670;&nbsp;</a></span>tor_init_weak_random()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tor_init_weak_random </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtor__weak__rng__t.html">tor_weak_rng_t</a> *&#160;</td>
          <td class="paramname"><em>rng</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>seed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the insecure RNG <b>rng</b> from a seed value <b>seed</b>. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a373d6d2dd841030c564ed3fffe08550a_icgraph.png" border="0" usemap="#util_8c_a373d6d2dd841030c564ed3fffe08550a_icgraph" alt=""/></div>
<map name="util_8c_a373d6d2dd841030c564ed3fffe08550a_icgraph" id="util_8c_a373d6d2dd841030c564ed3fffe08550a_icgraph">
<area shape="rect" id="node2" href="crypto_8h.html#aa45c4123670ef0cc6ee53dc17371b82e" title="crypto_seed_weak_rng" alt="" coords="203,5,359,32"/>
</map>
</div>

</div>
</div>
<a id="abf5a920e5066e56d3267e95ab675bdc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf5a920e5066e56d3267e95ab675bdc0">&#9670;&nbsp;</a></span>tor_join_win_cmdline()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* tor_join_win_cmdline </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Format a command line for use on Windows, which takes the command as a string rather than string array. Follows the rules from "Parsing C++
Command-Line Arguments" in MSDN. Algorithm based on list2cmdline in the Python subprocess module. Returns a newly allocated string </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_abf5a920e5066e56d3267e95ab675bdc0_cgraph.png" border="0" usemap="#util_8c_abf5a920e5066e56d3267e95ab675bdc0_cgraph" alt=""/></div>
<map name="util_8c_abf5a920e5066e56d3267e95ab675bdc0_cgraph" id="util_8c_abf5a920e5066e56d3267e95ab675bdc0_cgraph">
<area shape="rect" id="node2" href="container_8c.html#accf59a8b7d39a4286ff99653b6878006" title="smartlist_add" alt="" coords="196,5,296,32"/>
</map>
</div>

</div>
</div>
<a id="a9b0befd3ad0e6ffcf03da6bd791d7e75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b0befd3ad0e6ffcf03da6bd791d7e75">&#9670;&nbsp;</a></span>tor_llround()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t tor_llround </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the 64-bit integer closest to d. We define this wrapper here so that not all users of math.h need to use the right incantations to get the c99 functions. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a9b0befd3ad0e6ffcf03da6bd791d7e75_icgraph.png" border="0" usemap="#util_8c_a9b0befd3ad0e6ffcf03da6bd791d7e75_icgraph" alt=""/></div>
<map name="util_8c_a9b0befd3ad0e6ffcf03da6bd791d7e75_icgraph" id="util_8c_a9b0befd3ad0e6ffcf03da6bd791d7e75_icgraph">
<area shape="rect" id="node2" href="routerlist_8c.html#aa17ec1d95171be8c87bb5dcc4ac341ba" title="scale_array_elements\l_to_u64" alt="" coords="136,5,285,47"/>
</map>
</div>

</div>
</div>
<a id="a221f4e984b660ea3932b18d49c10ae05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a221f4e984b660ea3932b18d49c10ae05">&#9670;&nbsp;</a></span>tor_log2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tor_log2 </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>u64</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns floor(log2(u64)). If u64 is 0, (incorrectly) returns 0. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a221f4e984b660ea3932b18d49c10ae05_icgraph.png" border="0" usemap="#util_8c_a221f4e984b660ea3932b18d49c10ae05_icgraph" alt=""/></div>
<map name="util_8c_a221f4e984b660ea3932b18d49c10ae05_icgraph" id="util_8c_a221f4e984b660ea3932b18d49c10ae05_icgraph">
<area shape="rect" id="node2" href="address__set_8c.html#a16efd809a0bda3d0dcb968987627c083" title="address_set_new" alt="" coords="133,5,257,32"/>
<area shape="rect" id="node3" href="container_8c.html#aa0c4bc4260b654f0d9544675d3905865" title="digestset_new" alt="" coords="141,56,248,83"/>
<area shape="rect" id="node4" href="util_8h.html#ae44cd05245deb753551a05b5b4ad271f" title="round_to_power_of_2" alt="" coords="121,107,268,133"/>
</map>
</div>

</div>
</div>
<a id="af16b9ea01680fc8d8adb247d1549c00c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af16b9ea01680fc8d8adb247d1549c00c">&#9670;&nbsp;</a></span>tor_log_mallinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tor_log_mallinfo </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>severity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call the platform malloc info function, and dump the results to the log at level <b>severity</b>. If no such function exists, do nothing. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_af16b9ea01680fc8d8adb247d1549c00c_cgraph.png" border="0" usemap="#util_8c_af16b9ea01680fc8d8adb247d1549c00c_cgraph" alt=""/></div>
<map name="util_8c_af16b9ea01680fc8d8adb247d1549c00c_cgraph" id="util_8c_af16b9ea01680fc8d8adb247d1549c00c_cgraph">
<area shape="rect" id="node2" href="log_8c.html#a048192107dfd3f8f22b9e599e45d0b34" title="tor_log" alt="" coords="167,5,228,32"/>
</map>
</div>

</div>
</div>
<a id="a44cb339836df0bbfcf8416209976f6db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44cb339836df0bbfcf8416209976f6db">&#9670;&nbsp;</a></span>tor_lround()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long tor_lround </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the long integer closest to <b>d</b>. We define this wrapper here so that not all users of math.h need to use the right incantations to get the c99 functions. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a44cb339836df0bbfcf8416209976f6db_icgraph.png" border="0" usemap="#util_8c_a44cb339836df0bbfcf8416209976f6db_icgraph" alt=""/></div>
<map name="util_8c_a44cb339836df0bbfcf8416209976f6db_icgraph" id="util_8c_a44cb339836df0bbfcf8416209976f6db_icgraph">
<area shape="rect" id="node2" href="circuitstats_8c.html#a341fbd9cebffb2dae555f32e719bc27b" title="circuit_build_times\l_calculate_timeout" alt="" coords="132,5,263,47"/>
<area shape="rect" id="node3" href="circuitstats_8h.html#a321ec5d0efe5196955be8140397bba91" title="circuit_build_times\l_set_timeout" alt="" coords="132,71,263,112"/>
</map>
</div>

</div>
</div>
<a id="ac4fb16a7033fadcbbef9267c543e1956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4fb16a7033fadcbbef9267c543e1956">&#9670;&nbsp;</a></span>tor_malloc_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tor_malloc_ </td>
          <td>(</td>
          <td class="paramtype">size_t size&#160;</td>
          <td class="paramname"><em>DMALLOC_PARAMS</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate a chunk of <b>size</b> bytes of memory, and return a pointer to result. On error, log and terminate the process. (Same as malloc(size), but never returns NULL.)</p>
<p><b>file</b> and <b>line</b> are used if dmalloc is enabled, and ignored otherwise. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_ac4fb16a7033fadcbbef9267c543e1956_icgraph.png" border="0" usemap="#util_8c_ac4fb16a7033fadcbbef9267c543e1956_icgraph" alt=""/></div>
<map name="util_8c_ac4fb16a7033fadcbbef9267c543e1956_icgraph" id="util_8c_ac4fb16a7033fadcbbef9267c543e1956_icgraph">
<area shape="rect" id="node2" href="tor__main_8c.html#a6374afd9273e4780748fb27a8c15f2a3" title="tor_main" alt="" coords="143,5,215,32"/>
<area shape="rect" id="node4" href="test_8h.html#a568fcf10cfdd05506333a2b7ac5ee068" title="pk_generate" alt="" coords="361,31,455,57"/>
<area shape="rect" id="node3" href="tor__main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="263,5,313,32"/>
</map>
</div>

</div>
</div>
<a id="a7405df3da88d7ea0cd3caf81fb08b361"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7405df3da88d7ea0cd3caf81fb08b361">&#9670;&nbsp;</a></span>tor_malloc_zero_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tor_malloc_zero_ </td>
          <td>(</td>
          <td class="paramtype">size_t size&#160;</td>
          <td class="paramname"><em>DMALLOC_PARAMS</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate a chunk of <b>size</b> bytes of memory, fill the memory with zero bytes, and return a pointer to the result. Log and terminate the process on error. (Same as calloc(size,1), but never returns NULL.) </p>

</div>
</div>
<a id="a439eb5ebebe45181a077082b5f5ec598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a439eb5ebebe45181a077082b5f5ec598">&#9670;&nbsp;</a></span>tor_mathlog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tor_mathlog </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the natural logarithm of d base e. We defined this wrapper here so to avoid conflicts with old versions of <a class="el" href="log_8c.html#a048192107dfd3f8f22b9e599e45d0b34">tor_log()</a>, which were named log(). </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a439eb5ebebe45181a077082b5f5ec598_icgraph.png" border="0" usemap="#util_8c_a439eb5ebebe45181a077082b5f5ec598_icgraph" alt=""/></div>
<map name="util_8c_a439eb5ebebe45181a077082b5f5ec598_icgraph" id="util_8c_a439eb5ebebe45181a077082b5f5ec598_icgraph">
<area shape="rect" id="node2" href="circuitstats_8c.html#a341fbd9cebffb2dae555f32e719bc27b" title="circuit_build_times\l_calculate_timeout" alt="" coords="144,5,275,47"/>
</map>
</div>

</div>
</div>
<a id="a7c5079074e649dc0369225eca3073f7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c5079074e649dc0369225eca3073f7d">&#9670;&nbsp;</a></span>tor_mem_is_zero()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tor_mem_is_zero </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff the 'len' bytes at 'mem' are all zero. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a7c5079074e649dc0369225eca3073f7d_icgraph.png" border="0" usemap="#util_8c_a7c5079074e649dc0369225eca3073f7d_icgraph" alt=""/></div>
<map name="util_8c_a7c5079074e649dc0369225eca3073f7d_icgraph" id="util_8c_a7c5079074e649dc0369225eca3073f7d_icgraph">
<area shape="rect" id="node2" href="crypto__format_8c.html#a40e1ed638568c15cac66b16cf427b4e7" title="crypto_read_tagged\l_contents_from_file" alt="" coords="186,71,322,112"/>
<area shape="rect" id="node6" href="util_8h.html#a714ca710c1b7d56d6633bf2d1f550cad" title="tor_digest256_is_zero" alt="" coords="179,137,329,163"/>
<area shape="rect" id="node7" href="routerlist_8h.html#a3ed4f55736541adee60a83e8442d4d4f" title="routerinfo_incompatible\l_with_extrainfo" alt="" coords="176,188,332,229"/>
<area shape="rect" id="node3" href="crypto__curve25519_8c.html#a7fce12b8d0fef7bbe32c103aaab17412" title="curve25519_keypair\l_read_from_file" alt="" coords="387,5,525,47"/>
<area shape="rect" id="node4" href="crypto__ed25519_8c.html#a34a8bd7b192871bd1e5b778961ba2efb" title="ed25519_seckey_read\l_from_file" alt="" coords="380,71,532,112"/>
<area shape="rect" id="node5" href="crypto__ed25519_8c.html#aa33c6bb447b0042745d6d2938a12dda4" title="ed25519_pubkey_read\l_from_file" alt="" coords="380,136,532,177"/>
</map>
</div>

</div>
</div>
<a id="aaf0c32853fed8fe6fabc4e9396a0a4ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf0c32853fed8fe6fabc4e9396a0a4ce">&#9670;&nbsp;</a></span>tor_memdup_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tor_memdup_ </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t len&#160;</td>
          <td class="paramname"><em>DMALLOC_PARAMS</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate a chunk of <b>len</b> bytes, with the same contents as the <b>len</b> bytes starting at <b>mem</b>. </p>

</div>
</div>
<a id="a53410dfa4324dcf545e7ac907bd0106a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53410dfa4324dcf545e7ac907bd0106a">&#9670;&nbsp;</a></span>tor_memdup_nulterm_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tor_memdup_nulterm_ </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t len&#160;</td>
          <td class="paramname"><em>DMALLOC_PARAMS</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As tor_memdup(), but add an extra 0 byte at the end of the resulting memory. </p>

</div>
</div>
<a id="a4959f0aba8a681ab08cfdccfbe16ffc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4959f0aba8a681ab08cfdccfbe16ffc2">&#9670;&nbsp;</a></span>tor_ntohll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t tor_ntohll </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a uint64_t value from <b>a</b> in host byte order. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a4959f0aba8a681ab08cfdccfbe16ffc2_cgraph.png" border="0" usemap="#util_8c_a4959f0aba8a681ab08cfdccfbe16ffc2_cgraph" alt=""/></div>
<map name="util_8c_a4959f0aba8a681ab08cfdccfbe16ffc2_cgraph" id="util_8c_a4959f0aba8a681ab08cfdccfbe16ffc2_cgraph">
<area shape="rect" id="node2" href="util_8c.html#ae251b57349c0a4bf306bd47653d3ca16" title="tor_htonll" alt="" coords="128,5,203,32"/>
</map>
</div>

</div>
</div>
<a id="ab465dbfbc9e54d89b7cada4bcb3c83cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab465dbfbc9e54d89b7cada4bcb3c83cb">&#9670;&nbsp;</a></span>tor_parse_double()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tor_parse_double </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ok</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As <a class="el" href="util_8c.html#a1d00748e8ddd4a785d07fec04205b892">tor_parse_long()</a>, but return a double. </p>

</div>
</div>
<a id="a1d00748e8ddd4a785d07fec04205b892"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d00748e8ddd4a785d07fec04205b892">&#9670;&nbsp;</a></span>tor_parse_long()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long tor_parse_long </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ok</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Extract a long from the start of <b>s</b>, in the given numeric <b>base</b>. If <b>base</b> is 0, <b>s</b> is parsed as a decimal, octal, or hex number in the syntax of a C integer literal. If there is unconverted data and <b>next</b> is provided, set *<b>next</b> to the first unconverted character. An error has occurred if no characters are converted; or if there are unconverted characters and <b>next</b> is NULL; or if the parsed value is not between <b>min</b> and <b>max</b>. When no error occurs, return the parsed value and set *<b>ok</b> (if provided) to</p><ol type="1">
<li>When an error occurs, return 0 and set *<b>ok</b> (if provided) to 0. </li>
</ol>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a1d00748e8ddd4a785d07fec04205b892_icgraph.png" border="0" usemap="#util_8c_a1d00748e8ddd4a785d07fec04205b892_icgraph" alt=""/></div>
<map name="util_8c_a1d00748e8ddd4a785d07fec04205b892_icgraph" id="util_8c_a1d00748e8ddd4a785d07fec04205b892_icgraph">
<area shape="rect" id="node2" href="address_8h.html#ae6b3d1d8ae5811706527ae31a9a00b8d" title="parse_port_range" alt="" coords="181,5,303,32"/>
<area shape="rect" id="node3" href="config_8c.html#aa33011ecb969cfb88f0e8979654d1fed" title="parse_dir_fallback_line" alt="" coords="165,56,319,83"/>
<area shape="rect" id="node5" href="dirvote_8c.html#a53c84b14cb4293be3481901a2bf7d344" title="dirvote_get_intermediate\l_param_value" alt="" coords="160,107,324,149"/>
<area shape="rect" id="node6" href="rephist_8h.html#a3b22d94b9f6a32b2213e011bb278258d" title="rep_hist_load_mtbf_data" alt="" coords="160,173,324,200"/>
<area shape="rect" id="node4" href="config_8c.html#ada6cefd4da1cfdc3d1588721bafc0a3f" title="MOCK_IMPL" alt="" coords="372,56,472,83"/>
</map>
</div>

</div>
</div>
<a id="a0fa6261bbc231af861f420e8411e0f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fa6261bbc231af861f420e8411e0f03">&#9670;&nbsp;</a></span>tor_parse_uint64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t tor_parse_uint64 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ok</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As tor_parse_long, but return a uint64_t. Only base 10 is guaranteed to work for now. </p>

</div>
</div>
<a id="a8c315755a2fb518d47d7397a14e506de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c315755a2fb518d47d7397a14e506de">&#9670;&nbsp;</a></span>tor_parse_ulong()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long tor_parse_ulong </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ok</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As <a class="el" href="util_8c.html#a1d00748e8ddd4a785d07fec04205b892">tor_parse_long()</a>, but return an unsigned long. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a8c315755a2fb518d47d7397a14e506de_icgraph.png" border="0" usemap="#util_8c_a8c315755a2fb518d47d7397a14e506de_icgraph" alt=""/></div>
<map name="util_8c_a8c315755a2fb518d47d7397a14e506de_icgraph" id="util_8c_a8c315755a2fb518d47d7397a14e506de_icgraph">
<area shape="rect" id="node2" href="routerparse_8c.html#aa5182e7b61c8640ef94186a19760d90c" title="routerstatus_parse\l_guardfraction" alt="" coords="168,5,299,47"/>
</map>
</div>

</div>
</div>
<a id="a4ffe4b25d88ed9e9fe0024efd0bcfd36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ffe4b25d88ed9e9fe0024efd0bcfd36">&#9670;&nbsp;</a></span>tor_process_get_pid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tor_process_get_pid </td>
          <td>(</td>
          <td class="paramtype">process_handle_t *&#160;</td>
          <td class="paramname"><em>process_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the Process ID of <b>process_handle</b>. </p>

</div>
</div>
<a id="a5512823a9379c4bc5f60c956600d00b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5512823a9379c4bc5f60c956600d00b6">&#9670;&nbsp;</a></span>tor_read_all_from_process_stderr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t tor_read_all_from_process_stderr </td>
          <td>(</td>
          <td class="paramtype">const process_handle_t *&#160;</td>
          <td class="paramname"><em>process_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read from stdout of a process until the process exits. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a5512823a9379c4bc5f60c956600d00b6_cgraph.png" border="0" usemap="#util_8c_a5512823a9379c4bc5f60c956600d00b6_cgraph" alt=""/></div>
<map name="util_8c_a5512823a9379c4bc5f60c956600d00b6_cgraph" id="util_8c_a5512823a9379c4bc5f60c956600d00b6_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a78fd132b1188cdc0ac5e225dc160194f" title="tor_read_all_handle" alt="" coords="228,13,363,39"/>
</map>
</div>

</div>
</div>
<a id="a793d72f9aa9b10762da2d74f414f14e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a793d72f9aa9b10762da2d74f414f14e4">&#9670;&nbsp;</a></span>tor_read_all_from_process_stdout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t tor_read_all_from_process_stdout </td>
          <td>(</td>
          <td class="paramtype">const process_handle_t *&#160;</td>
          <td class="paramname"><em>process_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read from stdout of a process until the process exits. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a793d72f9aa9b10762da2d74f414f14e4_cgraph.png" border="0" usemap="#util_8c_a793d72f9aa9b10762da2d74f414f14e4_cgraph" alt=""/></div>
<map name="util_8c_a793d72f9aa9b10762da2d74f414f14e4_cgraph" id="util_8c_a793d72f9aa9b10762da2d74f414f14e4_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a78fd132b1188cdc0ac5e225dc160194f" title="tor_read_all_handle" alt="" coords="228,13,363,39"/>
</map>
</div>

</div>
</div>
<a id="a78fd132b1188cdc0ac5e225dc160194f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78fd132b1188cdc0ac5e225dc160194f">&#9670;&nbsp;</a></span>tor_read_all_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t tor_read_all_handle </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const process_handle_t *&#160;</td>
          <td class="paramname"><em>process</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>eof</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read from a handle <b>h</b> into <b>buf</b>, up to <b>count</b> bytes. If <b>process</b> is NULL, the function will return immediately if there is nothing more to read. Otherwise data will be read until end of file, or <b>count</b> bytes are read. Returns the number of bytes read, or -1 on error. Sets <b>eof</b> to true if <b>eof</b> is not NULL and the end of the file has been reached. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a78fd132b1188cdc0ac5e225dc160194f_icgraph.png" border="0" usemap="#util_8c_a78fd132b1188cdc0ac5e225dc160194f_icgraph" alt=""/></div>
<map name="util_8c_a78fd132b1188cdc0ac5e225dc160194f_icgraph" id="util_8c_a78fd132b1188cdc0ac5e225dc160194f_icgraph">
<area shape="rect" id="node2" href="util_8h.html#ae3b38763d1dc04eff42f596c14efb1c9" title="set_environment_variable\l_in_smartlist" alt="" coords="190,5,361,47"/>
<area shape="rect" id="node3" href="util_8h.html#a793d72f9aa9b10762da2d74f414f14e4" title="tor_read_all_from_process\l_stdout" alt="" coords="188,71,363,112"/>
<area shape="rect" id="node4" href="util_8h.html#a5512823a9379c4bc5f60c956600d00b6" title="tor_read_all_from_process\l_stderr" alt="" coords="188,136,363,177"/>
</map>
</div>

</div>
</div>
<a id="a3d169aae56af8034ded171839c8a5c4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d169aae56af8034ded171839c8a5c4a">&#9670;&nbsp;</a></span>tor_realloc_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tor_realloc_ </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t size&#160;</td>
          <td class="paramname"><em>DMALLOC_PARAMS</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Change the size of the memory block pointed to by <b>ptr</b> to <b>size</b> bytes long; return the new memory block. On error, log and terminate. (Like realloc(ptr,size), but never returns NULL.) </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a3d169aae56af8034ded171839c8a5c4a_icgraph.png" border="0" usemap="#util_8c_a3d169aae56af8034ded171839c8a5c4a_icgraph" alt=""/></div>
<map name="util_8c_a3d169aae56af8034ded171839c8a5c4a_icgraph" id="util_8c_a3d169aae56af8034ded171839c8a5c4a_icgraph">
<area shape="rect" id="node2" href="tor__main_8c.html#a6374afd9273e4780748fb27a8c15f2a3" title="tor_main" alt="" coords="143,5,215,32"/>
<area shape="rect" id="node4" href="test_8h.html#a568fcf10cfdd05506333a2b7ac5ee068" title="pk_generate" alt="" coords="361,31,455,57"/>
<area shape="rect" id="node3" href="tor__main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="263,5,313,32"/>
</map>
</div>

</div>
</div>
<a id="a882356feb0fa2fe4001c5298015862a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a882356feb0fa2fe4001c5298015862a3">&#9670;&nbsp;</a></span>tor_reallocarray_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tor_reallocarray_ </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t sz2&#160;</td>
          <td class="paramname"><em>DMALLOC_PARAMS</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Try to realloc <b>ptr</b> so that it takes up sz1 * sz2 bytes. Check for overflow. Unlike other allocation functions, return NULL on overflow. </p>

</div>
</div>
<a id="a314f05865bf730672a42dd9da355f884"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a314f05865bf730672a42dd9da355f884">&#9670;&nbsp;</a></span>tor_spawn_background()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tor_spawn_background </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structprocess__environment__t.html">process_environment_t</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">process_handle_t **&#160;</td>
          <td class="paramname"><em>process_handle_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start a program in the background. If <b>filename</b> contains a '/', then it will be treated as an absolute or relative path. Otherwise, on non-Windows systems, the system path will be searched for <b>filename</b>. On Windows, only the current directory will be searched. Here, to search the system path (as well as the application directory, current working directory, and system directories), set filename to NULL.</p>
<p>The strings in <b>argv</b> will be passed as the command line arguments of the child program (following convention, argv[0] should normally be the filename of the executable, and this must be the case if <b>filename</b> is NULL). The last element of argv must be NULL. A handle to the child process will be returned in process_handle (which must be non-NULL). Read process_handle.status to find out if the process was successfully launched. For convenience, process_handle.status is returned by this function.</p>
<p>Some parts of this code are based on the POSIX subprocess module from Python, and example code from <a href="http://msdn.microsoft.com/en-us/library/ms682499%28v=vs.85%29.aspx">http://msdn.microsoft.com/en-us/library/ms682499%28v=vs.85%29.aspx</a>. </p>

</div>
</div>
<a id="a8e4a56a6278fc3fbf7ddf018c99e6b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e4a56a6278fc3fbf7ddf018c99e6b29">&#9670;&nbsp;</a></span>tor_split_lines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tor_split_lines </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>sl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Split buf into lines, and add to smartlist. The buffer <b>buf</b> will be modified. The resulting smartlist will consist of pointers to buf, so there is no need to free the contents of sl. <b>buf</b> must be a NUL-terminated string. <b>len</b> should be set to the length of the buffer excluding the NUL. Non-printable characters (including NUL) will be replaced with "." </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a8e4a56a6278fc3fbf7ddf018c99e6b29_cgraph.png" border="0" usemap="#util_8c_a8e4a56a6278fc3fbf7ddf018c99e6b29_cgraph" alt=""/></div>
<map name="util_8c_a8e4a56a6278fc3fbf7ddf018c99e6b29_cgraph" id="util_8c_a8e4a56a6278fc3fbf7ddf018c99e6b29_cgraph">
<area shape="rect" id="node2" href="container_8c.html#accf59a8b7d39a4286ff99653b6878006" title="smartlist_add" alt="" coords="156,5,256,32"/>
</map>
</div>

</div>
</div>
<a id="a58eee4159dfe33194147f2146f0dbc2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58eee4159dfe33194147f2146f0dbc2f">&#9670;&nbsp;</a></span>tor_sscanf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tor_sscanf </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Minimal sscanf replacement: parse <b>buf</b> according to <b>pattern</b> and store the results in the corresponding argument fields. Differs from sscanf in that: </p><ul>
<li>
It only handles u, lu, x, lx, %[NUM]s, d, ld, lf, and c. </li>
<li>
It only handles decimal inputs for lf. (12.3, not 1.23e1) </li>
<li>
It does not handle arbitrarily long widths. </li>
<li>
Numbers do not consume any space characters. </li>
<li>
It is locale-independent. </li>
<li>
u and x do not consume any space. </li>
<li>
It returns -1 on malformed patterns.</li>
</ul>
<p>(As with other locale-independent functions, we need this to parse data that is in ASCII without worrying that the C library's locale-handling will make miscellaneous characters look like numbers, spaces, and so on.) </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a58eee4159dfe33194147f2146f0dbc2f_cgraph.png" border="0" usemap="#util_8c_a58eee4159dfe33194147f2146f0dbc2f_cgraph" alt=""/></div>
<map name="util_8c_a58eee4159dfe33194147f2146f0dbc2f_cgraph" id="util_8c_a58eee4159dfe33194147f2146f0dbc2f_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a90e57e8764505012f016303eab3e4180" title="tor_vsscanf" alt="" coords="136,5,227,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a58eee4159dfe33194147f2146f0dbc2f_icgraph.png" border="0" usemap="#util_8c_a58eee4159dfe33194147f2146f0dbc2f_icgraph" alt=""/></div>
<map name="util_8c_a58eee4159dfe33194147f2146f0dbc2f_icgraph" id="util_8c_a58eee4159dfe33194147f2146f0dbc2f_icgraph">
<area shape="rect" id="node2" href="compat_8c.html#a802226afdc80ad46ae394289b1e586ee" title="tor_inet_aton" alt="" coords="146,68,243,95"/>
<area shape="rect" id="node4" href="compat_8c.html#a8ba87984a3a5dd16e7b60621ff983a89" title="tor_inet_pton" alt="" coords="343,123,441,149"/>
<area shape="rect" id="node8" href="util_8h.html#a1b3dda16e5097d60dd0a43815cc84fa8" title="parse_iso_time_" alt="" coords="136,173,253,200"/>
<area shape="rect" id="node10" href="util_8h.html#a01ef63d549917f359c58e5b9261a1bcb" title="parse_http_time" alt="" coords="137,224,252,251"/>
<area shape="rect" id="node3" href="address_8h.html#a704407961c6ac0d2fddfd29b8a719d91" title="tor_addr_parse_PTR_name" alt="" coords="301,5,483,32"/>
<area shape="rect" id="node7" href="nodelist_8h.html#aa6437a3da576fc05f0b444878bbeb93e" title="router_find_exact_exit\l_enclave" alt="" coords="317,57,467,98"/>
<area shape="rect" id="node5" href="util_8h.html#a307d12f617bd1f5606b8f971733e4c48" title="string_is_valid_ipv4\l_address" alt="" coords="531,82,667,123"/>
<area shape="rect" id="node6" href="util_8h.html#a06c31f983cd56699cca308532a09a14c" title="string_is_valid_ipv6\l_address" alt="" coords="531,147,667,189"/>
<area shape="rect" id="node9" href="util_8h.html#a8d4de39a48bc02621960c1d162478c63" title="parse_iso_time" alt="" coords="337,173,447,200"/>
</map>
</div>

</div>
</div>
<a id="a505a294e869f33a39909c18e6532cd68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a505a294e869f33a39909c18e6532cd68">&#9670;&nbsp;</a></span>tor_strdup_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* tor_strdup_ </td>
          <td>(</td>
          <td class="paramtype">const char *s&#160;</td>
          <td class="paramname"><em>DMALLOC_PARAMS</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a newly allocated copy of the NUL-terminated string s. On error, log and terminate. (Like strdup(s), but never returns NULL.) </p>

</div>
</div>
<a id="acaab0f88cea2f367f28e98b23e6871f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaab0f88cea2f367f28e98b23e6871f5">&#9670;&nbsp;</a></span>tor_strisnonupper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tor_strisnonupper </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 1 if no character in <b>s</b> is uppercase, else return 0. </p>

</div>
</div>
<a id="a5bf05ee543d6f7b3a3b3e47bec2a242f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bf05ee543d6f7b3a3b3e47bec2a242f">&#9670;&nbsp;</a></span>tor_strisprint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tor_strisprint </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 1 if every character in <b>s</b> is printable, else return 0. </p>

</div>
</div>
<a id="a1ec7622e977b0d3a00d672dbe3c4ef1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ec7622e977b0d3a00d672dbe3c4ef1f">&#9670;&nbsp;</a></span>tor_strlower()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tor_strlower </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert all alphabetic characters in the nul-terminated string <b>s</b> to lowercase. </p>

</div>
</div>
<a id="a285103817ab128605f5e7aabdf0dafe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a285103817ab128605f5e7aabdf0dafe8">&#9670;&nbsp;</a></span>tor_strndup_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* tor_strndup_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t n&#160;</td>
          <td class="paramname"><em>DMALLOC_PARAMS</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate and return a new string containing the first <b>n</b> characters of <b>s</b>. If <b>s</b> is longer than <b>n</b> characters, only the first <b>n</b> are copied. The result is always NUL-terminated. (Like strndup(s,n), but never returns NULL.) </p>

</div>
</div>
<a id="a96e40a3f8c0df5e234fc7640796fe539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96e40a3f8c0df5e234fc7640796fe539">&#9670;&nbsp;</a></span>tor_strstrip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tor_strstrip </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>strip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove from the string <b>s</b> every character which appears in <b>strip</b>. </p>

</div>
</div>
<a id="a44e2453faef9677a638a014103aed225"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44e2453faef9677a638a014103aed225">&#9670;&nbsp;</a></span>tor_strupper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tor_strupper </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert all alphabetic characters in the nul-terminated string <b>s</b> to lowercase. </p>

</div>
</div>
<a id="a5189d0a5ffdf1ce3ac328aef77a32496"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5189d0a5ffdf1ce3ac328aef77a32496">&#9670;&nbsp;</a></span>tor_terminate_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tor_terminate_process </td>
          <td>(</td>
          <td class="paramtype">process_handle_t *&#160;</td>
          <td class="paramname"><em>process_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Terminate the process of <b>process_handle</b>, if that process has not already exited.</p>
<p>Return 0 if we succeeded in terminating the process (or if the process already exited), and -1 if we tried to kill the process but failed.</p>
<p>Based on code originally borrowed from Python's os.kill. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a5189d0a5ffdf1ce3ac328aef77a32496_cgraph.png" border="0" usemap="#util_8c_a5189d0a5ffdf1ce3ac328aef77a32496_cgraph" alt=""/></div>
<map name="util_8c_a5189d0a5ffdf1ce3ac328aef77a32496_cgraph" id="util_8c_a5189d0a5ffdf1ce3ac328aef77a32496_cgraph">
<area shape="rect" id="node2" href="util_8c.html#aae5b7e7e99ea4705673069cf581ab70b" title="tor_get_exit_code" alt="" coords="204,5,329,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a5189d0a5ffdf1ce3ac328aef77a32496_icgraph.png" border="0" usemap="#util_8c_a5189d0a5ffdf1ce3ac328aef77a32496_icgraph" alt=""/></div>
<map name="util_8c_a5189d0a5ffdf1ce3ac328aef77a32496_icgraph" id="util_8c_a5189d0a5ffdf1ce3ac328aef77a32496_icgraph">
<area shape="rect" id="node2" href="util_8c.html#a812faddc218480a687a37305f1ae17cf" title="MOCK_IMPL" alt="" coords="204,5,304,32"/>
</map>
</div>

</div>
</div>
<a id="a966c4dd39a43f89fd5207aebb4756654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a966c4dd39a43f89fd5207aebb4756654">&#9670;&nbsp;</a></span>tor_timegm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tor_timegm </td>
          <td>(</td>
          <td class="paramtype">const struct tm *&#160;</td>
          <td class="paramname"><em>tm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t *&#160;</td>
          <td class="paramname"><em>time_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute a time_t given a struct tm. The result is given in UTC, and does not account for leap seconds. Return 0 on success, -1 on failure. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a966c4dd39a43f89fd5207aebb4756654_icgraph.png" border="0" usemap="#util_8c_a966c4dd39a43f89fd5207aebb4756654_icgraph" alt=""/></div>
<map name="util_8c_a966c4dd39a43f89fd5207aebb4756654_icgraph" id="util_8c_a966c4dd39a43f89fd5207aebb4756654_icgraph">
<area shape="rect" id="node2" href="dirvote_8h.html#ad12be9f1748f89ce9e33a895218912fb" title="dirvote_get_start_of\l_next_interval" alt="" coords="140,5,277,47"/>
</map>
</div>

</div>
</div>
<a id="a90e57e8764505012f016303eab3e4180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90e57e8764505012f016303eab3e4180">&#9670;&nbsp;</a></span>tor_vsscanf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tor_vsscanf </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locale-independent, minimal, no-surprises scanf variant, accepting only a restricted pattern format. For more info on what it supports, see <a class="el" href="util_8c.html#a58eee4159dfe33194147f2146f0dbc2f">tor_sscanf()</a> documentation. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a90e57e8764505012f016303eab3e4180_icgraph.png" border="0" usemap="#util_8c_a90e57e8764505012f016303eab3e4180_icgraph" alt=""/></div>
<map name="util_8c_a90e57e8764505012f016303eab3e4180_icgraph" id="util_8c_a90e57e8764505012f016303eab3e4180_icgraph">
<area shape="rect" id="node2" href="util_8c.html#a58eee4159dfe33194147f2146f0dbc2f" title="tor_sscanf" alt="" coords="144,148,227,175"/>
<area shape="rect" id="node3" href="compat_8c.html#a802226afdc80ad46ae394289b1e586ee" title="tor_inet_aton" alt="" coords="285,68,382,95"/>
<area shape="rect" id="node5" href="compat_8c.html#a8ba87984a3a5dd16e7b60621ff983a89" title="tor_inet_pton" alt="" coords="482,123,579,149"/>
<area shape="rect" id="node9" href="util_8h.html#a1b3dda16e5097d60dd0a43815cc84fa8" title="parse_iso_time_" alt="" coords="275,173,392,200"/>
<area shape="rect" id="node11" href="util_8h.html#a01ef63d549917f359c58e5b9261a1bcb" title="parse_http_time" alt="" coords="276,224,391,251"/>
<area shape="rect" id="node4" href="address_8h.html#a704407961c6ac0d2fddfd29b8a719d91" title="tor_addr_parse_PTR_name" alt="" coords="440,5,621,32"/>
<area shape="rect" id="node8" href="nodelist_8h.html#aa6437a3da576fc05f0b444878bbeb93e" title="router_find_exact_exit\l_enclave" alt="" coords="455,57,606,98"/>
<area shape="rect" id="node6" href="util_8h.html#a307d12f617bd1f5606b8f971733e4c48" title="string_is_valid_ipv4\l_address" alt="" coords="669,82,805,123"/>
<area shape="rect" id="node7" href="util_8h.html#a06c31f983cd56699cca308532a09a14c" title="string_is_valid_ipv6\l_address" alt="" coords="669,147,805,189"/>
<area shape="rect" id="node10" href="util_8h.html#a8d4de39a48bc02621960c1d162478c63" title="parse_iso_time" alt="" coords="475,173,586,200"/>
</map>
</div>

</div>
</div>
<a id="a0a30c7dd4d28d53ef2fa6a978361808d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a30c7dd4d28d53ef2fa6a978361808d">&#9670;&nbsp;</a></span>tor_weak_random()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t tor_weak_random </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtor__weak__rng__t.html">tor_weak_rng_t</a> *&#160;</td>
          <td class="paramname"><em>rng</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a randomly chosen value in the range 0..TOR_WEAK_RANDOM_MAX based on the RNG state of <b>rng</b>. This entropy will not be cryptographically strong; do not rely on it for anything an adversary should not be able to predict. </p>

</div>
</div>
<a id="a6a156db0f5951592099e3bc646de2416"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a156db0f5951592099e3bc646de2416">&#9670;&nbsp;</a></span>tor_weak_random_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t tor_weak_random_range </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtor__weak__rng__t.html">tor_weak_rng_t</a> *&#160;</td>
          <td class="paramname"><em>rng</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>top</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a random number in the range [0 , <b>top</b>). {That is, the range of integers i such that 0 &lt;= i &lt; top.} Chooses uniformly. Requires that top is greater than 0. This randomness is not cryptographically strong; do not rely on it for anything an adversary should not be able to predict. </p>

</div>
</div>
<a id="aa86d039278659b0bcd070908fb5e5218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa86d039278659b0bcd070908fb5e5218">&#9670;&nbsp;</a></span>tv_mdiff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long tv_mdiff </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structtimeval.html">timeval</a> *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structtimeval.html">timeval</a> *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the number of milliseconds elapsed between *start and *end. If the tv_usec difference is 500, rounds away from zero. Returns LONG_MAX on overflow and underflow. </p>

</div>
</div>
<a id="a3b535fd3c14d8db8e53d43cc9c4a9770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b535fd3c14d8db8e53d43cc9c4a9770">&#9670;&nbsp;</a></span>tv_to_msec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t tv_to_msec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structtimeval.html">timeval</a> *&#160;</td>
          <td class="paramname"><em>tv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts timeval to milliseconds. </p>

</div>
</div>
<a id="a40683a877f0ef2262f9a5d7b4e9acbdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40683a877f0ef2262f9a5d7b4e9acbdc">&#9670;&nbsp;</a></span>tv_udiff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long tv_udiff </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structtimeval.html">timeval</a> *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structtimeval.html">timeval</a> *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the number of microseconds elapsed between *start and *end. Returns LONG_MAX on overflow and underflow. </p>

</div>
</div>
<a id="a8e4d578a2bb5f75e1cd2d1b523d94c92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e4d578a2bb5f75e1cd2d1b523d94c92">&#9670;&nbsp;</a></span>unescape_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* unescape_string </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>size_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a c-style double-quoted escaped string in <b>s</b>, extract and decode its contents into a newly allocated string. On success, assign this string to *<b>result</b>, assign its length to <b>size_out</b> (if provided), and return a pointer to the position in <b>s</b> immediately after the string. On failure, return NULL. </p>

</div>
</div>
<a id="a866d4c80bbdc37a0279c2bd02f4b2bde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866d4c80bbdc37a0279c2bd02f4b2bde">&#9670;&nbsp;</a></span>update_approx_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update_approx_time </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the cached estimate of the current time. This function SHOULD be called once per second, and MUST be called before the first call to get_approx_time. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a866d4c80bbdc37a0279c2bd02f4b2bde_icgraph.png" border="0" usemap="#util_8c_a866d4c80bbdc37a0279c2bd02f4b2bde_icgraph" alt=""/></div>
<map name="util_8c_a866d4c80bbdc37a0279c2bd02f4b2bde_icgraph" id="util_8c_a866d4c80bbdc37a0279c2bd02f4b2bde_icgraph">
<area shape="rect" id="node2" href="tor__main_8c.html#a6374afd9273e4780748fb27a8c15f2a3" title="tor_main" alt="" coords="192,5,264,32"/>
<area shape="rect" id="node4" href="test_8h.html#a568fcf10cfdd05506333a2b7ac5ee068" title="pk_generate" alt="" coords="411,31,504,57"/>
<area shape="rect" id="node3" href="tor__main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="312,5,363,32"/>
</map>
</div>

</div>
</div>
<a id="a0eb16940d73c3b4012f2f810f3ecbecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eb16940d73c3b4012f2f810f3ecbecd">&#9670;&nbsp;</a></span>write_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t write_all </td>
          <td>(</td>
          <td class="paramtype">tor_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>isSocket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write <b>count</b> bytes from <b>buf</b> to <b>fd</b>. <b>isSocket</b> must be 1 if fd was returned by socket() or accept(), and 0 if fd was returned by open(). Return the number of bytes written, or -1 on error. Only use if fd is a blocking fd. </p>

</div>
</div>
<a id="a38d75b2709a797a91881a298dea484c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38d75b2709a797a91881a298dea484c7">&#9670;&nbsp;</a></span>write_bytes_to_new_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_bytes_to_new_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Like write_str_to_file(), but also return -1 if there was a file already residing in <b>fname</b>. </p>

</div>
</div>
<a id="ae01530967d53afcfefa8227c98072e83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae01530967d53afcfefa8227c98072e83">&#9670;&nbsp;</a></span>write_chunks_to_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_chunks_to_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>chunks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>no_tempfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a smartlist of <a class="el" href="structsized__chunk__t.html">sized_chunk_t</a>, write them to a file <b>fname</b>, overwriting or creating the file as necessary. If <b>no_tempfile</b> is 0 then the file will be written atomically. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_ae01530967d53afcfefa8227c98072e83_icgraph.png" border="0" usemap="#util_8c_ae01530967d53afcfefa8227c98072e83_icgraph" alt=""/></div>
<map name="util_8c_ae01530967d53afcfefa8227c98072e83_icgraph" id="util_8c_ae01530967d53afcfefa8227c98072e83_icgraph">
<area shape="rect" id="node2" href="crypto__format_8c.html#a58e217ce83721c40e22a70f6f9ca1544" title="crypto_write_tagged\l_contents_to_file" alt="" coords="195,71,333,112"/>
<area shape="rect" id="node6" href="routerlist_8h.html#acb91993a221f80d7896395babb122f0a" title="trusted_dirs_flush\l_certs_to_disk" alt="" coords="201,136,327,177"/>
<area shape="rect" id="node3" href="crypto__curve25519_8c.html#a700be6ddcf2a5ddbbbf56c91f3cd7cc7" title="curve25519_keypair\l_write_to_file" alt="" coords="389,5,528,47"/>
<area shape="rect" id="node4" href="crypto__ed25519_8c.html#a91a3f7e13f15a365d83bcb418daaaf7d" title="ed25519_seckey_write\l_to_file" alt="" coords="381,71,536,112"/>
<area shape="rect" id="node5" href="crypto__ed25519_8c.html#a7619807bfd3a082c5bba11d43f9f63ee" title="ed25519_pubkey_write\l_to_file" alt="" coords="381,136,536,177"/>
</map>
</div>

</div>
</div>
<a id="acfd840af6560e9723b41fb936d6935ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfd840af6560e9723b41fb936d6935ed">&#9670;&nbsp;</a></span>write_pidfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void write_pidfile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write the current process ID, followed by NL, into <b>filename</b>. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
