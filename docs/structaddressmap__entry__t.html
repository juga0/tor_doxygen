<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tor: addressmap_entry_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tor
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">addressmap_entry_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a297dd612176e2905191fd43e57bfe699"><td class="memItemLeft" align="right" valign="top"><a id="a297dd612176e2905191fd43e57bfe699"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>new_address</b></td></tr>
<tr class="separator:a297dd612176e2905191fd43e57bfe699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1583d6f77fecc9e35300c6c4496e2c0"><td class="memItemLeft" align="right" valign="top"><a id="ae1583d6f77fecc9e35300c6c4496e2c0"></a>
time_t&#160;</td><td class="memItemRight" valign="bottom"><b>expires</b></td></tr>
<tr class="separator:ae1583d6f77fecc9e35300c6c4496e2c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82a708b4ec45efea85afdfa4a48c6d9"><td class="memItemLeft" align="right" valign="top"><a id="ae82a708b4ec45efea85afdfa4a48c6d9"></a>
addressmap_entry_source_bitfield_t&#160;</td><td class="memItemRight" valign="bottom"><b>source</b>:3</td></tr>
<tr class="separator:ae82a708b4ec45efea85afdfa4a48c6d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af96713c47aa277335a2b5e214e0ae71a"><td class="memItemLeft" align="right" valign="top"><a id="af96713c47aa277335a2b5e214e0ae71a"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>src_wildcard</b>:1</td></tr>
<tr class="separator:af96713c47aa277335a2b5e214e0ae71a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51d75e3de55c16a6659987f8363e20a4"><td class="memItemLeft" align="right" valign="top"><a id="a51d75e3de55c16a6659987f8363e20a4"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>dst_wildcard</b>:1</td></tr>
<tr class="separator:a51d75e3de55c16a6659987f8363e20a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa61be202d89d72e6cb6e9608efceb394"><td class="memItemLeft" align="right" valign="top"><a id="aa61be202d89d72e6cb6e9608efceb394"></a>
short&#160;</td><td class="memItemRight" valign="bottom"><b>num_resolve_failures</b></td></tr>
<tr class="separator:aa61be202d89d72e6cb6e9608efceb394"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A client-side struct to remember requests to rewrite addresses to new addresses. These structs are stored in the hash table "addressmap" below.</p>
<p>There are 5 ways to set an address mapping:</p><ul>
<li>A MapAddress command from the controller [permanent]</li>
<li>An AddressMap directive in the torrc [permanent]</li>
<li>When a TrackHostExits torrc directive is triggered [temporary]</li>
<li>When a DNS resolve succeeds [temporary]</li>
<li>When a DNS resolve fails [temporary]</li>
</ul>
<p>When an addressmap request is made but one is already registered, the new one is replaced only if the currently registered one has no "new_address" (that is, it's in the process of DNS resolve), or if the new one is permanent (expires==0 or 1).</p>
<p>(We overload the 'expires' field, using "0" for mappings set via the configuration file, "1" for mappings set from the control interface, and other values for DNS and TrackHostExit mappings that can expire.)</p>
<p>A mapping may be 'wildcarded'. If "src_wildcard" is true, then any address that ends with a . followed by the key for this entry will get remapped by it. If "dst_wildcard" is also true, then only the matching suffix of such addresses will get replaced by new_address. </p>
</div><hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/user/_my/code/bwauth-related/tor/src/or/<a class="el" href="addressmap_8c.html">addressmap.c</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
