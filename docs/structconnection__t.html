<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tor: connection_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tor
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">connection_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="or_8h_source.html">or.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for connection_t:</div>
<div class="dyncontent">
<div class="center"><img src="structconnection__t__coll__graph.png" border="0" usemap="#connection__t_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a57f54349f4fd1cbbb52058812e146af2"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a57f54349f4fd1cbbb52058812e146af2">magic</a></td></tr>
<tr class="separator:a57f54349f4fd1cbbb52058812e146af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b57aa10271a66f3dc936bba1d2f3830"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a0b57aa10271a66f3dc936bba1d2f3830">state</a></td></tr>
<tr class="separator:a0b57aa10271a66f3dc936bba1d2f3830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bfea42429249a1f65204f0c0f34704a"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a4bfea42429249a1f65204f0c0f34704a">type</a>:5</td></tr>
<tr class="separator:a4bfea42429249a1f65204f0c0f34704a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab03b429c0dc436f505a875a0a4420e9a"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#ab03b429c0dc436f505a875a0a4420e9a">purpose</a>:5</td></tr>
<tr class="separator:ab03b429c0dc436f505a875a0a4420e9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a6eace50e0cff4638c981e784ed8396"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a6a6eace50e0cff4638c981e784ed8396">read_blocked_on_bw</a>:1</td></tr>
<tr class="separator:a6a6eace50e0cff4638c981e784ed8396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb0971e15d1907cf601587d458c315c6"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#adb0971e15d1907cf601587d458c315c6">write_blocked_on_bw</a>:1</td></tr>
<tr class="separator:adb0971e15d1907cf601587d458c315c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d61d29f4b0a6948e50bcd5b16e329c0"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a2d61d29f4b0a6948e50bcd5b16e329c0">hold_open_until_flushed</a>:1</td></tr>
<tr class="separator:a2d61d29f4b0a6948e50bcd5b16e329c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d486418c4fb21e6624530e99095b9f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a23d486418c4fb21e6624530e99095b9f">inbuf_reached_eof</a>:1</td></tr>
<tr class="separator:a23d486418c4fb21e6624530e99095b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bd93d2ebe593ae8cdb9f59abaa78b27"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a9bd93d2ebe593ae8cdb9f59abaa78b27">in_flushed_some</a>:1</td></tr>
<tr class="separator:a9bd93d2ebe593ae8cdb9f59abaa78b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d72640997aa768a63922fbe80aeb060"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a1d72640997aa768a63922fbe80aeb060">in_connection_handle_write</a>:1</td></tr>
<tr class="separator:a1d72640997aa768a63922fbe80aeb060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71827b2666236e3af8a2a7601693da49"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a71827b2666236e3af8a2a7601693da49">linked</a>:1</td></tr>
<tr class="separator:a71827b2666236e3af8a2a7601693da49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3feb45f90c36cc8be4a0b6b3471e4f95"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a3feb45f90c36cc8be4a0b6b3471e4f95">reading_from_linked_conn</a>:1</td></tr>
<tr class="separator:a3feb45f90c36cc8be4a0b6b3471e4f95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a107a30feb4c7e7cdf228e9ef71e912f7"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a107a30feb4c7e7cdf228e9ef71e912f7">writing_to_linked_conn</a>:1</td></tr>
<tr class="separator:a107a30feb4c7e7cdf228e9ef71e912f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad23056097f170fa3fe1f1cce256f3474"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#ad23056097f170fa3fe1f1cce256f3474">active_on_link</a>:1</td></tr>
<tr class="separator:ad23056097f170fa3fe1f1cce256f3474"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a903ebe4b4e6a70db97178a92b58d51f9"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a903ebe4b4e6a70db97178a92b58d51f9">linked_conn_is_closed</a>:1</td></tr>
<tr class="separator:a903ebe4b4e6a70db97178a92b58d51f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06adddba6fa0a4316cc6cbde684bdb7a"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a06adddba6fa0a4316cc6cbde684bdb7a">proxy_state</a>:4</td></tr>
<tr class="separator:a06adddba6fa0a4316cc6cbde684bdb7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab433345f22d9dc33e14cfd462abaaf88"><td class="memItemLeft" align="right" valign="top">tor_socket_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#ab433345f22d9dc33e14cfd462abaaf88">s</a></td></tr>
<tr class="separator:ab433345f22d9dc33e14cfd462abaaf88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3854b6782be11375cc9695afac45ab55"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a3854b6782be11375cc9695afac45ab55">conn_array_index</a></td></tr>
<tr class="separator:a3854b6782be11375cc9695afac45ab55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae32ce607f88eaf4f8837a21c613dcaf7"><td class="memItemLeft" align="right" valign="top">struct event *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#ae32ce607f88eaf4f8837a21c613dcaf7">read_event</a></td></tr>
<tr class="separator:ae32ce607f88eaf4f8837a21c613dcaf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fde2a5107ec06065698434af89fb81d"><td class="memItemLeft" align="right" valign="top">struct event *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a1fde2a5107ec06065698434af89fb81d">write_event</a></td></tr>
<tr class="separator:a1fde2a5107ec06065698434af89fb81d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab467c13fb1a69585f59ac2977c5f9bb3"><td class="memItemLeft" align="right" valign="top">buf_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#ab467c13fb1a69585f59ac2977c5f9bb3">inbuf</a></td></tr>
<tr class="separator:ab467c13fb1a69585f59ac2977c5f9bb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bb5d889c36ac9173cf635c2eeeb3202"><td class="memItemLeft" align="right" valign="top">buf_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a7bb5d889c36ac9173cf635c2eeeb3202">outbuf</a></td></tr>
<tr class="separator:a7bb5d889c36ac9173cf635c2eeeb3202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d1e0d222646d023365b1651c7441103"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a4d1e0d222646d023365b1651c7441103">outbuf_flushlen</a></td></tr>
<tr class="separator:a4d1e0d222646d023365b1651c7441103"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef67f82dfb748192d66b5e4dff380ecf"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#aef67f82dfb748192d66b5e4dff380ecf">timestamp_lastread</a></td></tr>
<tr class="separator:aef67f82dfb748192d66b5e4dff380ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b4d296e48e51c92d122fbea85f48439"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a6b4d296e48e51c92d122fbea85f48439">timestamp_lastwritten</a></td></tr>
<tr class="separator:a6b4d296e48e51c92d122fbea85f48439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3010adaf03e1a400cc074f5ce9e20a4"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#ac3010adaf03e1a400cc074f5ce9e20a4">timestamp_created</a></td></tr>
<tr class="separator:ac3010adaf03e1a400cc074f5ce9e20a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c8257e3a68ecc69f222e67f1bcfeac3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a9c8257e3a68ecc69f222e67f1bcfeac3">socket_family</a></td></tr>
<tr class="separator:a9c8257e3a68ecc69f222e67f1bcfeac3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af456b36b519e3ac91e16e8ba44d190b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtor__addr__t.html">tor_addr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#af456b36b519e3ac91e16e8ba44d190b4">addr</a></td></tr>
<tr class="separator:af456b36b519e3ac91e16e8ba44d190b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e0798404bf2cf5dabb84c5ba9a4f236"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a8e0798404bf2cf5dabb84c5ba9a4f236">port</a></td></tr>
<tr class="separator:a8e0798404bf2cf5dabb84c5ba9a4f236"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76953435a11c6a793e65bf00acde6c9b"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a76953435a11c6a793e65bf00acde6c9b">marked_for_close</a></td></tr>
<tr class="separator:a76953435a11c6a793e65bf00acde6c9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e1234f5dd2162296edf7455de3b62ff"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a8e1234f5dd2162296edf7455de3b62ff">marked_for_close_file</a></td></tr>
<tr class="separator:a8e1234f5dd2162296edf7455de3b62ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879a8cdf605d02f8af8b2e216b8764f2"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a879a8cdf605d02f8af8b2e216b8764f2">address</a></td></tr>
<tr class="separator:a879a8cdf605d02f8af8b2e216b8764f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24efec8621ce29fd500624d172c64a38"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structconnection__t.html">connection_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a24efec8621ce29fd500624d172c64a38">linked_conn</a></td></tr>
<tr class="separator:a24efec8621ce29fd500624d172c64a38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a661af3a689c2e0aedb5a76e5a4d72acd"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a661af3a689c2e0aedb5a76e5a4d72acd">global_identifier</a></td></tr>
<tr class="separator:a661af3a689c2e0aedb5a76e5a4d72acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21bd91c01e2371604fc2c2a104475ade"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a21bd91c01e2371604fc2c2a104475ade">n_read_conn_bw</a></td></tr>
<tr class="separator:a21bd91c01e2371604fc2c2a104475ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f250b1536766905b9e6b2d50af05c31"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection__t.html#a8f250b1536766905b9e6b2d50af05c31">n_written_conn_bw</a></td></tr>
<tr class="separator:a8f250b1536766905b9e6b2d50af05c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Description of a connection to another host or process, and associated data.</p>
<p>A connection is named based on what it's connected to &ndash; an "OR
connection" has a Tor node on the other end, an "exit
connection" has a website or other server on the other end, and an "AP connection" has an application proxy (and thus a user) on the other end.</p>
<p>Every connection has a type and a state. Connections never change their type, but can go through many state changes in their lifetime.</p>
<p>Every connection has two associated input and output buffers. Listeners don't use them. For non-listener connections, incoming data is appended to conn-&gt;inbuf, and outgoing data is taken from conn-&gt;outbuf. Connections differ primarily in the functions called to fill and drain these buffers. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="ad23056097f170fa3fe1f1cce256f3474"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad23056097f170fa3fe1f1cce256f3474">&#9670;&nbsp;</a></span>active_on_link</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int active_on_link</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>True iff we're currently able to read on the linked conn, and our read_event should be made active with libevent. </p>

</div>
</div>
<a id="af456b36b519e3ac91e16e8ba44d190b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af456b36b519e3ac91e16e8ba44d190b4">&#9670;&nbsp;</a></span>addr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtor__addr__t.html">tor_addr_t</a> addr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>IP that socket "s" is directly connected to; may be the IP address for a proxy or pluggable transport, see "address" for the address of the final destination. </p>

</div>
</div>
<a id="a879a8cdf605d02f8af8b2e216b8764f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879a8cdf605d02f8af8b2e216b8764f2">&#9670;&nbsp;</a></span>address</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* address</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>FQDN (or IP) and port of the final destination for this connection; this is always the remote address, it is passed to a proxy or pluggable transport if one in use. See "addr" and "port" for the address that socket "s" is directly connected to. strdup into this, because free_connection() frees it. </p>

</div>
</div>
<a id="a3854b6782be11375cc9695afac45ab55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3854b6782be11375cc9695afac45ab55">&#9670;&nbsp;</a></span>conn_array_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int conn_array_index</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Index into the global connection array. </p>

</div>
</div>
<a id="a661af3a689c2e0aedb5a76e5a4d72acd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a661af3a689c2e0aedb5a76e5a4d72acd">&#9670;&nbsp;</a></span>global_identifier</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t global_identifier</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unique identifier for this connection on this Tor instance. </p>

</div>
</div>
<a id="a2d61d29f4b0a6948e50bcd5b16e329c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d61d29f4b0a6948e50bcd5b16e329c0">&#9670;&nbsp;</a></span>hold_open_until_flushed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int hold_open_until_flushed</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Despite this connection's being marked for close, do we flush it before closing it? </p>

</div>
</div>
<a id="a1d72640997aa768a63922fbe80aeb060"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d72640997aa768a63922fbe80aeb060">&#9670;&nbsp;</a></span>in_connection_handle_write</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int in_connection_handle_write</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>True if connection_handle_write is currently running on this connection. </p>

</div>
</div>
<a id="a9bd93d2ebe593ae8cdb9f59abaa78b27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bd93d2ebe593ae8cdb9f59abaa78b27">&#9670;&nbsp;</a></span>in_flushed_some</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int in_flushed_some</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set to 1 when we're inside connection_flushed_some to keep us from calling connection_handle_write() recursively. </p>

</div>
</div>
<a id="ab467c13fb1a69585f59ac2977c5f9bb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab467c13fb1a69585f59ac2977c5f9bb3">&#9670;&nbsp;</a></span>inbuf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">buf_t* inbuf</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Buffer holding data read over this connection. </p>

</div>
</div>
<a id="a23d486418c4fb21e6624530e99095b9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23d486418c4fb21e6624530e99095b9f">&#9670;&nbsp;</a></span>inbuf_reached_eof</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int inbuf_reached_eof</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Boolean: did read() return 0 on this conn? </p>

</div>
</div>
<a id="a71827b2666236e3af8a2a7601693da49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71827b2666236e3af8a2a7601693da49">&#9670;&nbsp;</a></span>linked</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int linked</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>True if there is, or has been, a linked_conn. </p>

</div>
</div>
<a id="a24efec8621ce29fd500624d172c64a38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24efec8621ce29fd500624d172c64a38">&#9670;&nbsp;</a></span>linked_conn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structconnection__t.html">connection_t</a>* linked_conn</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Another connection that's connected to this one in lieu of a socket. </p>

</div>
</div>
<a id="a903ebe4b4e6a70db97178a92b58d51f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a903ebe4b4e6a70db97178a92b58d51f9">&#9670;&nbsp;</a></span>linked_conn_is_closed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int linked_conn_is_closed</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>True iff we've called <a class="el" href="connection_8c.html#a408567fdce15abf5e16163547d8223c1">connection_close_immediate()</a> on this linked connection. </p>

</div>
</div>
<a id="a57f54349f4fd1cbbb52058812e146af2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57f54349f4fd1cbbb52058812e146af2">&#9670;&nbsp;</a></span>magic</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t magic</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For memory debugging: must equal one of *_CONNECTION_MAGIC. </p>

</div>
</div>
<a id="a76953435a11c6a793e65bf00acde6c9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76953435a11c6a793e65bf00acde6c9b">&#9670;&nbsp;</a></span>marked_for_close</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t marked_for_close</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Should we close this conn on the next iteration of the main loop? (If true, holds the line number where this connection was marked.) </p>

</div>
</div>
<a id="a8e1234f5dd2162296edf7455de3b62ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e1234f5dd2162296edf7455de3b62ff">&#9670;&nbsp;</a></span>marked_for_close_file</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* marked_for_close_file</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For debugging: in which file were we marked for close? </p>

</div>
</div>
<a id="a21bd91c01e2371604fc2c2a104475ade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21bd91c01e2371604fc2c2a104475ade">&#9670;&nbsp;</a></span>n_read_conn_bw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t n_read_conn_bw</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bytes read since last call to <a class="el" href="control_8c.html#a91a42d462b534b08ce9a0addc567613b">control_event_conn_bandwidth_used()</a>. Only used if we're configured to emit CONN_BW events. </p>

</div>
</div>
<a id="a8f250b1536766905b9e6b2d50af05c31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f250b1536766905b9e6b2d50af05c31">&#9670;&nbsp;</a></span>n_written_conn_bw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t n_written_conn_bw</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bytes written since last call to <a class="el" href="control_8c.html#a91a42d462b534b08ce9a0addc567613b">control_event_conn_bandwidth_used()</a>. Only used if we're configured to emit CONN_BW events. </p>

</div>
</div>
<a id="a7bb5d889c36ac9173cf635c2eeeb3202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bb5d889c36ac9173cf635c2eeeb3202">&#9670;&nbsp;</a></span>outbuf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">buf_t* outbuf</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Buffer holding data to write over this connection. </p>

</div>
</div>
<a id="a4d1e0d222646d023365b1651c7441103"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d1e0d222646d023365b1651c7441103">&#9670;&nbsp;</a></span>outbuf_flushlen</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t outbuf_flushlen</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>How much data should we try to flush from the outbuf? </p>

</div>
</div>
<a id="a8e0798404bf2cf5dabb84c5ba9a4f236"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e0798404bf2cf5dabb84c5ba9a4f236">&#9670;&nbsp;</a></span>port</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t port</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If non-zero, port that socket "s" is directly connected to; may be the port for a proxy or pluggable transport, see "address" for the port at the final destination. </p>

</div>
</div>
<a id="a06adddba6fa0a4316cc6cbde684bdb7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06adddba6fa0a4316cc6cbde684bdb7a">&#9670;&nbsp;</a></span>proxy_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int proxy_state</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CONNECT/SOCKS proxy client handshake state (for outgoing connections). </p>

</div>
</div>
<a id="ab03b429c0dc436f505a875a0a4420e9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab03b429c0dc436f505a875a0a4420e9a">&#9670;&nbsp;</a></span>purpose</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int purpose</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Only used for DIR and EXIT types currently. </p>

</div>
</div>
<a id="a6a6eace50e0cff4638c981e784ed8396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a6eace50e0cff4638c981e784ed8396">&#9670;&nbsp;</a></span>read_blocked_on_bw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int read_blocked_on_bw</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Boolean: should we start reading again once the bandwidth throttler allows it? </p>

</div>
</div>
<a id="ae32ce607f88eaf4f8837a21c613dcaf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae32ce607f88eaf4f8837a21c613dcaf7">&#9670;&nbsp;</a></span>read_event</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct event* read_event</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Libevent event structure. </p>

</div>
</div>
<a id="a3feb45f90c36cc8be4a0b6b3471e4f95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3feb45f90c36cc8be4a0b6b3471e4f95">&#9670;&nbsp;</a></span>reading_from_linked_conn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int reading_from_linked_conn</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>True iff we'd like to be notified about read events from the linked conn. </p>

</div>
</div>
<a id="ab433345f22d9dc33e14cfd462abaaf88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab433345f22d9dc33e14cfd462abaaf88">&#9670;&nbsp;</a></span>s</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tor_socket_t s</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Our socket; set to TOR_INVALID_SOCKET if this connection is closed, or has no socket. </p>

</div>
</div>
<a id="a9c8257e3a68ecc69f222e67f1bcfeac3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c8257e3a68ecc69f222e67f1bcfeac3">&#9670;&nbsp;</a></span>socket_family</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int socket_family</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Address family of this connection's socket. Usually AF_INET, but it can also be AF_UNIX, or AF_INET6 </p>

</div>
</div>
<a id="a0b57aa10271a66f3dc936bba1d2f3830"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b57aa10271a66f3dc936bba1d2f3830">&#9670;&nbsp;</a></span>state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t state</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Current state of this connection. </p>

</div>
</div>
<a id="ac3010adaf03e1a400cc074f5ce9e20a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3010adaf03e1a400cc074f5ce9e20a4">&#9670;&nbsp;</a></span>timestamp_created</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t timestamp_created</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When was this <a class="el" href="structconnection__t.html">connection_t</a> created? </p>

</div>
</div>
<a id="aef67f82dfb748192d66b5e4dff380ecf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef67f82dfb748192d66b5e4dff380ecf">&#9670;&nbsp;</a></span>timestamp_lastread</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t timestamp_lastread</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When was the last time libevent said we could read? </p>

</div>
</div>
<a id="a6b4d296e48e51c92d122fbea85f48439"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b4d296e48e51c92d122fbea85f48439">&#9670;&nbsp;</a></span>timestamp_lastwritten</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t timestamp_lastwritten</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When was the last time libevent said we could write? </p>

</div>
</div>
<a id="a4bfea42429249a1f65204f0c0f34704a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bfea42429249a1f65204f0c0f34704a">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int type</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>What kind of connection is this? </p>

</div>
</div>
<a id="adb0971e15d1907cf601587d458c315c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb0971e15d1907cf601587d458c315c6">&#9670;&nbsp;</a></span>write_blocked_on_bw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int write_blocked_on_bw</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Boolean: should we start writing again once the bandwidth throttler allows writes? </p>

</div>
</div>
<a id="a1fde2a5107ec06065698434af89fb81d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fde2a5107ec06065698434af89fb81d">&#9670;&nbsp;</a></span>write_event</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct event* write_event</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Libevent event structure. </p>

</div>
</div>
<a id="a107a30feb4c7e7cdf228e9ef71e912f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a107a30feb4c7e7cdf228e9ef71e912f7">&#9670;&nbsp;</a></span>writing_to_linked_conn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int writing_to_linked_conn</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>True iff we're willing to write to the linked conn. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/user/_my/code/bwauth-related/tor/src/or/<a class="el" href="or_8h_source.html">or.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
