<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tor: /home/user/_my/code/bwauth-related/tor/src/or/main.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tor
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97b64286d42c5ef1697cb5f17129db19.html">tor</a></li><li class="navelem"><a class="el" href="dir_3cb0ba3f4b82dbe34a1a06276e96bc8d.html">src</a></li><li class="navelem"><a class="el" href="dir_386635fabd7f6c74e9d9c7a8604514a0.html">or</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header file for <a class="el" href="main_8c.html" title="Toplevel module. Handles signals, multiplexes between connections, implements main loop...">main.c</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h__dep__incl.png" border="0" usemap="#_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2main_8hdep" alt=""/></div>
<map name="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2main_8hdep" id="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2main_8hdep">
<area shape="rect" id="node2" href="channel_8c.html" title="OR/OP&#45;to&#45;OR channel abstraction layer. A channel&#39;s job is to transfer cells from Tor instance to Tor ..." alt="" coords="5,117,153,173"/>
<area shape="rect" id="node3" href="circuitbuild_8c.html" title="Implements the details of building circuits (by chosing paths, constructing/sending create/extend cel..." alt="" coords="177,117,325,173"/>
<area shape="rect" id="node4" href="circuitlist_8c.html" title="Manage global structures that list and index circuits, and look up circuits within them..." alt="" coords="349,117,497,173"/>
<area shape="rect" id="node5" href="circuitstats_8c.html" title="Maintains and analyzes statistics about circuit built times, so we can tell how long we may need to w..." alt="" coords="521,117,669,173"/>
<area shape="rect" id="node6" href="config_8c.html" title="Code to interpret the user&#39;s configuration of Tor. " alt="" coords="693,117,841,173"/>
<area shape="rect" id="node7" href="connection_8c.html" title="General high&#45;level functions to handle reading and writing on connections. " alt="" coords="865,117,1013,173"/>
<area shape="rect" id="node8" href="connection__edge_8c.html" title="Handle edge streams. " alt="" coords="1037,117,1209,173"/>
<area shape="rect" id="node9" href="connection__or_8c.html" title="Functions to handle OR connections, TLS handshaking, and cells on the network. " alt="" coords="1234,117,1389,173"/>
<area shape="rect" id="node10" href="control_8c.html" title="Implementation for Tor&#39;s control&#45;socket interface. " alt="" coords="1413,117,1561,173"/>
<area shape="rect" id="node11" href="cpuworker_8c.html" title="Uses the workqueue/threadpool code to farm CPU&#45;intensive activities out to subprocesses. " alt="" coords="1585,117,1733,173"/>
<area shape="rect" id="node12" href="directory_8c.html" title="Code to send and fetch information from directory authorities and caches via HTTP. " alt="" coords="1757,117,1905,173"/>
<area shape="rect" id="node13" href="dirserv_8c.html" title="Directory server core implementation. Manages directory contents and generates directories. " alt="" coords="1929,117,2077,173"/>
<area shape="rect" id="node14" href="dns_8c.html" title="Implements a local cache for DNS results for Tor servers. This is implemented as a wrapper around Ada..." alt="" coords="2101,117,2249,173"/>
<area shape="rect" id="node15" href="dnsserv_8c.html" title="Implements client&#45;side DNS proxy server code. " alt="" coords="2273,117,2421,173"/>
<area shape="rect" id="node16" href="entrynodes_8c.html" title="Code to manage our fixed first nodes for various functions. " alt="" coords="2445,117,2593,173"/>
<area shape="rect" id="node17" href="ext__orport_8c.html" title="Code implementing the Extended ORPort. " alt="" coords="2617,117,2765,173"/>
<area shape="rect" id="node18" href="hibernate_8c.html" title="Functions to close listeners, stop allowing new circuits, etc in preparation for closing down or goin..." alt="" coords="2789,117,2937,173"/>
<area shape="rect" id="node19" href="hs__service_8c.html" title="Implement next generation hidden service functionality. " alt="" coords="2961,117,3109,173"/>
<area shape="rect" id="node20" href="main_8c.html" title="Toplevel module. Handles signals, multiplexes between connections, implements main loop..." alt="" coords="3133,117,3281,173"/>
<area shape="rect" id="node21" href="networkstatus_8c.html" title="Functions and structures for handling networkstatus documents as a client or as a directory cache..." alt="" coords="3305,117,3461,173"/>
<area shape="rect" id="node22" href="nodelist_8c.html" title="Structures and functions for tracking what we know about the routers on the Tor network, and correlating information from networkstatus, routerinfo, and microdescs. " alt="" coords="3485,117,3633,173"/>
<area shape="rect" id="node23" href="periodic_8c.html" title="Generic backend for handling periodic events. " alt="" coords="3657,117,3805,173"/>
<area shape="rect" id="node24" href="relay_8c.html" title="Handle relay cell encryption/decryption, plus packaging and receiving from circuits, plus queuing on circuits. " alt="" coords="3829,117,3977,173"/>
<area shape="rect" id="node25" href="rendclient_8c.html" title="Client code to access location&#45;hidden services. " alt="" coords="4001,117,4149,173"/>
<area shape="rect" id="node26" href="rendservice_8c.html" title="The hidden&#45;service side of rendezvous functionality. " alt="" coords="4173,117,4321,173"/>
<area shape="rect" id="node27" href="router_8c.html" title="Miscellaneous relay functionality, including RSA key maintenance, generating and uploading server des..." alt="" coords="4345,117,4493,173"/>
<area shape="rect" id="node28" href="routerlist_8c.html" title="Code to maintain and access the global list of routerinfos for known servers. " alt="" coords="4517,117,4665,173"/>
<area shape="rect" id="node29" href="scheduler_8c.html" title="Channel scheduling system: decides which channels should send and receive when. " alt="" coords="4689,117,4837,173"/>
<area shape="rect" id="node30" href="statefile_8c.html" title="Handles parsing and encoding the persistent &#39;state&#39; file that carries miscellaneous persistent state ..." alt="" coords="4861,117,5009,173"/>
<area shape="rect" id="node31" href="status_8c.html" title="Collect status information and log heartbeat messages. " alt="" coords="5033,117,5181,173"/>
<area shape="rect" id="node32" href="test__helpers_8c.html" title="Some helper functions to avoid code duplication in unit tests. " alt="" coords="5205,117,5361,173"/>
<area shape="rect" id="node33" href="test__hs__client_8c.html" title="Test prop224 HS client functionality. " alt="" coords="5385,117,5552,173"/>
<area shape="rect" id="node34" href="test__hs__service_8c.html" title="Test hidden service functionality. " alt="" coords="5576,117,5753,173"/>
<area shape="rect" id="node35" href="test__mainloop_8c.html" title="Tests for functions closely related to the Tor main loop. " alt="" coords="5777,117,5944,173"/>
<area shape="rect" id="node36" href="test__periodic__event_8c.html" title="Test the periodic events that Tor uses for different roles. They are part of the libevent mainloop..." alt="" coords="5968,109,6116,180"/>
</map>
</div>
</div>
<p><a href="main_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5445cbceb12af604b9dd2f8a64dc4d54"><td class="memItemLeft" align="right" valign="top"><a id="a5445cbceb12af604b9dd2f8a64dc4d54"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>connection_add</b>(conn)&#160;&#160;&#160;<a class="el" href="main_8h.html#a3a5c68ed2f080c6030dc1cdf9b5f9611">connection_add_impl</a>((conn), 0)</td></tr>
<tr class="separator:a5445cbceb12af604b9dd2f8a64dc4d54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a436e576a20b8017b4005ab5b56afda07"><td class="memItemLeft" align="right" valign="top"><a id="a436e576a20b8017b4005ab5b56afda07"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>connection_add_connecting</b>(conn)&#160;&#160;&#160;<a class="el" href="main_8h.html#a3a5c68ed2f080c6030dc1cdf9b5f9611">connection_add_impl</a>((conn), 1)</td></tr>
<tr class="separator:a436e576a20b8017b4005ab5b56afda07"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a09655587c39ba1418b35c6a7b1b78af6"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="main_8h.html#a9597e331202d4c1535930fc8a2a40908">watchable_events</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a09655587c39ba1418b35c6a7b1b78af6">watchable_events_t</a></td></tr>
<tr class="separator:a09655587c39ba1418b35c6a7b1b78af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a9597e331202d4c1535930fc8a2a40908"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a9597e331202d4c1535930fc8a2a40908">watchable_events</a> { <a class="el" href="main_8h.html#a9597e331202d4c1535930fc8a2a40908a3e78c2ac01f3a0f5b0733be9694a34cf">READ_EVENT</a> =0x02, 
<a class="el" href="main_8h.html#a9597e331202d4c1535930fc8a2a40908a15bd59818c6e6eac2758759bf930ada3">WRITE_EVENT</a> =0x04
 }</td></tr>
<tr class="separator:a9597e331202d4c1535930fc8a2a40908"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4cd9a2be61f9fef21bc3b214116a4c8f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a4cd9a2be61f9fef21bc3b214116a4c8f">have_completed_a_circuit</a> (void)</td></tr>
<tr class="separator:a4cd9a2be61f9fef21bc3b214116a4c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53136151af7a47899ec4a9bfa16bd324"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a53136151af7a47899ec4a9bfa16bd324">note_that_we_completed_a_circuit</a> (void)</td></tr>
<tr class="separator:a53136151af7a47899ec4a9bfa16bd324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c379175a5113f3cb9972ab5f4c4be7c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a3c379175a5113f3cb9972ab5f4c4be7c">note_that_we_maybe_cant_complete_circuits</a> (void)</td></tr>
<tr class="separator:a3c379175a5113f3cb9972ab5f4c4be7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a5c68ed2f080c6030dc1cdf9b5f9611"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a3a5c68ed2f080c6030dc1cdf9b5f9611">connection_add_impl</a> (<a class="el" href="structconnection__t.html">connection_t</a> *conn, int is_connecting)</td></tr>
<tr class="separator:a3a5c68ed2f080c6030dc1cdf9b5f9611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c6e5c6ff3f5e0b2ce8a7f029c9a6a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a59c6e5c6ff3f5e0b2ce8a7f029c9a6a5">connection_remove</a> (<a class="el" href="structconnection__t.html">connection_t</a> *conn)</td></tr>
<tr class="separator:a59c6e5c6ff3f5e0b2ce8a7f029c9a6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58578e5a891c3135bfc7e4b7789420f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a58578e5a891c3135bfc7e4b7789420f8">connection_unregister_events</a> (<a class="el" href="structconnection__t.html">connection_t</a> *conn)</td></tr>
<tr class="separator:a58578e5a891c3135bfc7e4b7789420f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49e8c66d5c632a692690342427171dd7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a49e8c66d5c632a692690342427171dd7">connection_in_array</a> (<a class="el" href="structconnection__t.html">connection_t</a> *conn)</td></tr>
<tr class="separator:a49e8c66d5c632a692690342427171dd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a32ff7bb266432116efdc333987a0e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a5a32ff7bb266432116efdc333987a0e4">add_connection_to_closeable_list</a> (<a class="el" href="structconnection__t.html">connection_t</a> *conn)</td></tr>
<tr class="separator:a5a32ff7bb266432116efdc333987a0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66b81d23c35de4399af3b83ae7a569db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a66b81d23c35de4399af3b83ae7a569db">connection_is_on_closeable_list</a> (<a class="el" href="structconnection__t.html">connection_t</a> *conn)</td></tr>
<tr class="separator:a66b81d23c35de4399af3b83ae7a569db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afda17894962a77aa964a218d845357e9"><td class="memItemLeft" align="right" valign="top"><a id="afda17894962a77aa964a218d845357e9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (<a class="el" href="structsmartlist__t.html">smartlist_t</a> *, get_connection_array,(void))</td></tr>
<tr class="separator:afda17894962a77aa964a218d845357e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a001db16a513aea1380d7ca35fa7ae0b3"><td class="memItemLeft" align="right" valign="top"><a id="a001db16a513aea1380d7ca35fa7ae0b3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (uint64_t, get_bytes_read,(void))</td></tr>
<tr class="separator:a001db16a513aea1380d7ca35fa7ae0b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d5ebe8f2adea1abccc573fd6a537ede"><td class="memItemLeft" align="right" valign="top"><a id="a0d5ebe8f2adea1abccc573fd6a537ede"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (uint64_t, get_bytes_written,(void))</td></tr>
<tr class="separator:a0d5ebe8f2adea1abccc573fd6a537ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d2048d2c6e4ab00cb49e0deed579e56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a0d2048d2c6e4ab00cb49e0deed579e56">stats_increment_bytes_read_and_written</a> (uint64_t r, uint64_t w)</td></tr>
<tr class="separator:a0d2048d2c6e4ab00cb49e0deed579e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15bfc77f804db60403980cb1abed4804"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a15bfc77f804db60403980cb1abed4804">connection_watch_events</a> (<a class="el" href="structconnection__t.html">connection_t</a> *conn, <a class="el" href="main_8h.html#a09655587c39ba1418b35c6a7b1b78af6">watchable_events_t</a> events)</td></tr>
<tr class="separator:a15bfc77f804db60403980cb1abed4804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a998fed9e444283650d481cf0f716beac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a998fed9e444283650d481cf0f716beac">connection_is_reading</a> (<a class="el" href="structconnection__t.html">connection_t</a> *conn)</td></tr>
<tr class="separator:a998fed9e444283650d481cf0f716beac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3abde5ca927e3148e20317e52f10799c"><td class="memItemLeft" align="right" valign="top"><a id="a3abde5ca927e3148e20317e52f10799c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (void, connection_stop_reading,(<a class="el" href="structconnection__t.html">connection_t</a> *conn))</td></tr>
<tr class="separator:a3abde5ca927e3148e20317e52f10799c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9faa56a5e99cbdb5ecc04a7b69644395"><td class="memItemLeft" align="right" valign="top"><a id="a9faa56a5e99cbdb5ecc04a7b69644395"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (void, connection_start_reading,(<a class="el" href="structconnection__t.html">connection_t</a> *conn))</td></tr>
<tr class="separator:a9faa56a5e99cbdb5ecc04a7b69644395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a847b1dba5fa66b88adb6649f9f5d7382"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a847b1dba5fa66b88adb6649f9f5d7382">connection_is_writing</a> (<a class="el" href="structconnection__t.html">connection_t</a> *conn)</td></tr>
<tr class="separator:a847b1dba5fa66b88adb6649f9f5d7382"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3e97e24d3d4742c143b308a5092928d"><td class="memItemLeft" align="right" valign="top"><a id="ab3e97e24d3d4742c143b308a5092928d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (void, connection_stop_writing,(<a class="el" href="structconnection__t.html">connection_t</a> *conn))</td></tr>
<tr class="separator:ab3e97e24d3d4742c143b308a5092928d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6635ddbce81c1360c6d8499da4671ce4"><td class="memItemLeft" align="right" valign="top"><a id="a6635ddbce81c1360c6d8499da4671ce4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (void, connection_start_writing,(<a class="el" href="structconnection__t.html">connection_t</a> *conn))</td></tr>
<tr class="separator:a6635ddbce81c1360c6d8499da4671ce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ca79fee181d0c89fe92473cad0621d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a9ca79fee181d0c89fe92473cad0621d6">tor_shutdown_event_loop_and_exit</a> (int exitcode)</td></tr>
<tr class="separator:a9ca79fee181d0c89fe92473cad0621d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb7a9c7572d86e408db43bd1c5cbb7b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#adbb7a9c7572d86e408db43bd1c5cbb7b">tor_event_loop_shutdown_is_pending</a> (void)</td></tr>
<tr class="separator:adbb7a9c7572d86e408db43bd1c5cbb7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f0f7ed57367c80e2cbf1769b7bb47c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a47f0f7ed57367c80e2cbf1769b7bb47c">connection_stop_reading_from_linked_conn</a> (<a class="el" href="structconnection__t.html">connection_t</a> *conn)</td></tr>
<tr class="separator:a47f0f7ed57367c80e2cbf1769b7bb47c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cf9355e696a5f4629b96f2753424be1"><td class="memItemLeft" align="right" valign="top"><a id="a7cf9355e696a5f4629b96f2753424be1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (int, connection_count_moribund,(void))</td></tr>
<tr class="separator:a7cf9355e696a5f4629b96f2753424be1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59464f1df72e2aa554da128126909730"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a59464f1df72e2aa554da128126909730">directory_all_unreachable</a> (time_t now)</td></tr>
<tr class="separator:a59464f1df72e2aa554da128126909730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac64189cc036980dc5785f76d85db9fa6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#ac64189cc036980dc5785f76d85db9fa6">directory_info_has_arrived</a> (time_t now, int from_cache, int suppress_logs)</td></tr>
<tr class="separator:ac64189cc036980dc5785f76d85db9fa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a898cc7397e9ea055a3554ce259a8a4cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a898cc7397e9ea055a3554ce259a8a4cb">ip_address_changed</a> (int at_interface)</td></tr>
<tr class="separator:a898cc7397e9ea055a3554ce259a8a4cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1725c3c7eee555118c2f19cebe1ca00d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a1725c3c7eee555118c2f19cebe1ca00d">dns_servers_relaunch_checks</a> (void)</td></tr>
<tr class="separator:a1725c3c7eee555118c2f19cebe1ca00d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa79d6ccbf076c44946971ac8dbbb5e1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#aa79d6ccbf076c44946971ac8dbbb5e1d">reset_all_main_loop_timers</a> (void)</td></tr>
<tr class="separator:aa79d6ccbf076c44946971ac8dbbb5e1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07295da993bf4aa46f05959eb5597633"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a07295da993bf4aa46f05959eb5597633">reschedule_descriptor_update_check</a> (void)</td></tr>
<tr class="separator:a07295da993bf4aa46f05959eb5597633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e52e7505835cfedd05201509a19d301"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a5e52e7505835cfedd05201509a19d301">reschedule_directory_downloads</a> (void)</td></tr>
<tr class="separator:a5e52e7505835cfedd05201509a19d301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99e4caa4cd2573a6e23e9980ae79547b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a99e4caa4cd2573a6e23e9980ae79547b">reschedule_or_state_save</a> (void)</td></tr>
<tr class="separator:a99e4caa4cd2573a6e23e9980ae79547b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b11a4237598f0f5a4465578266d0d14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a5b11a4237598f0f5a4465578266d0d14">reschedule_dirvote</a> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options)</td></tr>
<tr class="separator:a5b11a4237598f0f5a4465578266d0d14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae90f277f5b30758b5ec08c7334a3d41a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#ae90f277f5b30758b5ec08c7334a3d41a">mainloop_schedule_postloop_cleanup</a> (void)</td></tr>
<tr class="separator:ae90f277f5b30758b5ec08c7334a3d41a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecdbc14b2fa5dcece5ca26ba80dc2876"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#aecdbc14b2fa5dcece5ca26ba80dc2876">rescan_periodic_events</a> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options)</td></tr>
<tr class="separator:aecdbc14b2fa5dcece5ca26ba80dc2876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765f755e15383b9204cbce97eeb3a633"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a765f755e15383b9204cbce97eeb3a633">update_current_time</a> (time_t now)</td></tr>
<tr class="separator:a765f755e15383b9204cbce97eeb3a633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeeb0e61f7673a416e9321a667b9abe9"><td class="memItemLeft" align="right" valign="top"><a id="aeeeb0e61f7673a416e9321a667b9abe9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (long, get_uptime,(void))</td></tr>
<tr class="separator:aeeeb0e61f7673a416e9321a667b9abe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951f413eb3d9fff18059567ef3b99ffa"><td class="memItemLeft" align="right" valign="top"><a id="a951f413eb3d9fff18059567ef3b99ffa"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (void, reset_uptime,(void))</td></tr>
<tr class="separator:a951f413eb3d9fff18059567ef3b99ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3bc70df8ef6a05b8a770f5bf54c0e80"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#af3bc70df8ef6a05b8a770f5bf54c0e80">get_signewnym_epoch</a> (void)</td></tr>
<tr class="separator:af3bc70df8ef6a05b8a770f5bf54c0e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad90d54275c3f302332ac0724037f3371"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#ad90d54275c3f302332ac0724037f3371">handle_signals</a> (void)</td></tr>
<tr class="separator:ad90d54275c3f302332ac0724037f3371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb1af7ef4a0e70c4384ccf514927ea3"><td class="memItemLeft" align="right" valign="top"><a id="a4bb1af7ef4a0e70c4384ccf514927ea3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>activate_signal</b> (int signal_num)</td></tr>
<tr class="separator:a4bb1af7ef4a0e70c4384ccf514927ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74db2eb78882d98d386071907fb43464"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a74db2eb78882d98d386071907fb43464">try_locking</a> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options, int err_if_locked)</td></tr>
<tr class="separator:a74db2eb78882d98d386071907fb43464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a956aa55341d2ab26916eed6ee75807b5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a956aa55341d2ab26916eed6ee75807b5">have_lockfile</a> (void)</td></tr>
<tr class="separator:a956aa55341d2ab26916eed6ee75807b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f354a197343260ba0e44498b9a495e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a47f354a197343260ba0e44498b9a495e">release_lockfile</a> (void)</td></tr>
<tr class="separator:a47f354a197343260ba0e44498b9a495e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd962fecaae8f194c79ebe9dbc624b02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#acd962fecaae8f194c79ebe9dbc624b02">tor_remove_file</a> (const char *filename)</td></tr>
<tr class="separator:acd962fecaae8f194c79ebe9dbc624b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d28e76dd898a85ba3459928e3659954"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a4d28e76dd898a85ba3459928e3659954">tor_cleanup</a> (void)</td></tr>
<tr class="separator:a4d28e76dd898a85ba3459928e3659954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d840759318fbf94fb7009cc0fba5c5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a3d840759318fbf94fb7009cc0fba5c5d">tor_free_all</a> (int postfork)</td></tr>
<tr class="separator:a3d840759318fbf94fb7009cc0fba5c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842d938cd262fb19c7c4d6177ccaa6fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a842d938cd262fb19c7c4d6177ccaa6fb">do_main_loop</a> (void)</td></tr>
<tr class="separator:a842d938cd262fb19c7c4d6177ccaa6fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a624452c79eab994b641a2f1dced02ebd"><td class="memItemLeft" align="right" valign="top"><a id="a624452c79eab994b641a2f1dced02ebd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>tor_init</b> (int argc, char **argv)</td></tr>
<tr class="separator:a624452c79eab994b641a2f1dced02ebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4cfbc2252dcc87b85061c590b4adb1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#ad4cfbc2252dcc87b85061c590b4adb1c">reset_main_loop_counters</a> (void)</td></tr>
<tr class="separator:ad4cfbc2252dcc87b85061c590b4adb1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbcd3675aa2873ead2772ccaa296ff9e"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#abbcd3675aa2873ead2772ccaa296ff9e">get_main_loop_success_count</a> (void)</td></tr>
<tr class="separator:abbcd3675aa2873ead2772ccaa296ff9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a892ac378990bb6c836687b1b0621bccb"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a892ac378990bb6c836687b1b0621bccb">get_main_loop_error_count</a> (void)</td></tr>
<tr class="separator:a892ac378990bb6c836687b1b0621bccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a985dea1589f3c5501528be1fae39c0e5"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a985dea1589f3c5501528be1fae39c0e5">get_main_loop_idle_count</a> (void)</td></tr>
<tr class="separator:a985dea1589f3c5501528be1fae39c0e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d553a2f573f9a11485a7d0738082f0c"><td class="memItemLeft" align="right" valign="top"><a id="a6d553a2f573f9a11485a7d0738082f0c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>periodic_events_on_new_options</b> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options)</td></tr>
<tr class="separator:a6d553a2f573f9a11485a7d0738082f0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa282b01934a6c82ad6d2c27cf5140a85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#aa282b01934a6c82ad6d2c27cf5140a85">reschedule_per_second_timer</a> (void)</td></tr>
<tr class="separator:aa282b01934a6c82ad6d2c27cf5140a85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adf69cec97fa500244d34e702079fae1d"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#adf69cec97fa500244d34e702079fae1d">time_of_process_start</a></td></tr>
<tr class="separator:adf69cec97fa500244d34e702079fae1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2c30ee9d076a20132a5bc44dc2d91aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#aa2c30ee9d076a20132a5bc44dc2d91aa">quiet_level</a></td></tr>
<tr class="separator:aa2c30ee9d076a20132a5bc44dc2d91aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34619f9d41cb0d023b8ba67163fef82a"><td class="memItemLeft" align="right" valign="top"><a id="a34619f9d41cb0d023b8ba67163fef82a"></a>
<a class="el" href="structtoken__bucket__rw__t.html">token_bucket_rw_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>global_bucket</b></td></tr>
<tr class="separator:a34619f9d41cb0d023b8ba67163fef82a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa32791d6a709c6d0ee203a81cece566b"><td class="memItemLeft" align="right" valign="top"><a id="aa32791d6a709c6d0ee203a81cece566b"></a>
<a class="el" href="structtoken__bucket__rw__t.html">token_bucket_rw_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>global_relayed_bucket</b></td></tr>
<tr class="separator:aa32791d6a709c6d0ee203a81cece566b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for <a class="el" href="main_8c.html" title="Toplevel module. Handles signals, multiplexes between connections, implements main loop...">main.c</a>. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a09655587c39ba1418b35c6a7b1b78af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09655587c39ba1418b35c6a7b1b78af6">&#9670;&nbsp;</a></span>watchable_events_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="main_8h.html#a9597e331202d4c1535930fc8a2a40908">watchable_events</a>  <a class="el" href="main_8h.html#a09655587c39ba1418b35c6a7b1b78af6">watchable_events_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bitmask for events that we can turn on and off with connection_watch_events. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a9597e331202d4c1535930fc8a2a40908"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9597e331202d4c1535930fc8a2a40908">&#9670;&nbsp;</a></span>watchable_events</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="main_8h.html#a9597e331202d4c1535930fc8a2a40908">watchable_events</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bitmask for events that we can turn on and off with connection_watch_events. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9597e331202d4c1535930fc8a2a40908a3e78c2ac01f3a0f5b0733be9694a34cf"></a>READ_EVENT&#160;</td><td class="fielddoc"><p>We want to know when a connection is readable </p>
</td></tr>
<tr><td class="fieldname"><a id="a9597e331202d4c1535930fc8a2a40908a15bd59818c6e6eac2758759bf930ada3"></a>WRITE_EVENT&#160;</td><td class="fielddoc"><p>We want to know when a connection is writable </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5a32ff7bb266432116efdc333987a0e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a32ff7bb266432116efdc333987a0e4">&#9670;&nbsp;</a></span>add_connection_to_closeable_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_connection_to_closeable_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconnection__t.html">connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Schedule <b>conn</b> to be closed. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a5a32ff7bb266432116efdc333987a0e4_cgraph.png" border="0" usemap="#main_8h_a5a32ff7bb266432116efdc333987a0e4_cgraph" alt=""/></div>
<map name="main_8h_a5a32ff7bb266432116efdc333987a0e4_cgraph" id="main_8h_a5a32ff7bb266432116efdc333987a0e4_cgraph">
<area shape="rect" id="node2" href="container_8c.html#abbb4ca13d840b2761ed4d70c63f0b2f4" title="smartlist_contains" alt="" coords="301,5,429,32"/>
<area shape="rect" id="node3" href="connection_8c.html#a738d9e7ef0c4a101c2adbd4cade35475" title="assert_connection_ok" alt="" coords="291,56,440,83"/>
<area shape="rect" id="node4" href="container_8c.html#accf59a8b7d39a4286ff99653b6878006" title="smartlist_add" alt="" coords="315,107,415,133"/>
<area shape="rect" id="node5" href="main_8c.html#ae90f277f5b30758b5ec08c7334a3d41a" title="mainloop_schedule_postloop\l_cleanup" alt="" coords="271,158,460,199"/>
<area shape="rect" id="node6" href="compat__libevent_8c.html#af815b0dd39abfb6b6ddbf5266175b479" title="mainloop_event_activate" alt="" coords="508,165,675,192"/>
</map>
</div>

</div>
</div>
<a id="a3a5c68ed2f080c6030dc1cdf9b5f9611"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a5c68ed2f080c6030dc1cdf9b5f9611">&#9670;&nbsp;</a></span>connection_add_impl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int connection_add_impl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconnection__t.html">connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_connecting</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add <b>conn</b> to the array of connections that we can poll on. The connection's socket must be set; the connection starts out non-reading and non-writing. </p>

</div>
</div>
<a id="a49e8c66d5c632a692690342427171dd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49e8c66d5c632a692690342427171dd7">&#9670;&nbsp;</a></span>connection_in_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int connection_in_array </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconnection__t.html">connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff conn is in the current poll array. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a49e8c66d5c632a692690342427171dd7_cgraph.png" border="0" usemap="#main_8h_a49e8c66d5c632a692690342427171dd7_cgraph" alt=""/></div>
<map name="main_8h_a49e8c66d5c632a692690342427171dd7_cgraph" id="main_8h_a49e8c66d5c632a692690342427171dd7_cgraph">
<area shape="rect" id="node2" href="container_8c.html#abbb4ca13d840b2761ed4d70c63f0b2f4" title="smartlist_contains" alt="" coords="192,5,320,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a49e8c66d5c632a692690342427171dd7_icgraph.png" border="0" usemap="#main_8h_a49e8c66d5c632a692690342427171dd7_icgraph" alt=""/></div>
<map name="main_8h_a49e8c66d5c632a692690342427171dd7_icgraph" id="main_8h_a49e8c66d5c632a692690342427171dd7_icgraph">
<area shape="rect" id="node2" href="connection_8c.html#a39b04f82ada8e36e17821d9fbfaa43df" title="MOCK_IMPL" alt="" coords="207,5,307,32"/>
<area shape="rect" id="node3" href="dns_8h.html#abab9ee4ae98eafd0454adef2477f1a76" title="assert_all_pending\l_dns_resolves_ok" alt="" coords="192,57,323,98"/>
</map>
</div>

</div>
</div>
<a id="a66b81d23c35de4399af3b83ae7a569db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66b81d23c35de4399af3b83ae7a569db">&#9670;&nbsp;</a></span>connection_is_on_closeable_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int connection_is_on_closeable_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconnection__t.html">connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 1 if conn is on the closeable list, else return 0. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a66b81d23c35de4399af3b83ae7a569db_cgraph.png" border="0" usemap="#main_8h_a66b81d23c35de4399af3b83ae7a569db_cgraph" alt=""/></div>
<map name="main_8h_a66b81d23c35de4399af3b83ae7a569db_cgraph" id="main_8h_a66b81d23c35de4399af3b83ae7a569db_cgraph">
<area shape="rect" id="node2" href="container_8c.html#abbb4ca13d840b2761ed4d70c63f0b2f4" title="smartlist_contains" alt="" coords="263,5,391,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a66b81d23c35de4399af3b83ae7a569db_icgraph.png" border="0" usemap="#main_8h_a66b81d23c35de4399af3b83ae7a569db_icgraph" alt=""/></div>
<map name="main_8h_a66b81d23c35de4399af3b83ae7a569db_icgraph" id="main_8h_a66b81d23c35de4399af3b83ae7a569db_icgraph">
<area shape="rect" id="node2" href="connection_8c.html#a39b04f82ada8e36e17821d9fbfaa43df" title="MOCK_IMPL" alt="" coords="263,5,363,32"/>
</map>
</div>

</div>
</div>
<a id="a998fed9e444283650d481cf0f716beac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a998fed9e444283650d481cf0f716beac">&#9670;&nbsp;</a></span>connection_is_reading()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int connection_is_reading </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconnection__t.html">connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>conn</b> is listening for read events. </p>

</div>
</div>
<a id="a847b1dba5fa66b88adb6649f9f5d7382"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a847b1dba5fa66b88adb6649f9f5d7382">&#9670;&nbsp;</a></span>connection_is_writing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int connection_is_writing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconnection__t.html">connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <b>conn</b> is listening for write events. </p>

</div>
</div>
<a id="a59c6e5c6ff3f5e0b2ce8a7f029c9a6a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59c6e5c6ff3f5e0b2ce8a7f029c9a6a5">&#9670;&nbsp;</a></span>connection_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int connection_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconnection__t.html">connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove the connection from the global list, and remove the corresponding poll entry. Calling this function will shift the last connection (if any) into the position occupied by conn. </p>

</div>
</div>
<a id="a47f0f7ed57367c80e2cbf1769b7bb47c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47f0f7ed57367c80e2cbf1769b7bb47c">&#9670;&nbsp;</a></span>connection_stop_reading_from_linked_conn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void connection_stop_reading_from_linked_conn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconnection__t.html">connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tell the main loop to stop reading bytes into <b>conn</b> from its linked connection, if is currently doing so. Called by connection_stop_reading, connection_stop_writing, and connection_read. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a47f0f7ed57367c80e2cbf1769b7bb47c_cgraph.png" border="0" usemap="#main_8h_a47f0f7ed57367c80e2cbf1769b7bb47c_cgraph" alt=""/></div>
<map name="main_8h_a47f0f7ed57367c80e2cbf1769b7bb47c_cgraph" id="main_8h_a47f0f7ed57367c80e2cbf1769b7bb47c_cgraph">
<area shape="rect" id="node2" href="container_8c.html#ad318adf5db2ec229a43c0c567e1f6fce" title="smartlist_remove" alt="" coords="223,5,345,32"/>
<area shape="rect" id="node3" href="container_8c.html#abbb4ca13d840b2761ed4d70c63f0b2f4" title="smartlist_contains" alt="" coords="220,56,348,83"/>
</map>
</div>

</div>
</div>
<a id="a58578e5a891c3135bfc7e4b7789420f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58578e5a891c3135bfc7e4b7789420f8">&#9670;&nbsp;</a></span>connection_unregister_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void connection_unregister_events </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconnection__t.html">connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tell libevent that we don't care about <b>conn</b> any more. </p>

</div>
</div>
<a id="a15bfc77f804db60403980cb1abed4804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15bfc77f804db60403980cb1abed4804">&#9670;&nbsp;</a></span>connection_watch_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void connection_watch_events </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconnection__t.html">connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8h.html#a09655587c39ba1418b35c6a7b1b78af6">watchable_events_t</a>&#160;</td>
          <td class="paramname"><em>events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the event mask on <b>conn</b> to <b>events</b>. (The event mask is a bitmask whose bits are READ_EVENT and WRITE_EVENT) </p>

</div>
</div>
<a id="a59464f1df72e2aa554da128126909730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59464f1df72e2aa554da128126909730">&#9670;&nbsp;</a></span>directory_all_unreachable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void directory_all_unreachable </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>We've just tried every dirserver we know about, and none of them were reachable. Assume the network is down. Change state so next time an application connection arrives we'll delay it and try another directory fetch. Kill off all the circuit_wait streams that are waiting now, since they will all timeout anyway. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a59464f1df72e2aa554da128126909730_cgraph.png" border="0" usemap="#main_8h_a59464f1df72e2aa554da128126909730_cgraph" alt=""/></div>
<map name="main_8h_a59464f1df72e2aa554da128126909730_cgraph" id="main_8h_a59464f1df72e2aa554da128126909730_cgraph">
<area shape="rect" id="node2" href="compat__libevent_8c.html#a7900ec8114afee85be2cc2b20d3abb79" title="mainloop_event_new" alt="" coords="223,5,367,32"/>
</map>
</div>

</div>
</div>
<a id="ac64189cc036980dc5785f76d85db9fa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac64189cc036980dc5785f76d85db9fa6">&#9670;&nbsp;</a></span>directory_info_has_arrived()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void directory_info_has_arrived </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>from_cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>suppress_logs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called whenever we successfully pull down some new network statuses or server descriptors. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_ac64189cc036980dc5785f76d85db9fa6_cgraph.png" border="0" usemap="#main_8h_ac64189cc036980dc5785f76d85db9fa6_cgraph" alt=""/></div>
<map name="main_8h_ac64189cc036980dc5785f76d85db9fa6_cgraph" id="main_8h_ac64189cc036980dc5785f76d85db9fa6_cgraph">
<area shape="rect" id="node2" href="entrynodes_8c.html#aedaac29d3130717a9c3fdb8950a2f4af" title="guards_update_all" alt="" coords="205,13,331,39"/>
<area shape="rect" id="node4" href="circuitlist_8c.html#afbc3a3bf5eccd42bc5dc3f75d5aec392" title="circuit_mark_all_unused\l_circs" alt="" coords="187,64,349,105"/>
<area shape="rect" id="node5" href="circuitlist_8c.html#a52c4991dce45efd8d927b6092e3c85be" title="circuit_mark_all_dirty\l_circs_as_unusable" alt="" coords="195,129,341,171"/>
<area shape="rect" id="node8" href="dirserv_8c.html#a2c5edbbd6883a33af3d72bfead4033db" title="directory_too_idle\l_to_fetch_descriptors" alt="" coords="909,359,1055,400"/>
<area shape="rect" id="node13" href="rephist_8c.html#ae234f5b5dcf88ea65ef20ff5c3512327" title="any_predicted_circuits" alt="" coords="1341,574,1493,601"/>
<area shape="rect" id="node17" href="log_8c.html#a048192107dfd3f8f22b9e599e45d0b34" title="tor_log" alt="" coords="237,589,299,615"/>
<area shape="rect" id="node18" href="nodelist_8c.html#ada6e670aafec4ca8804035153b50400a" title="get_dir_info_status\l_string" alt="" coords="202,640,334,681"/>
<area shape="rect" id="node19" href="routerlist_8c.html#afe7f2c6bcc3135272bc6aa66ec09cd76" title="update_all_descriptor\l_downloads" alt="" coords="195,421,341,463"/>
<area shape="rect" id="node29" href="dirserv_8c.html#a0b84786e17352524036694baf1955167" title="directory_fetches_from\l_authorities" alt="" coords="1125,241,1280,283"/>
<area shape="rect" id="node30" href="routerlist_8c.html#ab576efc7049ed4eca6fa56e9f0544844" title="update_extrainfo_downloads" alt="" coords="408,530,595,557"/>
<area shape="rect" id="node31" href="router_8c.html#a0b7d8b358c0cdb6359916151f1863e36" title="net_is_disabled" alt="" coords="212,706,324,733"/>
<area shape="rect" id="node32" href="main_8c.html#a4cd9a2be61f9fef21bc3b214116a4c8f" title="have_completed_a_circuit" alt="" coords="181,757,355,783"/>
<area shape="rect" id="node33" href="router_8c.html#a242f0a76713d7b28d940880fc3dd03ed" title="router_do_reachability\l_checks" alt="" coords="193,808,343,849"/>
<area shape="rect" id="node3" href="entrynodes_8c.html#a7b8e402c5c5ea8de25416c11ff59d7b8" title="update_guard_selection\l_choice" alt="" coords="422,5,581,47"/>
<area shape="rect" id="node6" href="circuituse_8c.html#adf36645f7a473ad622918668f2f5ba33" title="mark_circuit_unusable\l_for_new_conns" alt="" coords="425,129,577,171"/>
<area shape="rect" id="node7" href="util_8c.html#aca03d8cb6a22d540b13b92ea5945df33" title="approx_time" alt="" coords="701,137,794,163"/>
<area shape="rect" id="node9" href="dirserv_8c.html#a57e2ff1ad2ea65abe9b969ad3d76a418" title="directory_caches_dir_info" alt="" coords="1117,307,1288,334"/>
<area shape="rect" id="node12" href="rephist_8c.html#a890009e83c2e90292a435526b8111727" title="rep_hist_circbuilding\l_dormant" alt="" coords="1133,431,1273,472"/>
<area shape="rect" id="node10" href="router_8c.html#ab23297b12b098da9eac98126a587aa3b" title="dir_server_mode" alt="" coords="1358,307,1477,334"/>
<area shape="rect" id="node11" href="router_8c.html#afa75de94186fffc8f373de610ae4cab3" title="should_refuse_unknown\l_exits" alt="" coords="1336,241,1499,283"/>
<area shape="rect" id="node14" href="router_8c.html#a8b917b11fb2945b314286a6a567e34c3" title="check_whether_orport\l_reachable" alt="" coords="1342,431,1493,472"/>
<area shape="rect" id="node15" href="circuituse_8c.html#ac6c1a2c715351d85ef6747ca1a4db958" title="circuit_enough_testing\l_circs" alt="" coords="1341,496,1493,537"/>
<area shape="rect" id="node16" href="router_8c.html#a98317a030cb30700f60c8444d676087b" title="check_whether_dirport\l_reachable" alt="" coords="1341,365,1494,407"/>
<area shape="rect" id="node20" href="networkstatus_8c.html#aa278011afd1917ef43cc44fac287f7bf" title="should_delay_dir_fetches" alt="" coords="663,530,832,557"/>
<area shape="rect" id="node21" href="routerlist_8c.html#a8b67f737b9ea614297414b26eb3b784c" title="update_router_descriptor\l_downloads" alt="" coords="419,363,584,404"/>
<area shape="rect" id="node28" href="microdesc_8c.html#aad7f413d899b72e58bed8efc0162d8bd" title="update_microdesc_downloads" alt="" coords="403,429,600,455"/>
<area shape="rect" id="node22" href="microdesc_8c.html#a2667d23ef05f514b5bf916791b4a6bbd" title="we_fetch_router_descriptors" alt="" coords="654,246,841,273"/>
<area shape="rect" id="node24" href="routerlist_8c.html#a1a7cfda729e27cf26089db2112d21965" title="update_consensus_router\l_descriptor_downloads" alt="" coords="662,348,833,389"/>
<area shape="rect" id="node26" href="networkstatus_8c.html#a44accdf47b7f9f40b25c45daf2c31475" title="networkstatus_get_reasonably\l_live_consensus" alt="" coords="648,413,847,455"/>
<area shape="rect" id="node23" href="microdesc_8c.html#adeff3a88aa40b67ab6407bda5c941910" title="we_use_microdescriptors\l_for_circuits" alt="" coords="897,241,1067,283"/>
<area shape="rect" id="node25" href="router_8c.html#a2d62b1eeaa990670a04de8dfbb42ab8f" title="authdir_mode" alt="" coords="932,425,1032,451"/>
<area shape="rect" id="node27" href="networkstatus_8c.html#a2d356f4ab27d29e60c8f5114974fda96" title="networkstatus_consensus\l_reasonably_live" alt="" coords="895,476,1069,517"/>
</map>
</div>

</div>
</div>
<a id="a1725c3c7eee555118c2f19cebe1ca00d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1725c3c7eee555118c2f19cebe1ca00d">&#9670;&nbsp;</a></span>dns_servers_relaunch_checks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dns_servers_relaunch_checks </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Forget what we've learned about the correctness of our DNS servers, and start learning again. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a1725c3c7eee555118c2f19cebe1ca00d_cgraph.png" border="0" usemap="#main_8h_a1725c3c7eee555118c2f19cebe1ca00d_cgraph" alt=""/></div>
<map name="main_8h_a1725c3c7eee555118c2f19cebe1ca00d_cgraph" id="main_8h_a1725c3c7eee555118c2f19cebe1ca00d_cgraph">
<area shape="rect" id="node2" href="dns_8c.html#a307a827eed6277f5125f6503da3ddbe2" title="dns_reset_correctness\l_checks" alt="" coords="213,23,368,65"/>
<area shape="rect" id="node5" href="periodic_8c.html#ad9c12c89ef415b3c131f39f68534a974" title="periodic_event_reschedule" alt="" coords="203,89,379,116"/>
<area shape="rect" id="node3" href="util_8c.html#a40d94cc20afc38582c65aa418919ebed" title="tor_free_" alt="" coords="443,5,517,32"/>
<area shape="rect" id="node4" href="container_8c.html#ad24500d61ff1dbb6c845a8a70f6d2f14" title="smartlist_clear" alt="" coords="427,56,533,83"/>
</map>
</div>

</div>
</div>
<a id="a842d938cd262fb19c7c4d6177ccaa6fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a842d938cd262fb19c7c4d6177ccaa6fb">&#9670;&nbsp;</a></span>do_main_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int do_main_loop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tor main loop. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a842d938cd262fb19c7c4d6177ccaa6fb_cgraph.png" border="0" usemap="#main_8h_a842d938cd262fb19c7c4d6177ccaa6fb_cgraph" alt=""/></div>
<map name="main_8h_a842d938cd262fb19c7c4d6177ccaa6fb_cgraph" id="main_8h_a842d938cd262fb19c7c4d6177ccaa6fb_cgraph">
<area shape="rect" id="node2" href="main_8c.html#afe588553f651b21dfd63eb7109168272" title="initialize_periodic\l_events" alt="" coords="159,5,281,47"/>
<area shape="rect" id="node4" href="main_8c.html#ac14ea279fb1aac55027fc5f87826f23c" title="initialize_mainloop\l_events" alt="" coords="156,71,284,112"/>
<area shape="rect" id="node6" href="dns_8c.html#a100ddc42d1f3411bc6cfbc6185af76ae" title="dns_init" alt="" coords="187,137,253,163"/>
<area shape="rect" id="node3" href="periodic_8c.html#afcc35ea29c517238c986af91334290f6" title="periodic_event_setup" alt="" coords="359,13,505,39"/>
<area shape="rect" id="node5" href="compat__libevent_8c.html#a5cd5019864755687d5e6c473f7483366" title="mainloop_event_postloop_new" alt="" coords="332,78,532,105"/>
</map>
</div>

</div>
</div>
<a id="a892ac378990bb6c836687b1b0621bccb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a892ac378990bb6c836687b1b0621bccb">&#9670;&nbsp;</a></span>get_main_loop_error_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t get_main_loop_error_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the main loop error counter. </p>

</div>
</div>
<a id="a985dea1589f3c5501528be1fae39c0e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a985dea1589f3c5501528be1fae39c0e5">&#9670;&nbsp;</a></span>get_main_loop_idle_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t get_main_loop_idle_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the main loop idle counter. </p>

</div>
</div>
<a id="abbcd3675aa2873ead2772ccaa296ff9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbcd3675aa2873ead2772ccaa296ff9e">&#9670;&nbsp;</a></span>get_main_loop_success_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t get_main_loop_success_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the main loop success counter. </p>

</div>
</div>
<a id="af3bc70df8ef6a05b8a770f5bf54c0e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3bc70df8ef6a05b8a770f5bf54c0e80">&#9670;&nbsp;</a></span>get_signewnym_epoch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned get_signewnym_epoch </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the number of times that signewnym has been called. </p>

</div>
</div>
<a id="ad90d54275c3f302332ac0724037f3371"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad90d54275c3f302332ac0724037f3371">&#9670;&nbsp;</a></span>handle_signals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_signals </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up the signal handler events for this process, and register them with libevent if appropriate. </p>

</div>
</div>
<a id="a4cd9a2be61f9fef21bc3b214116a4c8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cd9a2be61f9fef21bc3b214116a4c8f">&#9670;&nbsp;</a></span>have_completed_a_circuit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int have_completed_a_circuit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 1 if we have successfully built a circuit, and nothing has changed to make us think that maybe we can't. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a4cd9a2be61f9fef21bc3b214116a4c8f_icgraph.png" border="0" usemap="#main_8h_a4cd9a2be61f9fef21bc3b214116a4c8f_icgraph" alt=""/></div>
<map name="main_8h_a4cd9a2be61f9fef21bc3b214116a4c8f_icgraph" id="main_8h_a4cd9a2be61f9fef21bc3b214116a4c8f_icgraph">
<area shape="rect" id="node2" href="main_8h.html#ac64189cc036980dc5785f76d85db9fa6" title="directory_info_has\l_arrived" alt="" coords="227,5,355,47"/>
</map>
</div>

</div>
</div>
<a id="a956aa55341d2ab26916eed6ee75807b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a956aa55341d2ab26916eed6ee75807b5">&#9670;&nbsp;</a></span>have_lockfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int have_lockfile </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff we've successfully acquired the lock file. </p>

</div>
</div>
<a id="a898cc7397e9ea055a3554ce259a8a4cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a898cc7397e9ea055a3554ce259a8a4cb">&#9670;&nbsp;</a></span>ip_address_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ip_address_changed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>at_interface</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when our IP address seems to have changed. <b>at_interface</b> should be true if we detected a change in our interface, and false if we detected a change in our published address. </p>

</div>
</div>
<a id="ae90f277f5b30758b5ec08c7334a3d41a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae90f277f5b30758b5ec08c7334a3d41a">&#9670;&nbsp;</a></span>mainloop_schedule_postloop_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mainloop_schedule_postloop_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Schedule a post-loop event to clean up marked channels, connections, and circuits. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_ae90f277f5b30758b5ec08c7334a3d41a_cgraph.png" border="0" usemap="#main_8h_ae90f277f5b30758b5ec08c7334a3d41a_cgraph" alt=""/></div>
<map name="main_8h_ae90f277f5b30758b5ec08c7334a3d41a_cgraph" id="main_8h_ae90f277f5b30758b5ec08c7334a3d41a_cgraph">
<area shape="rect" id="node2" href="compat__libevent_8c.html#af815b0dd39abfb6b6ddbf5266175b479" title="mainloop_event_activate" alt="" coords="243,13,409,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_ae90f277f5b30758b5ec08c7334a3d41a_icgraph.png" border="0" usemap="#main_8h_ae90f277f5b30758b5ec08c7334a3d41a_icgraph" alt=""/></div>
<map name="main_8h_ae90f277f5b30758b5ec08c7334a3d41a_icgraph" id="main_8h_ae90f277f5b30758b5ec08c7334a3d41a_icgraph">
<area shape="rect" id="node2" href="main_8h.html#a5a32ff7bb266432116efdc333987a0e4" title="add_connection_to_closeable_list" alt="" coords="243,13,460,39"/>
</map>
</div>

</div>
</div>
<a id="a53136151af7a47899ec4a9bfa16bd324"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53136151af7a47899ec4a9bfa16bd324">&#9670;&nbsp;</a></span>note_that_we_completed_a_circuit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void note_that_we_completed_a_circuit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Note that we have successfully built a circuit, so that reachability testing and introduction points and so on may be attempted. </p>

</div>
</div>
<a id="a3c379175a5113f3cb9972ab5f4c4be7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c379175a5113f3cb9972ab5f4c4be7c">&#9670;&nbsp;</a></span>note_that_we_maybe_cant_complete_circuits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void note_that_we_maybe_cant_complete_circuits </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Note that something has happened (like a clock jump, or DisableNetwork) to make us think that maybe we can't complete circuits. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a3c379175a5113f3cb9972ab5f4c4be7c_icgraph.png" border="0" usemap="#main_8h_a3c379175a5113f3cb9972ab5f4c4be7c_icgraph" alt=""/></div>
<map name="main_8h_a3c379175a5113f3cb9972ab5f4c4be7c_icgraph" id="main_8h_a3c379175a5113f3cb9972ab5f4c4be7c_icgraph">
<area shape="rect" id="node2" href="circuitbuild_8h.html#ad0daecc03b3062716a6845b8a522d3da" title="circuit_note_clock\l_jumped" alt="" coords="216,5,343,47"/>
</map>
</div>

</div>
</div>
<a id="a47f354a197343260ba0e44498b9a495e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47f354a197343260ba0e44498b9a495e">&#9670;&nbsp;</a></span>release_lockfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void release_lockfile </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If we have successfully acquired the lock file, release it. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a47f354a197343260ba0e44498b9a495e_cgraph.png" border="0" usemap="#main_8h_a47f354a197343260ba0e44498b9a495e_cgraph" alt=""/></div>
<map name="main_8h_a47f354a197343260ba0e44498b9a495e_cgraph" id="main_8h_a47f354a197343260ba0e44498b9a495e_cgraph">
<area shape="rect" id="node2" href="compat_8c.html#afcfbcea2492c890d03a51c8feb0b797b" title="tor_lockfile_unlock" alt="" coords="165,5,296,32"/>
</map>
</div>

</div>
</div>
<a id="aecdbc14b2fa5dcece5ca26ba80dc2876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecdbc14b2fa5dcece5ca26ba80dc2876">&#9670;&nbsp;</a></span>rescan_periodic_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rescan_periodic_events </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structor__options__t.html">or_options_t</a> *&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Do a pass at all our periodic events, disable those we don't need anymore and enable those we need now using the given options. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_aecdbc14b2fa5dcece5ca26ba80dc2876_cgraph.png" border="0" usemap="#main_8h_aecdbc14b2fa5dcece5ca26ba80dc2876_cgraph" alt=""/></div>
<map name="main_8h_aecdbc14b2fa5dcece5ca26ba80dc2876_cgraph" id="main_8h_aecdbc14b2fa5dcece5ca26ba80dc2876_cgraph">
<area shape="rect" id="node2" href="main_8c.html#aac02d62503e0f6d84ffc919a7cc7a70f" title="get_my_roles" alt="" coords="218,13,318,39"/>
<area shape="rect" id="node4" href="router_8c.html#a0b7d8b358c0cdb6359916151f1863e36" title="net_is_disabled" alt="" coords="212,63,324,90"/>
<area shape="rect" id="node3" href="config_8c.html#a9909c87ec1bec7cb4229ad3718a6fd2f" title="options_any_client\l_port_set" alt="" coords="372,5,503,47"/>
</map>
</div>

</div>
</div>
<a id="a07295da993bf4aa46f05959eb5597633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07295da993bf4aa46f05959eb5597633">&#9670;&nbsp;</a></span>reschedule_descriptor_update_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reschedule_descriptor_update_check </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update our schedule so that we'll check whether we need to update our descriptor immediately, rather than after up to CHECK_DESCRIPTOR_INTERVAL seconds. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a07295da993bf4aa46f05959eb5597633_cgraph.png" border="0" usemap="#main_8h_a07295da993bf4aa46f05959eb5597633_cgraph" alt=""/></div>
<map name="main_8h_a07295da993bf4aa46f05959eb5597633_cgraph" id="main_8h_a07295da993bf4aa46f05959eb5597633_cgraph">
<area shape="rect" id="node2" href="periodic_8c.html#ad9c12c89ef415b3c131f39f68534a974" title="periodic_event_reschedule" alt="" coords="203,13,379,39"/>
</map>
</div>

</div>
</div>
<a id="a5e52e7505835cfedd05201509a19d301"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e52e7505835cfedd05201509a19d301">&#9670;&nbsp;</a></span>reschedule_directory_downloads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reschedule_directory_downloads </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update our schedule so that we'll check whether we need to fetch directory info immediately. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a5e52e7505835cfedd05201509a19d301_cgraph.png" border="0" usemap="#main_8h_a5e52e7505835cfedd05201509a19d301_cgraph" alt=""/></div>
<map name="main_8h_a5e52e7505835cfedd05201509a19d301_cgraph" id="main_8h_a5e52e7505835cfedd05201509a19d301_cgraph">
<area shape="rect" id="node2" href="periodic_8c.html#ad9c12c89ef415b3c131f39f68534a974" title="periodic_event_reschedule" alt="" coords="196,13,372,39"/>
</map>
</div>

</div>
</div>
<a id="a5b11a4237598f0f5a4465578266d0d14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b11a4237598f0f5a4465578266d0d14">&#9670;&nbsp;</a></span>reschedule_dirvote()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reschedule_dirvote </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structor__options__t.html">or_options_t</a> *&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reschedule the directory-authority voting event. Run this whenever the schedule has changed. </p>

</div>
</div>
<a id="a99e4caa4cd2573a6e23e9980ae79547b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99e4caa4cd2573a6e23e9980ae79547b">&#9670;&nbsp;</a></span>reschedule_or_state_save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reschedule_or_state_save </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reschedule the event for saving the state file.</p>
<p>Run this when the state becomes dirty. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a99e4caa4cd2573a6e23e9980ae79547b_cgraph.png" border="0" usemap="#main_8h_a99e4caa4cd2573a6e23e9980ae79547b_cgraph" alt=""/></div>
<map name="main_8h_a99e4caa4cd2573a6e23e9980ae79547b_cgraph" id="main_8h_a99e4caa4cd2573a6e23e9980ae79547b_cgraph">
<area shape="rect" id="node2" href="periodic_8c.html#ad9c12c89ef415b3c131f39f68534a974" title="periodic_event_reschedule" alt="" coords="228,5,404,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a99e4caa4cd2573a6e23e9980ae79547b_icgraph.png" border="0" usemap="#main_8h_a99e4caa4cd2573a6e23e9980ae79547b_icgraph" alt=""/></div>
<map name="main_8h_a99e4caa4cd2573a6e23e9980ae79547b_icgraph" id="main_8h_a99e4caa4cd2573a6e23e9980ae79547b_icgraph">
<area shape="rect" id="node2" href="statefile_8c.html#a39484525485ab1d840b0f487e47b5944" title="or_state_mark_dirty" alt="" coords="228,5,365,32"/>
<area shape="rect" id="node3" href="main_8h.html#a4d28e76dd898a85ba3459928e3659954" title="tor_cleanup" alt="" coords="413,5,503,32"/>
</map>
</div>

</div>
</div>
<a id="aa282b01934a6c82ad6d2c27cf5140a85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa282b01934a6c82ad6d2c27cf5140a85">&#9670;&nbsp;</a></span>reschedule_per_second_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reschedule_per_second_timer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable or disable the per-second timer as appropriate, creating it if necessary. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_aa282b01934a6c82ad6d2c27cf5140a85_cgraph.png" border="0" usemap="#main_8h_aa282b01934a6c82ad6d2c27cf5140a85_cgraph" alt=""/></div>
<map name="main_8h_aa282b01934a6c82ad6d2c27cf5140a85_cgraph" id="main_8h_aa282b01934a6c82ad6d2c27cf5140a85_cgraph">
<area shape="rect" id="node2" href="compat__libevent_8c.html#a6dfc062052ad839b4bd0f4ea874e4028" title="periodic_timer_new" alt="" coords="212,13,347,39"/>
</map>
</div>

</div>
</div>
<a id="aa79d6ccbf076c44946971ac8dbbb5e1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa79d6ccbf076c44946971ac8dbbb5e1d">&#9670;&nbsp;</a></span>reset_all_main_loop_timers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_all_main_loop_timers </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset all the periodic events so we'll do all our actions again as if we just started up. Useful if our clock just moved back a long time from the future, so we don't wait until that future arrives again before acting. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_aa79d6ccbf076c44946971ac8dbbb5e1d_cgraph.png" border="0" usemap="#main_8h_aa79d6ccbf076c44946971ac8dbbb5e1d_cgraph" alt=""/></div>
<map name="main_8h_aa79d6ccbf076c44946971ac8dbbb5e1d_cgraph" id="main_8h_aa79d6ccbf076c44946971ac8dbbb5e1d_cgraph">
<area shape="rect" id="node2" href="periodic_8c.html#ad9c12c89ef415b3c131f39f68534a974" title="periodic_event_reschedule" alt="" coords="191,13,367,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_aa79d6ccbf076c44946971ac8dbbb5e1d_icgraph.png" border="0" usemap="#main_8h_aa79d6ccbf076c44946971ac8dbbb5e1d_icgraph" alt=""/></div>
<map name="main_8h_aa79d6ccbf076c44946971ac8dbbb5e1d_icgraph" id="main_8h_aa79d6ccbf076c44946971ac8dbbb5e1d_icgraph">
<area shape="rect" id="node2" href="circuitbuild_8h.html#ad0daecc03b3062716a6845b8a522d3da" title="circuit_note_clock\l_jumped" alt="" coords="191,5,317,47"/>
</map>
</div>

</div>
</div>
<a id="ad4cfbc2252dcc87b85061c590b4adb1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4cfbc2252dcc87b85061c590b4adb1c">&#9670;&nbsp;</a></span>reset_main_loop_counters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_main_loop_counters </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset our main loop counters. </p>

</div>
</div>
<a id="a0d2048d2c6e4ab00cb49e0deed579e56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d2048d2c6e4ab00cb49e0deed579e56">&#9670;&nbsp;</a></span>stats_increment_bytes_read_and_written()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stats_increment_bytes_read_and_written </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>w</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Increment the amount of network traffic read and written, over the life of this process. </p>

</div>
</div>
<a id="a4d28e76dd898a85ba3459928e3659954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d28e76dd898a85ba3459928e3659954">&#9670;&nbsp;</a></span>tor_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tor_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Do whatever cleanup is necessary before shutting Tor down. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a4d28e76dd898a85ba3459928e3659954_cgraph.png" border="0" usemap="#main_8h_a4d28e76dd898a85ba3459928e3659954_cgraph" alt=""/></div>
<map name="main_8h_a4d28e76dd898a85ba3459928e3659954_cgraph" id="main_8h_a4d28e76dd898a85ba3459928e3659954_cgraph">
<area shape="rect" id="node2" href="main_8c.html#acd962fecaae8f194c79ebe9dbc624b02" title="tor_remove_file" alt="" coords="185,5,295,32"/>
<area shape="rect" id="node3" href="control_8c.html#a9443fc62bda985f770ac05fe96fcd4f4" title="get_controller_cookie\l_file_name" alt="" coords="167,57,313,98"/>
<area shape="rect" id="node4" href="ext__orport_8c.html#a62142eb5d3bc38acbfc09824d56d1352" title="get_ext_or_auth_cookie\l_file_name" alt="" coords="160,122,320,163"/>
<area shape="rect" id="node5" href="hibernate_8c.html#a29048647250bdaf695f3cb261d467cb5" title="accounting_record_bandwidth\l_usage" alt="" coords="143,187,337,229"/>
<area shape="rect" id="node6" href="statefile_8c.html#a39484525485ab1d840b0f487e47b5944" title="or_state_mark_dirty" alt="" coords="171,253,309,280"/>
<area shape="rect" id="node9" href="statefile_8c.html#ab01c2dfe50dff6fe4be4e528c68033af" title="or_state_save" alt="" coords="188,304,292,331"/>
<area shape="rect" id="node10" href="router_8c.html#a2d62b1eeaa990670a04de8dfbb42ab8f" title="authdir_mode" alt="" coords="190,355,290,381"/>
<area shape="rect" id="node7" href="main_8c.html#a99e4caa4cd2573a6e23e9980ae79547b" title="reschedule_or_state_save" alt="" coords="385,253,560,280"/>
<area shape="rect" id="node8" href="periodic_8c.html#ad9c12c89ef415b3c131f39f68534a974" title="periodic_event_reschedule" alt="" coords="608,253,784,280"/>
</map>
</div>

</div>
</div>
<a id="adbb7a9c7572d86e408db43bd1c5cbb7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbb7a9c7572d86e408db43bd1c5cbb7b">&#9670;&nbsp;</a></span>tor_event_loop_shutdown_is_pending()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tor_event_loop_shutdown_is_pending </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff <a class="el" href="main_8c.html#a9ca79fee181d0c89fe92473cad0621d6">tor_shutdown_event_loop_and_exit()</a> has been called. </p>

</div>
</div>
<a id="a3d840759318fbf94fb7009cc0fba5c5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d840759318fbf94fb7009cc0fba5c5d">&#9670;&nbsp;</a></span>tor_free_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tor_free_all </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>postfork</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free all memory that we might have allocated somewhere. If <b>postfork</b>, we are a worker process and we want to free only the parts of memory that we won't touch. If !<b>postfork</b>, Tor is shutting down and we should free everything.</p>
<p>Helps us find the real leaks with dmalloc and the like. Also valgrind should then report 0 reachable in its leak report (in an ideal world &ndash; in practice libevent, SSL, libc etc never quite free everything). </p>

</div>
</div>
<a id="acd962fecaae8f194c79ebe9dbc624b02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd962fecaae8f194c79ebe9dbc624b02">&#9670;&nbsp;</a></span>tor_remove_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tor_remove_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove the specified file, and log a warning if the operation fails for any reason other than the file not existing. Ignores NULL filenames. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_acd962fecaae8f194c79ebe9dbc624b02_icgraph.png" border="0" usemap="#main_8h_acd962fecaae8f194c79ebe9dbc624b02_icgraph" alt=""/></div>
<map name="main_8h_acd962fecaae8f194c79ebe9dbc624b02_icgraph" id="main_8h_acd962fecaae8f194c79ebe9dbc624b02_icgraph">
<area shape="rect" id="node2" href="main_8h.html#a4d28e76dd898a85ba3459928e3659954" title="tor_cleanup" alt="" coords="164,5,253,32"/>
</map>
</div>

</div>
</div>
<a id="a9ca79fee181d0c89fe92473cad0621d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ca79fee181d0c89fe92473cad0621d6">&#9670;&nbsp;</a></span>tor_shutdown_event_loop_and_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tor_shutdown_event_loop_and_exit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>exitcode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>After finishing the current callback (if any), shut down the main loop, clean up the process, and exit with <b>exitcode</b>. </p>

</div>
</div>
<a id="a74db2eb78882d98d386071907fb43464"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74db2eb78882d98d386071907fb43464">&#9670;&nbsp;</a></span>try_locking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int try_locking </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structor__options__t.html">or_options_t</a> *&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err_if_locked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Try to grab the lock file described in <b>options</b>, if we do not already have it. If <b>err_if_locked</b> is true, warn if somebody else is holding the lock, and exit if we can't get it after waiting. Otherwise, return -1 if we can't get the lockfile. Return 0 on success. </p>

</div>
</div>
<a id="a765f755e15383b9204cbce97eeb3a633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a765f755e15383b9204cbce97eeb3a633">&#9670;&nbsp;</a></span>update_current_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update_current_time </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the current time to "now", which should be the value returned by time(). Check for clock jumps and track the total number of seconds we have been running. </p>
<p>How much clock jumping do we tolerate?</p>
<p>How much idleness do we tolerate? </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa2c30ee9d076a20132a5bc44dc2d91aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2c30ee9d076a20132a5bc44dc2d91aa">&#9670;&nbsp;</a></span>quiet_level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int quiet_level</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decides our behavior when no logs are configured/before any logs have been configured. For 0, we log notice to stdout as normal. For 1, we log warnings only. For 2, we log nothing. </p>

</div>
</div>
<a id="adf69cec97fa500244d34e702079fae1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf69cec97fa500244d34e702079fae1d">&#9670;&nbsp;</a></span>time_of_process_start</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t time_of_process_start</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>What time did this process start up? </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
