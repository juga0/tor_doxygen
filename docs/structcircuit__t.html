<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tor: circuit_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tor
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">circuit_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="or_8h_source.html">or.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for circuit_t:</div>
<div class="dyncontent">
<div class="center"><img src="structcircuit__t__coll__graph.png" border="0" usemap="#circuit__t_coll__map" alt="Collaboration graph"/></div>
<map name="circuit__t_coll__map" id="circuit__t_coll__map">
<area shape="rect" id="node8" href="structcircuitmux__policy__s.html" title="circuitmux_policy_s" alt="" coords="936,473,1073,500"/>
<area shape="rect" id="node2" href="structextend__info__t.html" title="extend_info_t" alt="" coords="344,100,444,127"/>
<area shape="rect" id="node6" href="structcircuitmux__s.html" title="circuitmux_s" alt="" coords="1168,353,1264,380"/>
<area shape="rect" id="node11" href="structchannel__s.html" title="channel_s" alt="" coords="1349,240,1431,267"/>
<area shape="rect" id="node12" href="structtimeout.html" title="timeout" alt="" coords="495,552,561,579"/>
<area shape="rect" id="node4" href="structcrypto__pk__t.html" title="crypto_pk_t" alt="" coords="35,87,126,113"/>
<area shape="rect" id="node5" href="structed25519__public__key__t.html" title="ed25519_public_key_t" alt="" coords="5,21,156,48"/>
<area shape="rect" id="node7" href="structcircuitmux__policy__data__s.html" title="circuitmux_policy_data_s" alt="" coords="605,436,775,463"/>
<area shape="rect" id="node9" href="structcircuitmux__policy__circ__data__s.html" title="circuitmux_policy_circ\l_data_s" alt="" coords="615,510,765,551"/>
<area shape="rect" id="node10" href="structsmartlist__t.html" title="smartlist_t" alt="" coords="353,228,435,255"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aba34714349c3d2ef085eb1b8e87d0fc8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#aba34714349c3d2ef085eb1b8e87d0fc8">HT_ENTRY</a> (<a class="el" href="structcircuit__t.html">circuit_t</a>) hs_circuitmap_node</td></tr>
<tr class="separator:aba34714349c3d2ef085eb1b8e87d0fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a57f54349f4fd1cbbb52058812e146af2"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a57f54349f4fd1cbbb52058812e146af2">magic</a></td></tr>
<tr class="separator:a57f54349f4fd1cbbb52058812e146af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed1ad81cc9a4c3fcf54dbd94b6c3129f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structchannel__s.html">channel_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#aed1ad81cc9a4c3fcf54dbd94b6c3129f">n_chan</a></td></tr>
<tr class="separator:aed1ad81cc9a4c3fcf54dbd94b6c3129f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7c21bd5b1f223e0749d8065c8214ea2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="or_8h.html#a6607d3e1cd2b5deca02212435116a2ac">circid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#af7c21bd5b1f223e0749d8065c8214ea2">n_circ_id</a></td></tr>
<tr class="separator:af7c21bd5b1f223e0749d8065c8214ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab448803a0cf173d44cdfe043e6bec192"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcircuitmux__s.html">circuitmux_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#ab448803a0cf173d44cdfe043e6bec192">n_mux</a></td></tr>
<tr class="separator:ab448803a0cf173d44cdfe043e6bec192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56594dc70f6c2a233ed7be16979ee056"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcell__queue__t.html">cell_queue_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a56594dc70f6c2a233ed7be16979ee056">n_chan_cells</a></td></tr>
<tr class="separator:a56594dc70f6c2a233ed7be16979ee056"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef696478b9cdc6eefe93444d21621e36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structextend__info__t.html">extend_info_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#aef696478b9cdc6eefe93444d21621e36">n_hop</a></td></tr>
<tr class="separator:aef696478b9cdc6eefe93444d21621e36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48e2701cd9a1fc21efa704d2c77e6a93"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a48e2701cd9a1fc21efa704d2c77e6a93">streams_blocked_on_n_chan</a>: 1</td></tr>
<tr class="separator:a48e2701cd9a1fc21efa704d2c77e6a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb500d846222a614c6bd8449b680e862"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#aeb500d846222a614c6bd8449b680e862">streams_blocked_on_p_chan</a>: 1</td></tr>
<tr class="separator:aeb500d846222a614c6bd8449b680e862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a056015686cb0431370d73f56b3cf194b"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a056015686cb0431370d73f56b3cf194b">p_delete_pending</a>: 1</td></tr>
<tr class="separator:a056015686cb0431370d73f56b3cf194b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8faddecec386f5b6a8f506147f8b341"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#ab8faddecec386f5b6a8f506147f8b341">n_delete_pending</a>: 1</td></tr>
<tr class="separator:ab8faddecec386f5b6a8f506147f8b341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75716eddfbe41ebcc8eafd99e0cd02e9"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a75716eddfbe41ebcc8eafd99e0cd02e9">received_destroy</a>: 1</td></tr>
<tr class="separator:a75716eddfbe41ebcc8eafd99e0cd02e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b57aa10271a66f3dc936bba1d2f3830"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a0b57aa10271a66f3dc936bba1d2f3830">state</a></td></tr>
<tr class="separator:a0b57aa10271a66f3dc936bba1d2f3830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a823d52c11f220ee6f7833d898f40814d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a823d52c11f220ee6f7833d898f40814d">purpose</a></td></tr>
<tr class="separator:a823d52c11f220ee6f7833d898f40814d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca0daaf7b1351448f0b2008adadcbc4e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#aca0daaf7b1351448f0b2008adadcbc4e">package_window</a></td></tr>
<tr class="separator:aca0daaf7b1351448f0b2008adadcbc4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0763096fa3fc513733edb715d710e71"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#ac0763096fa3fc513733edb715d710e71">deliver_window</a></td></tr>
<tr class="separator:ac0763096fa3fc513733edb715d710e71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03b2f5dd8c75fb022979f3fe37ce7e8b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a03b2f5dd8c75fb022979f3fe37ce7e8b">age_tmp</a></td></tr>
<tr class="separator:a03b2f5dd8c75fb022979f3fe37ce7e8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fa25ec9345bfefcccd85995edde5e3a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcreate__cell__t.html">create_cell_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a2fa25ec9345bfefcccd85995edde5e3a">n_chan_create_cell</a></td></tr>
<tr class="separator:a2fa25ec9345bfefcccd85995edde5e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbb2e46f9f13977dd670dadc7d7e78db"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structtimeval.html">timeval</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#abbb2e46f9f13977dd670dadc7d7e78db">timestamp_began</a></td></tr>
<tr class="separator:abbb2e46f9f13977dd670dadc7d7e78db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae71d500822f8f704698a17d773f2e4f0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structtimeval.html">timeval</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#ae71d500822f8f704698a17d773f2e4f0">timestamp_created</a></td></tr>
<tr class="separator:ae71d500822f8f704698a17d773f2e4f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5467097e8ab495361ca54c4a2bbb6165"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a5467097e8ab495361ca54c4a2bbb6165">timestamp_dirty</a></td></tr>
<tr class="separator:a5467097e8ab495361ca54c4a2bbb6165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76953435a11c6a793e65bf00acde6c9b"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a76953435a11c6a793e65bf00acde6c9b">marked_for_close</a></td></tr>
<tr class="separator:a76953435a11c6a793e65bf00acde6c9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e1234f5dd2162296edf7455de3b62ff"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a8e1234f5dd2162296edf7455de3b62ff">marked_for_close_file</a></td></tr>
<tr class="separator:a8e1234f5dd2162296edf7455de3b62ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0969be4d0bea947b072c97b0a3c4b5b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a0969be4d0bea947b072c97b0a3c4b5b1">marked_for_close_reason</a></td></tr>
<tr class="separator:a0969be4d0bea947b072c97b0a3c4b5b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28ee2bf701a4649ba6b0b94fe25687cc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a28ee2bf701a4649ba6b0b94fe25687cc">marked_for_close_orig_reason</a></td></tr>
<tr class="separator:a28ee2bf701a4649ba6b0b94fe25687cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d038ff41124a7bf0ee017cf5c2f7623"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a4d038ff41124a7bf0ee017cf5c2f7623">dirreq_id</a></td></tr>
<tr class="separator:a4d038ff41124a7bf0ee017cf5c2f7623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17110c053ea9791403dbf71b039089d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a17110c053ea9791403dbf71b039089d4">global_circuitlist_idx</a></td></tr>
<tr class="separator:a17110c053ea9791403dbf71b039089d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae395d6e2a71521f390703d83a1f71924"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#ae395d6e2a71521f390703d83a1f71924">testing_cell_stats</a></td></tr>
<tr class="separator:ae395d6e2a71521f390703d83a1f71924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cfb8e46cfe2cd1e0e25d67224cfdb10"><td class="memItemLeft" align="right" valign="top">hs_token_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcircuit__t.html#a6cfb8e46cfe2cd1e0e25d67224cfdb10">hs_token</a></td></tr>
<tr class="separator:a6cfb8e46cfe2cd1e0e25d67224cfdb10"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A circuit is a path over the onion routing network. Applications can connect to one end of the circuit, and can create exit connections at the other end of the circuit. AP and exit connections have only one circuit associated with them (and thus these connection types are closed when the circuit is closed), whereas OR connections multiplex many circuits at once, and stay standing even when there are no circuits running over them.</p>
<p>A <a class="el" href="structcircuit__t.html">circuit_t</a> structure can fill one of two roles. First, a <a class="el" href="structor__circuit__t.html">or_circuit_t</a> links two connections together: either an edge connection and an OR connection, or two OR connections. (When joined to an OR connection, a <a class="el" href="structcircuit__t.html">circuit_t</a> affects only cells sent to a particular circID on that connection. When joined to an edge connection, a <a class="el" href="structcircuit__t.html">circuit_t</a> affects all data.)</p>
<p>Second, an <a class="el" href="structorigin__circuit__t.html">origin_circuit_t</a> holds the cipher keys and state for sending data along a given circuit. At the OP, it has a sequence of ciphers, each of which is shared with a single OR along the circuit. Separate ciphers are used for data going "forward" (away from the OP) and "backward" (towards the OP). At the OR, a circuit has only two stream ciphers: one for data going forward, and one for data going backward. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aba34714349c3d2ef085eb1b8e87d0fc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba34714349c3d2ef085eb1b8e87d0fc8">&#9670;&nbsp;</a></span>HT_ENTRY()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HT_ENTRY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcircuit__t.html">circuit_t</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hashtable node: used to look up the circuit by its HS token using the HS circuitmap. </p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="a03b2f5dd8c75fb022979f3fe37ce7e8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03b2f5dd8c75fb022979f3fe37ce7e8b">&#9670;&nbsp;</a></span>age_tmp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t age_tmp</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Temporary field used during circuits_handle_oom. </p>

</div>
</div>
<a id="ac0763096fa3fc513733edb715d710e71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0763096fa3fc513733edb715d710e71">&#9670;&nbsp;</a></span>deliver_window</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int deliver_window</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>How many relay data cells will we deliver (write to edge streams) on this circuit? When deliver_window gets low, we send some circuit-level sendme cells to indicate that we're willing to accept more. </p>

</div>
</div>
<a id="a4d038ff41124a7bf0ee017cf5c2f7623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d038ff41124a7bf0ee017cf5c2f7623">&#9670;&nbsp;</a></span>dirreq_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t dirreq_id</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unique ID for measuring tunneled network status requests. </p>

</div>
</div>
<a id="a17110c053ea9791403dbf71b039089d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17110c053ea9791403dbf71b039089d4">&#9670;&nbsp;</a></span>global_circuitlist_idx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int global_circuitlist_idx</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Index in smartlist of all circuits (global_circuitlist). </p>

</div>
</div>
<a id="a6cfb8e46cfe2cd1e0e25d67224cfdb10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cfb8e46cfe2cd1e0e25d67224cfdb10">&#9670;&nbsp;</a></span>hs_token</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hs_token_t* hs_token</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If set, points to an HS token that this circuit might be carrying. Used by the HS circuitmap. </p>

</div>
</div>
<a id="a57f54349f4fd1cbbb52058812e146af2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57f54349f4fd1cbbb52058812e146af2">&#9670;&nbsp;</a></span>magic</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t magic</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For memory and type debugging: must equal ORIGIN_CIRCUIT_MAGIC or OR_CIRCUIT_MAGIC. </p>

</div>
</div>
<a id="a76953435a11c6a793e65bf00acde6c9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76953435a11c6a793e65bf00acde6c9b">&#9670;&nbsp;</a></span>marked_for_close</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t marked_for_close</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Should we close this circuit at the end of the main loop? (If true, holds the line number where this circuit was marked.) </p>

</div>
</div>
<a id="a8e1234f5dd2162296edf7455de3b62ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e1234f5dd2162296edf7455de3b62ff">&#9670;&nbsp;</a></span>marked_for_close_file</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* marked_for_close_file</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For debugging: in which file was this circuit marked for close? </p>

</div>
</div>
<a id="a28ee2bf701a4649ba6b0b94fe25687cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28ee2bf701a4649ba6b0b94fe25687cc">&#9670;&nbsp;</a></span>marked_for_close_orig_reason</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int marked_for_close_orig_reason</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As marked_for_close_reason, but reflects the underlying reason for closing this circuit. </p>

</div>
</div>
<a id="a0969be4d0bea947b072c97b0a3c4b5b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0969be4d0bea947b072c97b0a3c4b5b1">&#9670;&nbsp;</a></span>marked_for_close_reason</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int marked_for_close_reason</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For what reason (See END_CIRC_REASON...) is this circuit being closed? This field is set in circuit_mark_for_close and used later in circuit_about_to_free. </p>

</div>
</div>
<a id="aed1ad81cc9a4c3fcf54dbd94b6c3129f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed1ad81cc9a4c3fcf54dbd94b6c3129f">&#9670;&nbsp;</a></span>n_chan</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structchannel__s.html">channel_t</a>* n_chan</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The channel that is next in this circuit. </p>

</div>
</div>
<a id="a56594dc70f6c2a233ed7be16979ee056"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56594dc70f6c2a233ed7be16979ee056">&#9670;&nbsp;</a></span>n_chan_cells</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcell__queue__t.html">cell_queue_t</a> n_chan_cells</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queue of cells waiting to be transmitted on n_chan </p>

</div>
</div>
<a id="a2fa25ec9345bfefcccd85995edde5e3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fa25ec9345bfefcccd85995edde5e3a">&#9670;&nbsp;</a></span>n_chan_create_cell</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcreate__cell__t.html">create_cell_t</a>* n_chan_create_cell</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For storage while n_chan is pending (state CIRCUIT_STATE_CHAN_WAIT). </p>

</div>
</div>
<a id="af7c21bd5b1f223e0749d8065c8214ea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7c21bd5b1f223e0749d8065c8214ea2">&#9670;&nbsp;</a></span>n_circ_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="or_8h.html#a6607d3e1cd2b5deca02212435116a2ac">circid_t</a> n_circ_id</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The circuit_id used in the next (forward) hop of this circuit; this is unique to n_chan, but this ordered pair is globally unique:</p>
<p>(n_chan-&gt;global_identifier, n_circ_id) </p>

</div>
</div>
<a id="ab8faddecec386f5b6a8f506147f8b341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8faddecec386f5b6a8f506147f8b341">&#9670;&nbsp;</a></span>n_delete_pending</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int n_delete_pending</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>True iff we have queued a delete forwards on this circuit, but not put it on the output buffer. </p>

</div>
</div>
<a id="aef696478b9cdc6eefe93444d21621e36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef696478b9cdc6eefe93444d21621e36">&#9670;&nbsp;</a></span>n_hop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structextend__info__t.html">extend_info_t</a>* n_hop</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The hop to which we want to extend this circuit. Should be NULL if the circuit has attached to a channel. </p>

</div>
</div>
<a id="ab448803a0cf173d44cdfe043e6bec192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab448803a0cf173d44cdfe043e6bec192">&#9670;&nbsp;</a></span>n_mux</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcircuitmux__s.html">circuitmux_t</a>* n_mux</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Circuit mux associated with n_chan to which this circuit is attached; NULL if we have no n_chan. </p>

</div>
</div>
<a id="a056015686cb0431370d73f56b3cf194b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a056015686cb0431370d73f56b3cf194b">&#9670;&nbsp;</a></span>p_delete_pending</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int p_delete_pending</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>True iff we have queued a delete backwards on this circuit, but not put it on the output buffer. </p>

</div>
</div>
<a id="aca0daaf7b1351448f0b2008adadcbc4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca0daaf7b1351448f0b2008adadcbc4e">&#9670;&nbsp;</a></span>package_window</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int package_window</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>How many relay data cells can we package (read from edge streams) on this circuit before we receive a circuit-level sendme cell asking for more? </p>

</div>
</div>
<a id="a823d52c11f220ee6f7833d898f40814d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a823d52c11f220ee6f7833d898f40814d">&#9670;&nbsp;</a></span>purpose</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t purpose</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Why are we creating this circuit? </p>

</div>
</div>
<a id="a75716eddfbe41ebcc8eafd99e0cd02e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75716eddfbe41ebcc8eafd99e0cd02e9">&#9670;&nbsp;</a></span>received_destroy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int received_destroy</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>True iff this circuit has received a DESTROY cell in either direction </p>

</div>
</div>
<a id="a0b57aa10271a66f3dc936bba1d2f3830"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b57aa10271a66f3dc936bba1d2f3830">&#9670;&nbsp;</a></span>state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t state</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Current status of this circuit. </p>

</div>
</div>
<a id="a48e2701cd9a1fc21efa704d2c77e6a93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48e2701cd9a1fc21efa704d2c77e6a93">&#9670;&nbsp;</a></span>streams_blocked_on_n_chan</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int streams_blocked_on_n_chan</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>True iff we are waiting for n_chan_cells to become less full before allowing p_streams to add any more cells. (Origin circuit only.) </p>

</div>
</div>
<a id="aeb500d846222a614c6bd8449b680e862"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb500d846222a614c6bd8449b680e862">&#9670;&nbsp;</a></span>streams_blocked_on_p_chan</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int streams_blocked_on_p_chan</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>True iff we are waiting for p_chan_cells to become less full before allowing n_streams to add any more cells. (OR circuit only.) </p>

</div>
</div>
<a id="ae395d6e2a71521f390703d83a1f71924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae395d6e2a71521f390703d83a1f71924">&#9670;&nbsp;</a></span>testing_cell_stats</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsmartlist__t.html">smartlist_t</a>* testing_cell_stats</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Various statistics about cells being added to or removed from this circuit's queues; used only if CELL_STATS events are enabled and cleared after being sent to control port. </p>

</div>
</div>
<a id="abbb2e46f9f13977dd670dadc7d7e78db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbb2e46f9f13977dd670dadc7d7e78db">&#9670;&nbsp;</a></span>timestamp_began</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtimeval.html">timeval</a> timestamp_began</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When did circuit construction actually begin (ie send the CREATE cell or begin cannibalization).</p>
<p>Note: This timer will get reset if we decide to cannibalize a circuit. It may also get reset during certain phases of hidden service circuit use.</p>
<p>We keep this timestamp with a higher resolution than most so that the circuit-build-time tracking code can get millisecond resolution. </p>

</div>
</div>
<a id="ae71d500822f8f704698a17d773f2e4f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae71d500822f8f704698a17d773f2e4f0">&#9670;&nbsp;</a></span>timestamp_created</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtimeval.html">timeval</a> timestamp_created</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This timestamp marks when the init_circuit_base constructor ran. </p>

</div>
</div>
<a id="a5467097e8ab495361ca54c4a2bbb6165"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5467097e8ab495361ca54c4a2bbb6165">&#9670;&nbsp;</a></span>timestamp_dirty</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t timestamp_dirty</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When the circuit was first used, or 0 if the circuit is clean.</p>
<p>XXXX Note that some code will artificially adjust this value backward in time in order to indicate that a circuit shouldn't be used for new streams, but that it can stay alive as long as it has streams on it. That's a kludge we should fix.</p>
<p>XXX The CBT code uses this field to record when HS-related circuits entered certain states. This usage probably won't interfere with this field's primary purpose, but we should document it more thoroughly to make sure of that.</p>
<p>XXX The SocksPort option KeepaliveIsolateSOCKSAuth will artificially adjust this value forward each time a suitable stream is attached to an already constructed circuit, potentially keeping the circuit alive indefinitely. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/user/_my/code/bwauth-related/tor/src/or/<a class="el" href="or_8h_source.html">or.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
