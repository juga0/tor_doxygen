<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tor: /home/user/_my/code/bwauth-related/tor/src/or/protover.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tor
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97b64286d42c5ef1697cb5f17129db19.html">tor</a></li><li class="navelem"><a class="el" href="dir_3cb0ba3f4b82dbe34a1a06276e96bc8d.html">src</a></li><li class="navelem"><a class="el" href="dir_386635fabd7f6c74e9d9c7a8604514a0.html">or</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">protover.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Versioning information for different pieces of the Tor protocol.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="or_8h_source.html">or.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="protover_8h_source.html">protover.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="routerparse_8h_source.html">routerparse.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for protover.c:</div>
<div class="dyncontent">
<div class="center"><img src="protover_8c__incl.png" border="0" usemap="#_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2protover_8c" alt=""/></div>
<map name="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2protover_8c" id="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2protover_8c">
<area shape="rect" id="node2" href="or_8h.html" title="Master header file for Tor&#45;specific functionality. " alt="" coords="1458,109,1502,136"/>
<area shape="rect" id="node41" href="protover_8h.html" title="Headers and type declarations for protover.c. " alt="" coords="1876,109,1956,136"/>
<area shape="rect" id="node42" href="routerparse_8h.html" title="Header file for routerparse.c. " alt="" coords="1980,109,2079,136"/>
<area shape="rect" id="node3" href="orconfig_8h_source.html" title="orconfig.h" alt="" coords="1813,931,1891,957"/>
<area shape="rect" id="node4" href="torint_8h.html" title="Header file to define uint32_t and friends. " alt="" coords="414,856,477,883"/>
<area shape="rect" id="node6" href="crypto_8h.html" title="Headers for crypto.c. " alt="" coords="1204,259,1273,285"/>
<area shape="rect" id="node20" href="container_8h_source.html" title="container.h" alt="" coords="1762,483,1849,509"/>
<area shape="rect" id="node22" href="torlog_8h.html" title="Headers for log.c. " alt="" coords="1671,483,1737,509"/>
<area shape="rect" id="node23" href="crypto__format_8h_source.html" title="crypto_format.h" alt="" coords="1017,184,1130,211"/>
<area shape="rect" id="node24" href="crypto__ed25519_8h_source.html" title="crypto_ed25519.h" alt="" coords="989,259,1115,285"/>
<area shape="rect" id="node25" href="crypto__curve25519_8h_source.html" title="crypto_curve25519.h" alt="" coords="542,333,685,360"/>
<area shape="rect" id="node28" href="tortls_8h.html" title="Headers for tortls.c. " alt="" coords="1509,259,1571,285"/>
<area shape="rect" id="node31" href="compress_8h.html" title="Headers for compress.c. " alt="" coords="1327,184,1417,211"/>
<area shape="rect" id="node32" href="address_8h.html" title="Headers for address.h. " alt="" coords="1863,408,1942,435"/>
<area shape="rect" id="node33" href="compat__libevent_8h_source.html" title="compat_libevent.h" alt="" coords="2079,781,2207,808"/>
<area shape="rect" id="node34" href="ht_8h_source.html" title="ht.h" alt="" coords="1543,184,1587,211"/>
<area shape="rect" id="node35" href="confline_8h_source.html" title="confline.h" alt="" coords="1641,259,1719,285"/>
<area shape="rect" id="node36" href="replaycache_8h.html" title="Header file for replaycache.c. " alt="" coords="1611,184,1714,211"/>
<area shape="rect" id="node37" href="tor__queue_8h_source.html" title="tor_queue.h" alt="" coords="1739,184,1829,211"/>
<area shape="rect" id="node38" href="token__bucket_8h_source.html" title="token_bucket.h" alt="" coords="517,781,627,808"/>
<area shape="rect" id="node39" href="util__format_8h_source.html" title="util_format.h" alt="" coords="398,781,493,808"/>
<area shape="rect" id="node40" href="hs__circuitmap_8h.html" title="Header file for hs_circuitmap.c. " alt="" coords="1904,184,2019,211"/>
<area shape="rect" id="node8" href="compat_8h_source.html" title="compat.h" alt="" coords="1467,707,1543,733"/>
<area shape="rect" id="node14" href="util_8h.html" title="Headers for util.c. " alt="" coords="1027,557,1077,584"/>
<area shape="rect" id="node18" href="crypto__rsa_8h.html" title="Headers for crypto_rsa.c. " alt="" coords="1255,333,1350,360"/>
<area shape="rect" id="node9" href="testsupport_8h_source.html" title="testsupport.h" alt="" coords="1253,856,1352,883"/>
<area shape="rect" id="node11" href="compat__time_8h.html" title="Functions and types for monotonic times. " alt="" coords="1845,856,1953,883"/>
<area shape="rect" id="node13" href="compat__threads_8h_source.html" title="compat_threads.h" alt="" coords="1442,781,1569,808"/>
<area shape="rect" id="node15" href="di__ops_8h.html" title="Headers for di_ops.c. " alt="" coords="890,781,961,808"/>
<area shape="rect" id="node17" href="util__bug_8h.html" title="Macros to manage assertions, fatal and non&#45;fatal. " alt="" coords="1085,632,1163,659"/>
<area shape="rect" id="node19" href="crypto__digest_8h.html" title="Headers for crypto_digest.c. " alt="" coords="523,408,634,435"/>
<area shape="rect" id="node21" href="siphash_8h_source.html" title="siphash.h" alt="" coords="1770,557,1849,584"/>
<area shape="rect" id="node26" href="crypto__openssl__mgt_8h_source.html" title="crypto_openssl_mgt.h" alt="" coords="829,408,979,435"/>
<area shape="rect" id="node29" href="compat__openssl_8h.html" title="compatibility definitions for working with different openssl forks " alt="" coords="1476,333,1604,360"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab534c4d5a0a529b65bbf30f6fc4c6f54"><td class="memItemLeft" align="right" valign="top"><a id="ab534c4d5a0a529b65bbf30f6fc4c6f54"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PROTOVER_PRIVATE</b></td></tr>
<tr class="separator:ab534c4d5a0a529b65bbf30f6fc4c6f54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bac1fe1d4978e99576d6c23e8906173"><td class="memItemLeft" align="right" valign="top"><a id="a1bac1fe1d4978e99576d6c23e8906173"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>N_PROTOCOL_NAMES</b>&#160;&#160;&#160;ARRAY_LENGTH(PROTOCOL_NAMES)</td></tr>
<tr class="separator:a1bac1fe1d4978e99576d6c23e8906173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4993eafae279c4468a1f600f8a9a2123"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protover_8c.html#a4993eafae279c4468a1f600f8a9a2123">MAX_PROTOCOL_VERSION</a>&#160;&#160;&#160;(UINT32_MAX-1)</td></tr>
<tr class="separator:a4993eafae279c4468a1f600f8a9a2123"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a01b49215de09bc4ebfceb46d991a02f3"><td class="memItemLeft" align="right" valign="top">STATIC const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protover_8c.html#a01b49215de09bc4ebfceb46d991a02f3">protocol_type_to_str</a> (<a class="el" href="protover_8h.html#a932bee6e7c2e702a8cce14cfd728ba92">protocol_type_t</a> pr)</td></tr>
<tr class="separator:a01b49215de09bc4ebfceb46d991a02f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6111963bd062d616cf862762cdaf3a2"><td class="memItemLeft" align="right" valign="top">STATIC int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protover_8c.html#af6111963bd062d616cf862762cdaf3a2">str_to_protocol_type</a> (const char *s, <a class="el" href="protover_8h.html#a932bee6e7c2e702a8cce14cfd728ba92">protocol_type_t</a> *pr_out)</td></tr>
<tr class="separator:af6111963bd062d616cf862762cdaf3a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a339d1db8ddfe6b6cc308f5eacc059f58"><td class="memItemLeft" align="right" valign="top">STATIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protover_8c.html#a339d1db8ddfe6b6cc308f5eacc059f58">proto_entry_free_</a> (proto_entry_t *entry)</td></tr>
<tr class="separator:a339d1db8ddfe6b6cc308f5eacc059f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad786a6cc6895b76026179292fe0d39ad"><td class="memItemLeft" align="right" valign="top">STATIC <a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protover_8c.html#ad786a6cc6895b76026179292fe0d39ad">parse_protocol_list</a> (const char *s)</td></tr>
<tr class="separator:ad786a6cc6895b76026179292fe0d39ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c8395ce78704a29631050334087ab9d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protover_8c.html#a9c8395ce78704a29631050334087ab9d">protover_contains_long_protocol_names</a> (const char *s)</td></tr>
<tr class="separator:a9c8395ce78704a29631050334087ab9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71ea5e9f76ace1190227c696657def55"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protover_8c.html#a71ea5e9f76ace1190227c696657def55">protover_is_supported_here</a> (<a class="el" href="protover_8h.html#a932bee6e7c2e702a8cce14cfd728ba92">protocol_type_t</a> pr, uint32_t ver)</td></tr>
<tr class="separator:a71ea5e9f76ace1190227c696657def55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82c169e6b51ef74fff02c0d43734d118"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protover_8c.html#a82c169e6b51ef74fff02c0d43734d118">protocol_list_supports_protocol</a> (const char *list, <a class="el" href="protover_8h.html#a932bee6e7c2e702a8cce14cfd728ba92">protocol_type_t</a> tp, uint32_t version)</td></tr>
<tr class="separator:a82c169e6b51ef74fff02c0d43734d118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1b923963d510522ad8754aab3796965"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protover_8c.html#aa1b923963d510522ad8754aab3796965">protocol_list_supports_protocol_or_later</a> (const char *list, <a class="el" href="protover_8h.html#a932bee6e7c2e702a8cce14cfd728ba92">protocol_type_t</a> tp, uint32_t version)</td></tr>
<tr class="separator:aa1b923963d510522ad8754aab3796965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ce59e88ba6eec717cad6cfaee118ff6"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protover_8c.html#a4ce59e88ba6eec717cad6cfaee118ff6">protover_get_supported_protocols</a> (void)</td></tr>
<tr class="memdesc:a4ce59e88ba6eec717cad6cfaee118ff6"><td class="mdescLeft">&#160;</td><td class="mdescRight">C_RUST_COUPLED: src/rust/protover/protover.rs <code>SUPPORTED_PROTOCOLS</code>  <a href="#a4ce59e88ba6eec717cad6cfaee118ff6">More...</a><br /></td></tr>
<tr class="separator:a4ce59e88ba6eec717cad6cfaee118ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7b23f286ab38a93ae9448d944ffff9"><td class="memItemLeft" align="right" valign="top">STATIC char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protover_8c.html#aac7b23f286ab38a93ae9448d944ffff9">encode_protocol_list</a> (const <a class="el" href="structsmartlist__t.html">smartlist_t</a> *sl)</td></tr>
<tr class="separator:aac7b23f286ab38a93ae9448d944ffff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa28fb6499696543d0c8c1923f92ed8c4"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protover_8c.html#aa28fb6499696543d0c8c1923f92ed8c4">protover_compute_vote</a> (const <a class="el" href="structsmartlist__t.html">smartlist_t</a> *list_of_proto_strings, int threshold)</td></tr>
<tr class="separator:aa28fb6499696543d0c8c1923f92ed8c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff345aeeef69cc3d3c9f25b049920398"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protover_8c.html#aff345aeeef69cc3d3c9f25b049920398">protover_all_supported</a> (const char *s, char **missing_out)</td></tr>
<tr class="separator:aff345aeeef69cc3d3c9f25b049920398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14cfeb2deba8e3104fc9ca36778312d9"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protover_8c.html#a14cfeb2deba8e3104fc9ca36778312d9">protover_compute_for_old_tor</a> (const char *version)</td></tr>
<tr class="memdesc:a14cfeb2deba8e3104fc9ca36778312d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">C_RUST_COUPLED: src/rust/protover/protover.rs <code>compute_for_old_tor</code>  <a href="#a14cfeb2deba8e3104fc9ca36778312d9">More...</a><br /></td></tr>
<tr class="separator:a14cfeb2deba8e3104fc9ca36778312d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a580be9a5d065eabe1efc80ae787f4672"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protover_8c.html#a580be9a5d065eabe1efc80ae787f4672">protover_free_all</a> (void)</td></tr>
<tr class="separator:a580be9a5d065eabe1efc80ae787f4672"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Versioning information for different pieces of the Tor protocol. </p>
<p>Starting in version 0.2.9.3-alpha, Tor places separate version numbers on each of the different components of its protocol. Relays use these numbers to advertise what versions of the protocols they can support, and clients use them to find what they can ask a given relay to do. Authorities vote on the supported protocol versions for each relay, and also vote on the which protocols you should have to support in order to be on the Tor network. All Tor instances use these required/recommended protocol versions to tell what level of support for recent protocols each relay has, and to decide whether they should be running given their current protocols.</p>
<p>The main advantage of these protocol versions numbers over using Tor version numbers is that they allow different implementations of the Tor protocols to develop independently, without having to claim compatibility with specific versions of Tor. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a4993eafae279c4468a1f600f8a9a2123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4993eafae279c4468a1f600f8a9a2123">&#9670;&nbsp;</a></span>MAX_PROTOCOL_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PROTOCOL_VERSION&#160;&#160;&#160;(UINT32_MAX-1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The largest possible protocol version. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aac7b23f286ab38a93ae9448d944ffff9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac7b23f286ab38a93ae9448d944ffff9">&#9670;&nbsp;</a></span>encode_protocol_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC char* encode_protocol_list </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>sl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a list of space-separated proto_entry_t items, encode it into a newly allocated space-separated string. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="protover_8c_aac7b23f286ab38a93ae9448d944ffff9_cgraph.png" border="0" usemap="#protover_8c_aac7b23f286ab38a93ae9448d944ffff9_cgraph" alt=""/></div>
<map name="protover_8c_aac7b23f286ab38a93ae9448d944ffff9_cgraph" id="protover_8c_aac7b23f286ab38a93ae9448d944ffff9_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a95ad8dd258dec01eebc504928e6df180" title="smartlist_add_strdup" alt="" coords="195,5,337,32"/>
</map>
</div>

</div>
</div>
<a id="ad786a6cc6895b76026179292fe0d39ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad786a6cc6895b76026179292fe0d39ad">&#9670;&nbsp;</a></span>parse_protocol_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC <a class="el" href="structsmartlist__t.html">smartlist_t</a>* parse_protocol_list </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse the protocol list from <b>s</b> and return it as a smartlist of proto_entry_t </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="protover_8c_ad786a6cc6895b76026179292fe0d39ad_icgraph.png" border="0" usemap="#protover_8c_ad786a6cc6895b76026179292fe0d39ad_icgraph" alt=""/></div>
<map name="protover_8c_ad786a6cc6895b76026179292fe0d39ad_icgraph" id="protover_8c_ad786a6cc6895b76026179292fe0d39ad_icgraph">
<area shape="rect" id="node2" href="protover_8h.html#a9c8395ce78704a29631050334087ab9d" title="protover_contains_long\l_protocol_names" alt="" coords="185,5,341,47"/>
<area shape="rect" id="node3" href="protover_8h.html#a82c169e6b51ef74fff02c0d43734d118" title="protocol_list_supports\l_protocol" alt="" coords="189,71,338,112"/>
<area shape="rect" id="node5" href="protover_8h.html#aa1b923963d510522ad8754aab3796965" title="protocol_list_supports\l_protocol_or_later" alt="" coords="189,136,338,177"/>
<area shape="rect" id="node6" href="protover_8h.html#aa28fb6499696543d0c8c1923f92ed8c4" title="protover_compute_vote" alt="" coords="184,202,343,229"/>
<area shape="rect" id="node7" href="protover_8h.html#a59c4f8d7d59f4ce0714096fb4ca67071" title="protover_all_supported" alt="" coords="187,253,340,279"/>
<area shape="rect" id="node4" href="routerparse_8c.html#a3fe59c4a0303366c3de158b6e59006cf" title="summarize_protover\l_flags" alt="" coords="391,71,531,112"/>
</map>
</div>

</div>
</div>
<a id="a339d1db8ddfe6b6cc308f5eacc059f58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a339d1db8ddfe6b6cc308f5eacc059f58">&#9670;&nbsp;</a></span>proto_entry_free_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC void proto_entry_free_ </td>
          <td>(</td>
          <td class="paramtype">proto_entry_t *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release all space held by a single proto_entry_t structure </p>

</div>
</div>
<a id="a82c169e6b51ef74fff02c0d43734d118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82c169e6b51ef74fff02c0d43734d118">&#9670;&nbsp;</a></span>protocol_list_supports_protocol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int protocol_list_supports_protocol </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="protover_8h.html#a932bee6e7c2e702a8cce14cfd728ba92">protocol_type_t</a>&#160;</td>
          <td class="paramname"><em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff "list" encodes a protocol list that includes support for the indicated protocol and version. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="protover_8c_a82c169e6b51ef74fff02c0d43734d118_cgraph.png" border="0" usemap="#protover_8c_a82c169e6b51ef74fff02c0d43734d118_cgraph" alt=""/></div>
<map name="protover_8c_a82c169e6b51ef74fff02c0d43734d118_cgraph" id="protover_8c_a82c169e6b51ef74fff02c0d43734d118_cgraph">
<area shape="rect" id="node2" href="protover_8c.html#ad786a6cc6895b76026179292fe0d39ad" title="parse_protocol_list" alt="" coords="203,13,333,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="protover_8c_a82c169e6b51ef74fff02c0d43734d118_icgraph.png" border="0" usemap="#protover_8c_a82c169e6b51ef74fff02c0d43734d118_icgraph" alt=""/></div>
<map name="protover_8c_a82c169e6b51ef74fff02c0d43734d118_icgraph" id="protover_8c_a82c169e6b51ef74fff02c0d43734d118_icgraph">
<area shape="rect" id="node2" href="routerparse_8c.html#a3fe59c4a0303366c3de158b6e59006cf" title="summarize_protover\l_flags" alt="" coords="203,5,343,47"/>
</map>
</div>

</div>
</div>
<a id="aa1b923963d510522ad8754aab3796965"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1b923963d510522ad8754aab3796965">&#9670;&nbsp;</a></span>protocol_list_supports_protocol_or_later()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int protocol_list_supports_protocol_or_later </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="protover_8h.html#a932bee6e7c2e702a8cce14cfd728ba92">protocol_type_t</a>&#160;</td>
          <td class="paramname"><em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff "list" encodes a protocol list that includes support for the indicated protocol and version, or some later version. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="protover_8c_aa1b923963d510522ad8754aab3796965_cgraph.png" border="0" usemap="#protover_8c_aa1b923963d510522ad8754aab3796965_cgraph" alt=""/></div>
<map name="protover_8c_aa1b923963d510522ad8754aab3796965_cgraph" id="protover_8c_aa1b923963d510522ad8754aab3796965_cgraph">
<area shape="rect" id="node2" href="protover_8c.html#ad786a6cc6895b76026179292fe0d39ad" title="parse_protocol_list" alt="" coords="207,5,338,32"/>
<area shape="rect" id="node3" href="protover_8c.html#a01b49215de09bc4ebfceb46d991a02f3" title="protocol_type_to_str" alt="" coords="203,56,343,83"/>
</map>
</div>

</div>
</div>
<a id="a01b49215de09bc4ebfceb46d991a02f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b49215de09bc4ebfceb46d991a02f3">&#9670;&nbsp;</a></span>protocol_type_to_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC const char* protocol_type_to_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="protover_8h.html#a932bee6e7c2e702a8cce14cfd728ba92">protocol_type_t</a>&#160;</td>
          <td class="paramname"><em>pr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a protocol_type_t, return the corresponding string used in descriptors. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="protover_8c_a01b49215de09bc4ebfceb46d991a02f3_icgraph.png" border="0" usemap="#protover_8c_a01b49215de09bc4ebfceb46d991a02f3_icgraph" alt=""/></div>
<map name="protover_8c_a01b49215de09bc4ebfceb46d991a02f3_icgraph" id="protover_8c_a01b49215de09bc4ebfceb46d991a02f3_icgraph">
<area shape="rect" id="node2" href="protover_8h.html#aa1b923963d510522ad8754aab3796965" title="protocol_list_supports\l_protocol_or_later" alt="" coords="193,5,343,47"/>
</map>
</div>

</div>
</div>
<a id="aff345aeeef69cc3d3c9f25b049920398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff345aeeef69cc3d3c9f25b049920398">&#9670;&nbsp;</a></span>protover_all_supported()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int protover_all_supported </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>missing_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true if every protocol version described in the string <b>s</b> is one that we support, and false otherwise. If <b>missing_out</b> is provided, set it to the list of protocols we do not support.</p>
<p>NOTE: This is quadratic, but we don't do it much: only a few times per consensus. Checking signatures should be way more expensive than this ever would be. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="protover_8c_aff345aeeef69cc3d3c9f25b049920398_cgraph.png" border="0" usemap="#protover_8c_aff345aeeef69cc3d3c9f25b049920398_cgraph" alt=""/></div>
<map name="protover_8c_aff345aeeef69cc3d3c9f25b049920398_cgraph" id="protover_8c_aff345aeeef69cc3d3c9f25b049920398_cgraph">
<area shape="rect" id="node2" href="protover_8c.html#ad786a6cc6895b76026179292fe0d39ad" title="parse_protocol_list" alt="" coords="207,5,337,32"/>
</map>
</div>

</div>
</div>
<a id="a14cfeb2deba8e3104fc9ca36778312d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14cfeb2deba8e3104fc9ca36778312d9">&#9670;&nbsp;</a></span>protover_compute_for_old_tor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* protover_compute_for_old_tor </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>C_RUST_COUPLED: src/rust/protover/protover.rs <code>compute_for_old_tor</code> </p>
<p>Return a string describing the protocols supported by tor version <b>version</b>, or an empty string if we cannot tell.</p>
<p>Note that this is only used to infer protocols for Tor versions that can't declare their own. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="protover_8c_a14cfeb2deba8e3104fc9ca36778312d9_cgraph.png" border="0" usemap="#protover_8c_a14cfeb2deba8e3104fc9ca36778312d9_cgraph" alt=""/></div>
<map name="protover_8c_a14cfeb2deba8e3104fc9ca36778312d9_cgraph" id="protover_8c_a14cfeb2deba8e3104fc9ca36778312d9_cgraph">
<area shape="rect" id="node2" href="routerparse_8c.html#a34e1f6d4f6429bcf1d565f54a1dfcd5c" title="tor_version_as_new_as" alt="" coords="201,13,360,39"/>
<area shape="rect" id="node3" href="routerparse_8c.html#ace4c11b51ca67a4f140ed41ae3d47b6d" title="tor_version_parse" alt="" coords="408,13,533,39"/>
<area shape="rect" id="node4" href="util_8c.html#a1d095be5cec365a93ac90501390f70fa" title="strcasecmpstart" alt="" coords="581,13,697,39"/>
</map>
</div>

</div>
</div>
<a id="aa28fb6499696543d0c8c1923f92ed8c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa28fb6499696543d0c8c1923f92ed8c4">&#9670;&nbsp;</a></span>protover_compute_vote()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* protover_compute_vote </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>list_of_proto_strings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Protocol voting implementation.</p>
<p>Given a list of strings describing protocol versions, return a newly allocated string encoding all of the protocols that are listed by at least <b>threshold</b> of the inputs.</p>
<p>The string is minimal and sorted according to the rules of contract_protocol_list above. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="protover_8c_aa28fb6499696543d0c8c1923f92ed8c4_cgraph.png" border="0" usemap="#protover_8c_aa28fb6499696543d0c8c1923f92ed8c4_cgraph" alt=""/></div>
<map name="protover_8c_aa28fb6499696543d0c8c1923f92ed8c4_cgraph" id="protover_8c_aa28fb6499696543d0c8c1923f92ed8c4_cgraph">
<area shape="rect" id="node2" href="protover_8c.html#ad786a6cc6895b76026179292fe0d39ad" title="parse_protocol_list" alt="" coords="212,5,343,32"/>
</map>
</div>

</div>
</div>
<a id="a9c8395ce78704a29631050334087ab9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c8395ce78704a29631050334087ab9d">&#9670;&nbsp;</a></span>protover_contains_long_protocol_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool protover_contains_long_protocol_names </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true if the unparsed protover in <b>s</b> would contain a protocol name longer than MAX_PROTOCOL_NAME_LENGTH, and false otherwise. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="protover_8c_a9c8395ce78704a29631050334087ab9d_cgraph.png" border="0" usemap="#protover_8c_a9c8395ce78704a29631050334087ab9d_cgraph" alt=""/></div>
<map name="protover_8c_a9c8395ce78704a29631050334087ab9d_cgraph" id="protover_8c_a9c8395ce78704a29631050334087ab9d_cgraph">
<area shape="rect" id="node2" href="protover_8c.html#ad786a6cc6895b76026179292fe0d39ad" title="parse_protocol_list" alt="" coords="209,13,340,39"/>
</map>
</div>

</div>
</div>
<a id="a580be9a5d065eabe1efc80ae787f4672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a580be9a5d065eabe1efc80ae787f4672">&#9670;&nbsp;</a></span>protover_free_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void protover_free_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release all storage held by static fields in <a class="el" href="protover_8c.html" title="Versioning information for different pieces of the Tor protocol. ">protover.c</a> </p>

</div>
</div>
<a id="a4ce59e88ba6eec717cad6cfaee118ff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ce59e88ba6eec717cad6cfaee118ff6">&#9670;&nbsp;</a></span>protover_get_supported_protocols()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* protover_get_supported_protocols </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>C_RUST_COUPLED: src/rust/protover/protover.rs <code>SUPPORTED_PROTOCOLS</code> </p>
<p>Return the canonical string containing the list of protocols that we support. </p>

</div>
</div>
<a id="a71ea5e9f76ace1190227c696657def55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71ea5e9f76ace1190227c696657def55">&#9670;&nbsp;</a></span>protover_is_supported_here()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int protover_is_supported_here </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="protover_8h.html#a932bee6e7c2e702a8cce14cfd728ba92">protocol_type_t</a>&#160;</td>
          <td class="paramname"><em>pr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a protocol type and version number, return true iff we know how to speak that protocol. </p>

</div>
</div>
<a id="af6111963bd062d616cf862762cdaf3a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6111963bd062d616cf862762cdaf3a2">&#9670;&nbsp;</a></span>str_to_protocol_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC int str_to_protocol_type </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="protover_8h.html#a932bee6e7c2e702a8cce14cfd728ba92">protocol_type_t</a> *&#160;</td>
          <td class="paramname"><em>pr_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a string, find the corresponding protocol type and store it in <b>pr_out</b>. Return 0 on success, -1 on failure. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
