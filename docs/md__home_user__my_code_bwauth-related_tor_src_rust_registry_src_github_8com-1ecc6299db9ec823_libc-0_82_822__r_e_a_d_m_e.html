<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tor: libc</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tor
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">libc </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A Rust library with native bindings to the types and functions commonly found on various systems, including libc.</p>
<p><a href="https://travis-ci.org/rust-lang/libc"></a> <a href="https://ci.appveyor.com/project/rust-lang-libs/libc"></a></p>
<p><a href="#platforms-and-documentation">Documentation</a></p>
<h2>Usage</h2>
<p>First, add the following to your <code>Cargo.toml</code>:</p>
<div class="fragment"><div class="line">[dependencies]</div><div class="line">libc = &quot;0.2&quot;</div></div><!-- fragment --><p>Next, add this to your crate root:</p>
<div class="fragment"><div class="line">extern crate libc;</div></div><!-- fragment --><p>Currently libc by default links to the standard library, but if you would instead like to use libc in a <code>#![no_std]</code> situation or crate you can request this via:</p>
<div class="fragment"><div class="line">[dependencies]</div><div class="line">libc = { version = &quot;0.2&quot;, default-features = false }</div></div><!-- fragment --><h2>What is libc?</h2>
<p>The primary purpose of this crate is to provide all of the definitions necessary to easily interoperate with C code (or "C-like" code) on each of the platforms that Rust supports. This includes type definitions (e.g. <code>c_int</code>), constants (e.g. <code>EINVAL</code>) as well as function headers (e.g. <code>malloc</code>).</p>
<p>This crate does not strive to have any form of compatibility across platforms, but rather it is simply a straight binding to the system libraries on the platform in question.</p>
<h2>Public API</h2>
<p>This crate exports all underlying platform types, functions, and constants under the crate root, so all items are accessible as <code>libc::foo</code>. The types and values of all the exported APIs match the platform that libc is compiled for.</p>
<p>More detailed information about the design of this library can be found in its https://github.com/rust-lang/rfcs/blob/master/text/1291-promote-libc.md "associated RFC".</p>
<h2>Adding an API</h2>
<p>Want to use an API which currently isn't bound in <code>libc</code>? It's quite easy to add one!</p>
<p>The internal structure of this crate is designed to minimize the number of <code>#[cfg]</code> attributes in order to easily be able to add new items which apply to all platforms in the future. As a result, the crate is organized hierarchically based on platform. Each module has a number of <code>#[cfg]</code>'d children, but only one is ever actually compiled. Each module then reexports all the contents of its children.</p>
<p>This means that for each platform that libc supports, the path from a leaf module to the root will contain all bindings for the platform in question. Consequently, this indicates where an API should be added! Adding an API at a particular level in the hierarchy means that it is supported on all the child platforms of that level. For example, when adding a Unix API it should be added to <code>src/unix/mod.rs</code>, but when adding a Linux-only API it should be added to <code>src/unix/notbsd/linux/mod.rs</code>.</p>
<p>If you're not 100% sure at what level of the hierarchy an API should be added at, fear not! This crate has CI support which tests any binding against all platforms supported, so you'll see failures if an API is added at the wrong level or has different signatures across platforms.</p>
<p>With that in mind, the steps for adding a new API are:</p>
<ol type="1">
<li>Determine where in the module hierarchy your API should be added.</li>
<li>Add the API.</li>
<li>Send a PR to this repo.</li>
<li>Wait for CI to pass, fixing errors.</li>
<li>Wait for a merge!</li>
</ol>
<h3>Test before you commit</h3>
<p>We have two automated tests running on <a href="https://travis-ci.org/rust-lang/libc">Travis</a>:</p>
<ol type="1">
<li><a href="https://github.com/alexcrichton/ctest"><code>libc-test</code></a><ul>
<li><code>cd libc-test &amp;&amp; cargo run</code></li>
<li>Use the <code>skip_*()</code> functions in <code>build.rs</code> if you really need a workaround.</li>
</ul>
</li>
<li>Style checker<ul>
<li><code>rustc ci/style.rs &amp;&amp; ./style src</code></li>
</ul>
</li>
</ol>
<h2>Platforms and Documentation</h2>
<p>The following platforms are currently tested and have documentation available:</p>
<p>Tested:</p><ul>
<li><a href="https://doc.rust-lang.org/libc/i686-pc-windows-msvc/libc/"><code>i686-pc-windows-msvc</code></a></li>
<li><a href="https://doc.rust-lang.org/libc/x86_64-pc-windows-msvc/libc/"><code>x86_64-pc-windows-msvc</code></a> (Windows)</li>
<li><a href="https://doc.rust-lang.org/libc/i686-pc-windows-gnu/libc/"><code>i686-pc-windows-gnu</code></a></li>
<li><a href="https://doc.rust-lang.org/libc/x86_64-pc-windows-gnu/libc/"><code>x86_64-pc-windows-gnu</code></a></li>
<li><a href="https://doc.rust-lang.org/libc/i686-apple-darwin/libc/"><code>i686-apple-darwin</code></a></li>
<li><a href="https://doc.rust-lang.org/libc/x86_64-apple-darwin/libc/"><code>x86_64-apple-darwin</code></a> (OSX)</li>
<li><code>i386-apple-ios</code></li>
<li><code>x86_64-apple-ios</code></li>
<li><a href="https://doc.rust-lang.org/libc/i686-unknown-linux-gnu/libc/"><code>i686-unknown-linux-gnu</code></a></li>
<li><a href="https://doc.rust-lang.org/libc/x86_64-unknown-linux-gnu/libc/"><code>x86_64-unknown-linux-gnu</code></a> (Linux)</li>
<li><a href="https://doc.rust-lang.org/libc/x86_64-unknown-linux-musl/libc/"><code>x86_64-unknown-linux-musl</code></a> (Linux MUSL)</li>
<li><a href="https://doc.rust-lang.org/libc/aarch64-unknown-linux-gnu/libc/"><code>aarch64-unknown-linux-gnu</code></a></li>
<li><a href="https://doc.rust-lang.org/libc/mips-unknown-linux-gnu/libc/"><code>mips-unknown-linux-gnu</code></a></li>
<li><a href="https://doc.rust-lang.org/libc/arm-unknown-linux-gnueabihf/libc/"><code>arm-unknown-linux-gnueabihf</code></a></li>
<li><a href="https://doc.rust-lang.org/libc/arm-linux-androideabi/libc/"><code>arm-linux-androideabi</code></a> (Android)</li>
<li><a href="https://doc.rust-lang.org/libc/x86_64-unknown-freebsd/libc/"><code>x86_64-unknown-freebsd</code></a></li>
<li><a href="https://doc.rust-lang.org/libc/x86_64-unknown-openbsd/libc/"><code>x86_64-unknown-openbsd</code></a></li>
<li><a href="https://doc.rust-lang.org/libc/x86_64-unknown-netbsd/libc/"><code>x86_64-rumprun-netbsd</code></a></li>
</ul>
<p>The following may be supported, but are not guaranteed to always work:</p>
<ul>
<li><code>i686-unknown-freebsd</code></li>
<li><a href="https://doc.rust-lang.org/libc/x86_64-unknown-bitrig/libc/"><code>x86_64-unknown-bitrig</code></a></li>
<li><a href="https://doc.rust-lang.org/libc/x86_64-unknown-dragonfly/libc/"><code>x86_64-unknown-dragonfly</code></a></li>
<li><code>i686-unknown-haiku</code></li>
<li><code>x86_64-unknown-haiku</code></li>
<li><a href="https://doc.rust-lang.org/libc/x86_64-unknown-netbsd/libc/"><code>x86_64-unknown-netbsd</code></a> </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
