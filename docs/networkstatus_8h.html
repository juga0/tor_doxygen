<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tor: /home/user/_my/code/bwauth-related/tor/src/or/networkstatus.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tor
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97b64286d42c5ef1697cb5f17129db19.html">tor</a></li><li class="navelem"><a class="el" href="dir_3cb0ba3f4b82dbe34a1a06276e96bc8d.html">src</a></li><li class="navelem"><a class="el" href="dir_386635fabd7f6c74e9d9c7a8604514a0.html">or</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">networkstatus.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header file for <a class="el" href="networkstatus_8c.html" title="Functions and structures for handling networkstatus documents as a client or as a directory cache...">networkstatus.c</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;testsupport.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for networkstatus.h:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h__incl.png" border="0" usemap="#_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2networkstatus_8h" alt=""/></div>
<map name="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2networkstatus_8h" id="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2networkstatus_8h">
<area shape="rect" id="node2" href="testsupport_8h_source.html" title="testsupport.h" alt="" coords="34,109,133,136"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h__dep__incl.png" border="0" usemap="#_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2networkstatus_8hdep" alt=""/></div>
<map name="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2networkstatus_8hdep" id="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2networkstatus_8hdep">
<area shape="rect" id="node2" href="channel_8c.html" title="OR/OP&#45;to&#45;OR channel abstraction layer. A channel&#39;s job is to transfer cells from Tor instance to Tor ..." alt="" coords="5,117,153,173"/>
<area shape="rect" id="node3" href="channeltls_8c.html" title="A concrete subclass of channel_t using or_connection_t to transfer cells between Tor instances..." alt="" coords="177,117,325,173"/>
<area shape="rect" id="node4" href="circpathbias_8c.html" title="Code to track success/failure rates of circuits built through different tor nodes, in an attempt to detect attacks where an attacker deliberately causes circuits to fail until the client choses a path they like. " alt="" coords="349,117,497,173"/>
<area shape="rect" id="node5" href="circuitbuild_8c.html" title="Implements the details of building circuits (by chosing paths, constructing/sending create/extend cel..." alt="" coords="521,117,669,173"/>
<area shape="rect" id="node6" href="circuitlist_8c.html" title="Manage global structures that list and index circuits, and look up circuits within them..." alt="" coords="693,117,841,173"/>
<area shape="rect" id="node7" href="circuitmux__ewma_8c.html" title="EWMA circuit selection as a circuitmux_t policy. " alt="" coords="866,117,1042,173"/>
<area shape="rect" id="node8" href="circuitstats_8c.html" title="Maintains and analyzes statistics about circuit built times, so we can tell how long we may need to w..." alt="" coords="1067,117,1215,173"/>
<area shape="rect" id="node9" href="circuituse_8c.html" title="Launch the right sort of circuits and attach the right streams to them. " alt="" coords="1239,117,1387,173"/>
<area shape="rect" id="node10" href="config_8c.html" title="Code to interpret the user&#39;s configuration of Tor. " alt="" coords="1411,117,1559,173"/>
<area shape="rect" id="node11" href="connection__edge_8c.html" title="Handle edge streams. " alt="" coords="1583,117,1755,173"/>
<area shape="rect" id="node12" href="connection__or_8c.html" title="Functions to handle OR connections, TLS handshaking, and cells on the network. " alt="" coords="1779,117,1934,173"/>
<area shape="rect" id="node13" href="control_8c.html" title="Implementation for Tor&#39;s control&#45;socket interface. " alt="" coords="1959,117,2107,173"/>
<area shape="rect" id="node14" href="dirvote_8c.html" title="Functions to compute directory consensus, and schedule voting. " alt="" coords="2131,117,2287,173"/>
<area shape="rect" id="node15" href="shared__random_8c.html" title="Functions and data structure needed to accomplish the shared random protocol as defined in proposal #..." alt="" coords="2311,109,2459,180"/>
<area shape="rect" id="node16" href="shared__random__state_8c.html" title="Functions and data structures for the state of the random protocol as defined in proposal #250..." alt="" coords="2483,109,2631,180"/>
<area shape="rect" id="node17" href="directory_8c.html" title="Code to send and fetch information from directory authorities and caches via HTTP. " alt="" coords="2655,117,2803,173"/>
<area shape="rect" id="node18" href="dirserv_8c.html" title="Directory server core implementation. Manages directory contents and generates directories. " alt="" coords="2827,117,2975,173"/>
<area shape="rect" id="node19" href="entrynodes_8c.html" title="Code to manage our fixed first nodes for various functions. " alt="" coords="2999,117,3147,173"/>
<area shape="rect" id="node20" href="hs__cache_8c.html" title="Handle hidden service descriptor caches. " alt="" coords="3171,117,3319,173"/>
<area shape="rect" id="node21" href="hs__client_8c.html" title="Implement next generation hidden service client functionality. " alt="" coords="3343,117,3491,173"/>
<area shape="rect" id="node22" href="hs__common_8c.html" title="Contains code shared between different HS protocol version as well as useful data structures and acce..." alt="" coords="3515,117,3663,173"/>
<area shape="rect" id="node23" href="hs__service_8c.html" title="Implement next generation hidden service functionality. " alt="" coords="3687,117,3835,173"/>
<area shape="rect" id="node24" href="main_8c.html" title="Toplevel module. Handles signals, multiplexes between connections, implements main loop..." alt="" coords="3859,117,4007,173"/>
<area shape="rect" id="node25" href="microdesc_8c.html" title="Implements microdescriptors â€“ an abbreviated description of less&#45;frequently&#45;changing router informat..." alt="" coords="4031,117,4179,173"/>
<area shape="rect" id="node26" href="networkstatus_8c.html" title="Functions and structures for handling networkstatus documents as a client or as a directory cache..." alt="" coords="4203,117,4359,173"/>
<area shape="rect" id="node27" href="nodelist_8c.html" title="Structures and functions for tracking what we know about the routers on the Tor network, and correlating information from networkstatus, routerinfo, and microdescs. " alt="" coords="4383,117,4531,173"/>
<area shape="rect" id="node28" href="onion_8c.html" title="Functions to queue create cells, wrap the various onionskin types, and parse and create the CREATE ce..." alt="" coords="4555,117,4703,173"/>
<area shape="rect" id="node29" href="policies_8c.html" title="Code to parse and use address policies and exit policies. " alt="" coords="4727,117,4875,173"/>
<area shape="rect" id="node30" href="relay_8c.html" title="Handle relay cell encryption/decryption, plus packaging and receiving from circuits, plus queuing on circuits. " alt="" coords="4899,117,5047,173"/>
<area shape="rect" id="node31" href="rendclient_8c.html" title="Client code to access location&#45;hidden services. " alt="" coords="5071,117,5219,173"/>
<area shape="rect" id="node32" href="rendcommon_8c.html" title="Rendezvous implementation: shared code between introducers, services, clients, and rendezvous points..." alt="" coords="5243,117,5393,173"/>
<area shape="rect" id="node33" href="rendservice_8c.html" title="The hidden&#45;service side of rendezvous functionality. " alt="" coords="5417,117,5565,173"/>
<area shape="rect" id="node34" href="rephist_8c.html" title="Basic history and performance&#45;tracking functionality. " alt="" coords="5589,117,5737,173"/>
<area shape="rect" id="node35" href="router_8c.html" title="Miscellaneous relay functionality, including RSA key maintenance, generating and uploading server des..." alt="" coords="5761,117,5909,173"/>
<area shape="rect" id="node36" href="routerlist_8c.html" title="Code to maintain and access the global list of routerinfos for known servers. " alt="" coords="5933,117,6081,173"/>
<area shape="rect" id="node37" href="routerparse_8c.html" title="Code to parse and validate router descriptors, consenus directories, and similar objects. " alt="" coords="6105,117,6253,173"/>
<area shape="rect" id="node38" href="shared__random__client_8c.html" title="This file contains functions that are from the shared random subsystem but used by many part of tor..." alt="" coords="6278,109,6430,180"/>
<area shape="rect" id="node39" href="voting__schedule_8c.html" title="This file contains functions that are from the directory authority subsystem related to voting specif..." alt="" coords="6454,117,6622,173"/>
<area shape="rect" id="node40" href="test__dir__common_8h_source.html" title="/home/user/_my/code\l/bwauth&#45;related/tor\l/src/test/test_dir_common.h" alt="" coords="6647,117,6832,173"/>
<area shape="rect" id="node41" href="test__hs__cache_8c.html" title="Test hidden service caches. " alt="" coords="6857,117,7027,173"/>
<area shape="rect" id="node42" href="test__hs__client_8c.html" title="Test prop224 HS client functionality. " alt="" coords="7052,117,7219,173"/>
<area shape="rect" id="node43" href="test__hs__common_8c.html" title="Test hidden service common functionalities. " alt="" coords="7243,117,7428,173"/>
<area shape="rect" id="node44" href="test__hs__service_8c.html" title="Test hidden service functionality. " alt="" coords="7452,117,7629,173"/>
<area shape="rect" id="node45" href="test__nodelist_8c.html" title="Unit tests for nodelist related functions. " alt="" coords="7653,117,7812,173"/>
</map>
</div>
</div>
<p><a href="networkstatus_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a30bb14045609932b56b5f5cc91bb8b48"><td class="memItemLeft" align="right" valign="top"><a id="a30bb14045609932b56b5f5cc91bb8b48"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>routerstatus_free</b>(rs)&#160;&#160;&#160;FREE_AND_NULL(<a class="el" href="structrouterstatus__t.html">routerstatus_t</a>, <a class="el" href="networkstatus_8h.html#af7a88dc1dcc532507c069e007620677d">routerstatus_free_</a>, (rs))</td></tr>
<tr class="separator:a30bb14045609932b56b5f5cc91bb8b48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fb07bff28c1340067debd2930723624"><td class="memItemLeft" align="right" valign="top"><a id="a6fb07bff28c1340067debd2930723624"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>networkstatus_vote_free</b>(ns)&#160;&#160;&#160;FREE_AND_NULL(<a class="el" href="structnetworkstatus__t.html">networkstatus_t</a>, <a class="el" href="networkstatus_8h.html#ac431574021ec26d0de3d84b9bd0b3f38">networkstatus_vote_free_</a>, (ns))</td></tr>
<tr class="separator:a6fb07bff28c1340067debd2930723624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0fb87748365445b6729f98a9d8eb984"><td class="memItemLeft" align="right" valign="top"><a id="aa0fb87748365445b6729f98a9d8eb984"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ns_detached_signatures_free</b>(s)&#160;&#160;&#160;FREE_AND_NULL(<a class="el" href="structns__detached__signatures__t.html">ns_detached_signatures_t</a>, <a class="el" href="networkstatus_8h.html#ab67c1b78647e8e4babfbeee6ec9c767c">ns_detached_signatures_free_</a>, (s))</td></tr>
<tr class="separator:aa0fb87748365445b6729f98a9d8eb984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b46dd44ba228174344b81b0bc412357"><td class="memItemLeft" align="right" valign="top"><a id="a9b46dd44ba228174344b81b0bc412357"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NSSET_FROM_CACHE</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a9b46dd44ba228174344b81b0bc412357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a292f09ff8f47f83aca146d0601c3c389"><td class="memItemLeft" align="right" valign="top"><a id="a292f09ff8f47f83aca146d0601c3c389"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NSSET_WAS_WAITING_FOR_CERTS</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a292f09ff8f47f83aca146d0601c3c389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53f414d864d34f2b5a2f264d4674784b"><td class="memItemLeft" align="right" valign="top"><a id="a53f414d864d34f2b5a2f264d4674784b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NSSET_DONT_DOWNLOAD_CERTS</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a53f414d864d34f2b5a2f264d4674784b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34801dff32e0758e22ed7e7596a385f3"><td class="memItemLeft" align="right" valign="top"><a id="a34801dff32e0758e22ed7e7596a385f3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NSSET_ACCEPT_OBSOLETE</b>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a34801dff32e0758e22ed7e7596a385f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af172f27f187dac90eedcf7b25eab6634"><td class="memItemLeft" align="right" valign="top"><a id="af172f27f187dac90eedcf7b25eab6634"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NSSET_REQUIRE_FLAVOR</b>&#160;&#160;&#160;16</td></tr>
<tr class="separator:af172f27f187dac90eedcf7b25eab6634"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29647f792342f09856566305c32fead4"><td class="memItemLeft" align="right" valign="top"><a id="a29647f792342f09856566305c32fead4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>document_signature_free</b>(sig)&#160;&#160;&#160;FREE_AND_NULL(<a class="el" href="structdocument__signature__t.html">document_signature_t</a>, <a class="el" href="networkstatus_8h.html#a515529f6d2dbe7d504d291801ae5939b">document_signature_free_</a>, (sig))</td></tr>
<tr class="separator:a29647f792342f09856566305c32fead4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6002195bb5ec19c84c86a2e353a58b82"><td class="memItemLeft" align="right" valign="top"><a id="a6002195bb5ec19c84c86a2e353a58b82"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>vote_routerstatus_free</b>(rs)&#160;&#160;&#160;FREE_AND_NULL(<a class="el" href="structvote__routerstatus__t.html">vote_routerstatus_t</a>, <a class="el" href="networkstatus_8h.html#a9a1026b178124f6fedaf54066cca12a0">vote_routerstatus_free_</a>, (rs))</td></tr>
<tr class="separator:a6002195bb5ec19c84c86a2e353a58b82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad970a8be0b1c191044f84bd686747e88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#ad970a8be0b1c191044f84bd686747e88">networkstatus_reset_warnings</a> (void)</td></tr>
<tr class="separator:ad970a8be0b1c191044f84bd686747e88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86492baf32bd150a1848f70cc234977"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#ad86492baf32bd150a1848f70cc234977">networkstatus_reset_download_failures</a> (void)</td></tr>
<tr class="separator:ad86492baf32bd150a1848f70cc234977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf1e7e6cb46e4a70d63a54a42ba7d2ff"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#abf1e7e6cb46e4a70d63a54a42ba7d2ff">networkstatus_read_cached_consensus</a> (const char *flavorname)</td></tr>
<tr class="separator:abf1e7e6cb46e4a70d63a54a42ba7d2ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6fd62492d7f4cfafd9ec042e995bfef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#aa6fd62492d7f4cfafd9ec042e995bfef">router_reload_consensus_networkstatus</a> (void)</td></tr>
<tr class="separator:aa6fd62492d7f4cfafd9ec042e995bfef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a88dc1dcc532507c069e007620677d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#af7a88dc1dcc532507c069e007620677d">routerstatus_free_</a> (<a class="el" href="structrouterstatus__t.html">routerstatus_t</a> *rs)</td></tr>
<tr class="separator:af7a88dc1dcc532507c069e007620677d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac431574021ec26d0de3d84b9bd0b3f38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#ac431574021ec26d0de3d84b9bd0b3f38">networkstatus_vote_free_</a> (<a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *ns)</td></tr>
<tr class="separator:ac431574021ec26d0de3d84b9bd0b3f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab67c1b78647e8e4babfbeee6ec9c767c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#ab67c1b78647e8e4babfbeee6ec9c767c">ns_detached_signatures_free_</a> (<a class="el" href="structns__detached__signatures__t.html">ns_detached_signatures_t</a> *s)</td></tr>
<tr class="separator:ab67c1b78647e8e4babfbeee6ec9c767c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b27ffbed3cfefd3cdefa2deda029f7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnetworkstatus__voter__info__t.html">networkstatus_voter_info_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a4b27ffbed3cfefd3cdefa2deda029f7a">networkstatus_get_voter_by_id</a> (<a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *vote, const char *identity)</td></tr>
<tr class="separator:a4b27ffbed3cfefd3cdefa2deda029f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c593a6979ddceeed0f80cc5e114488"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdocument__signature__t.html">document_signature_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#ab8c593a6979ddceeed0f80cc5e114488">networkstatus_get_voter_sig_by_alg</a> (const <a class="el" href="structnetworkstatus__voter__info__t.html">networkstatus_voter_info_t</a> *voter, digest_algorithm_t alg)</td></tr>
<tr class="separator:ab8c593a6979ddceeed0f80cc5e114488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bead3d790b19f3f5894a521526a3531"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a7bead3d790b19f3f5894a521526a3531">networkstatus_check_consensus_signature</a> (<a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *consensus, int warn)</td></tr>
<tr class="separator:a7bead3d790b19f3f5894a521526a3531"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1695f89ba4a7206eab6d15d1e508c654"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a1695f89ba4a7206eab6d15d1e508c654">networkstatus_check_document_signature</a> (const <a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *consensus, <a class="el" href="structdocument__signature__t.html">document_signature_t</a> *sig, const <a class="el" href="structauthority__cert__t.html">authority_cert_t</a> *cert)</td></tr>
<tr class="separator:a1695f89ba4a7206eab6d15d1e508c654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a998a1af9202b3a8eec2327819b84bcee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a998a1af9202b3a8eec2327819b84bcee">compare_digest_to_routerstatus_entry</a> (const void *_key, const void **_member)</td></tr>
<tr class="separator:a998a1af9202b3a8eec2327819b84bcee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a208b46da9e333aa2712950089d0a2f54"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a208b46da9e333aa2712950089d0a2f54">compare_digest_to_vote_routerstatus_entry</a> (const void *_key, const void **_member)</td></tr>
<tr class="separator:a208b46da9e333aa2712950089d0a2f54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae8d735fe9d889755f96e927f9e9c967"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structrouterstatus__t.html">routerstatus_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#aae8d735fe9d889755f96e927f9e9c967">networkstatus_vote_find_entry</a> (<a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *ns, const char *digest)</td></tr>
<tr class="separator:aae8d735fe9d889755f96e927f9e9c967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a041c69e1d5a274d07c162f9185605cd0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrouterstatus__t.html">routerstatus_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a041c69e1d5a274d07c162f9185605cd0">networkstatus_vote_find_mutable_entry</a> (<a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *ns, const char *digest)</td></tr>
<tr class="separator:a041c69e1d5a274d07c162f9185605cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d3edab11be460ebb5dc5de0f07c7874"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a4d3edab11be460ebb5dc5de0f07c7874">networkstatus_vote_find_entry_idx</a> (<a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *ns, const char *digest, int *found_out)</td></tr>
<tr class="separator:a4d3edab11be460ebb5dc5de0f07c7874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e7f938f7af3965e85361860fe7c9dd5"><td class="memItemLeft" align="right" valign="top"><a id="a7e7f938f7af3965e85361860fe7c9dd5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (<a class="el" href="structdownload__status__t.html">download_status_t</a> *, networkstatus_get_dl_status_by_flavor,(<a class="el" href="or_8h.html#ada0879620550843533b891a49543b109">consensus_flavor_t</a> flavor))</td></tr>
<tr class="separator:a7e7f938f7af3965e85361860fe7c9dd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ffd0f6beb82423617e990eee438245"><td class="memItemLeft" align="right" valign="top"><a id="a79ffd0f6beb82423617e990eee438245"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (<a class="el" href="structdownload__status__t.html">download_status_t</a> *, networkstatus_get_dl_status_by_flavor_bootstrap,(<a class="el" href="or_8h.html#ada0879620550843533b891a49543b109">consensus_flavor_t</a> flavor))</td></tr>
<tr class="separator:a79ffd0f6beb82423617e990eee438245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dbc472ca3f78293fc835c37ac911670"><td class="memItemLeft" align="right" valign="top"><a id="a6dbc472ca3f78293fc835c37ac911670"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (<a class="el" href="structdownload__status__t.html">download_status_t</a> *, networkstatus_get_dl_status_by_flavor_running,(<a class="el" href="or_8h.html#ada0879620550843533b891a49543b109">consensus_flavor_t</a> flavor))</td></tr>
<tr class="separator:a6dbc472ca3f78293fc835c37ac911670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff64b35b891c2d833e981f85033c79f0"><td class="memItemLeft" align="right" valign="top"><a id="aff64b35b891c2d833e981f85033c79f0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (<a class="el" href="structsmartlist__t.html">smartlist_t</a> *, router_get_descriptor_digests,(void))</td></tr>
<tr class="separator:aff64b35b891c2d833e981f85033c79f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c08fa06846be41dd841bd7dd2fbfa3e"><td class="memItemLeft" align="right" valign="top"><a id="a8c08fa06846be41dd841bd7dd2fbfa3e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (<a class="el" href="structdownload__status__t.html">download_status_t</a> *, router_get_dl_status_by_descriptor_digest,(const char *d))</td></tr>
<tr class="separator:a8c08fa06846be41dd841bd7dd2fbfa3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a810a06fe9e7c7bd3a1c5c5ee8cc13b52"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structrouterstatus__t.html">routerstatus_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a810a06fe9e7c7bd3a1c5c5ee8cc13b52">router_get_consensus_status_by_id</a> (const char *digest)</td></tr>
<tr class="separator:a810a06fe9e7c7bd3a1c5c5ee8cc13b52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb917388a503fd5c8e727d7a6bd675f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrouterstatus__t.html">routerstatus_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#abeb917388a503fd5c8e727d7a6bd675f">router_get_mutable_consensus_status_by_id</a> (const char *digest)</td></tr>
<tr class="separator:abeb917388a503fd5c8e727d7a6bd675f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae26b18ffeeda912deab35abe7bfe31da"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structrouterstatus__t.html">routerstatus_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#ae26b18ffeeda912deab35abe7bfe31da">router_get_consensus_status_by_descriptor_digest</a> (<a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *consensus, const char *digest)</td></tr>
<tr class="separator:ae26b18ffeeda912deab35abe7bfe31da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af461764592abe74e8c4af9fc3e61c171"><td class="memItemLeft" align="right" valign="top"><a id="af461764592abe74e8c4af9fc3e61c171"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (<a class="el" href="structrouterstatus__t.html">routerstatus_t</a> *, router_get_mutable_consensus_status_by_descriptor_digest,(<a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *consensus, const char *digest))</td></tr>
<tr class="separator:af461764592abe74e8c4af9fc3e61c171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d20f569e83b9acf580732e6369285c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a32d20f569e83b9acf580732e6369285c">we_want_to_fetch_flavor</a> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options, int flavor)</td></tr>
<tr class="separator:a32d20f569e83b9acf580732e6369285c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae571a0f2e98aee6bb9b6a0df669b6c25"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#ae571a0f2e98aee6bb9b6a0df669b6c25">we_want_to_fetch_unknown_auth_certs</a> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options)</td></tr>
<tr class="separator:ae571a0f2e98aee6bb9b6a0df669b6c25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af85567c13446bbbae84ce4199b3b2134"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#af85567c13446bbbae84ce4199b3b2134">networkstatus_consensus_download_failed</a> (int status_code, const char *flavname)</td></tr>
<tr class="separator:af85567c13446bbbae84ce4199b3b2134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5b06eef1d3ad0356efd75d050cb857d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#ad5b06eef1d3ad0356efd75d050cb857d">update_consensus_networkstatus_fetch_time</a> (time_t now)</td></tr>
<tr class="separator:ad5b06eef1d3ad0356efd75d050cb857d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa278011afd1917ef43cc44fac287f7bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#aa278011afd1917ef43cc44fac287f7bf">should_delay_dir_fetches</a> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options, const char **msg_out)</td></tr>
<tr class="separator:aa278011afd1917ef43cc44fac287f7bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1283a3574ff7fb0ceb2f4b80af9bdbf6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a1283a3574ff7fb0ceb2f4b80af9bdbf6">update_networkstatus_downloads</a> (time_t now)</td></tr>
<tr class="separator:a1283a3574ff7fb0ceb2f4b80af9bdbf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac5e0a37016a04c309a791ae15ecc86a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#aac5e0a37016a04c309a791ae15ecc86a">update_certificate_downloads</a> (time_t now)</td></tr>
<tr class="separator:aac5e0a37016a04c309a791ae15ecc86a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af728d99cfd15f4902ee7471ce45a2dd7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#af728d99cfd15f4902ee7471ce45a2dd7">consensus_is_waiting_for_certs</a> (void)</td></tr>
<tr class="separator:af728d99cfd15f4902ee7471ce45a2dd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4393859fc27824306d0e6b183c863466"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a4393859fc27824306d0e6b183c863466">client_would_use_router</a> (const <a class="el" href="structrouterstatus__t.html">routerstatus_t</a> *rs, time_t now)</td></tr>
<tr class="separator:a4393859fc27824306d0e6b183c863466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad80bf88cffbcde8b1a53052cbe6e5a21"><td class="memItemLeft" align="right" valign="top"><a id="ad80bf88cffbcde8b1a53052cbe6e5a21"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (<a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *, networkstatus_get_latest_consensus,(void))</td></tr>
<tr class="separator:ad80bf88cffbcde8b1a53052cbe6e5a21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae44b0617c0df9343df709aa6c59a804f"><td class="memItemLeft" align="right" valign="top"><a id="ae44b0617c0df9343df709aa6c59a804f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (<a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *, networkstatus_get_latest_consensus_by_flavor,(<a class="el" href="or_8h.html#ada0879620550843533b891a49543b109">consensus_flavor_t</a> f))</td></tr>
<tr class="separator:ae44b0617c0df9343df709aa6c59a804f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fab833699b5d011da6ac0a33e5219a5"><td class="memItemLeft" align="right" valign="top"><a id="a5fab833699b5d011da6ac0a33e5219a5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (<a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *, networkstatus_get_live_consensus,(time_t now))</td></tr>
<tr class="separator:a5fab833699b5d011da6ac0a33e5219a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97698b7c730bb880670662020a79ece0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a97698b7c730bb880670662020a79ece0">networkstatus_is_live</a> (const <a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *ns, time_t now)</td></tr>
<tr class="separator:a97698b7c730bb880670662020a79ece0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d356f4ab27d29e60c8f5114974fda96"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a2d356f4ab27d29e60c8f5114974fda96">networkstatus_consensus_reasonably_live</a> (const <a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *consensus, time_t now)</td></tr>
<tr class="separator:a2d356f4ab27d29e60c8f5114974fda96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89a28d47b1bbf648c55caf48c618ef87"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a89a28d47b1bbf648c55caf48c618ef87">networkstatus_valid_until_is_reasonably_live</a> (time_t valid_until, time_t now)</td></tr>
<tr class="separator:a89a28d47b1bbf648c55caf48c618ef87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44accdf47b7f9f40b25c45daf2c31475"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a44accdf47b7f9f40b25c45daf2c31475">networkstatus_get_reasonably_live_consensus</a> (time_t now, int flavor)</td></tr>
<tr class="separator:a44accdf47b7f9f40b25c45daf2c31475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b394f1df37f5b257b6cd98e5d655c6"><td class="memItemLeft" align="right" valign="top"><a id="ac2b394f1df37f5b257b6cd98e5d655c6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (int, networkstatus_consensus_is_bootstrapping,(time_t now))</td></tr>
<tr class="separator:ac2b394f1df37f5b257b6cd98e5d655c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13394a9a2c5c03dfeb622fb8e461a9e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a13394a9a2c5c03dfeb622fb8e461a9e1">networkstatus_consensus_can_use_multiple_directories</a> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options)</td></tr>
<tr class="separator:a13394a9a2c5c03dfeb622fb8e461a9e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07023642fb97f8c5e438903a6914dbbd"><td class="memItemLeft" align="right" valign="top"><a id="a07023642fb97f8c5e438903a6914dbbd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (int, networkstatus_consensus_can_use_extra_fallbacks,(const <a class="el" href="structor__options__t.html">or_options_t</a> *options))</td></tr>
<tr class="separator:a07023642fb97f8c5e438903a6914dbbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40c88d2757b7b3430cca3430235a1281"><td class="memItemLeft" align="right" valign="top"><a id="a40c88d2757b7b3430cca3430235a1281"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>networkstatus_consensus_is_already_downloading</b> (const char *resource)</td></tr>
<tr class="separator:a40c88d2757b7b3430cca3430235a1281"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4498324bf2e66e25b94b06a3ad8b0781"><td class="memItemLeft" align="right" valign="top"><a id="a4498324bf2e66e25b94b06a3ad8b0781"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>networkstatus_consensus_has_ipv6</b> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options)</td></tr>
<tr class="separator:a4498324bf2e66e25b94b06a3ad8b0781"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bc8e47c7dbfc9cb7dbabab161bd6764"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a2bc8e47c7dbfc9cb7dbabab161bd6764">networkstatus_set_current_consensus</a> (const char *consensus, const char *flavor, unsigned flags, const char *source_dir)</td></tr>
<tr class="separator:a2bc8e47c7dbfc9cb7dbabab161bd6764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d51fc24064bd6b1e7f3d148bddba693"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a6d51fc24064bd6b1e7f3d148bddba693">networkstatus_note_certs_arrived</a> (const char *source_dir)</td></tr>
<tr class="separator:a6d51fc24064bd6b1e7f3d148bddba693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17d10602167e09e05f4d5aefc744141b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a17d10602167e09e05f4d5aefc744141b">routers_update_all_from_networkstatus</a> (time_t now, int dir_version)</td></tr>
<tr class="separator:a17d10602167e09e05f4d5aefc744141b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcfacad25b94db6f21e0df2f7897a3cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#afcfacad25b94db6f21e0df2f7897a3cf">routers_update_status_from_consensus_networkstatus</a> (<a class="el" href="structsmartlist__t.html">smartlist_t</a> *routers, int reset_failures)</td></tr>
<tr class="separator:afcfacad25b94db6f21e0df2f7897a3cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28083077a140f44e651523c894509005"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a28083077a140f44e651523c894509005">signed_descs_update_status_from_consensus_networkstatus</a> (<a class="el" href="structsmartlist__t.html">smartlist_t</a> *descs)</td></tr>
<tr class="separator:a28083077a140f44e651523c894509005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b2840d2a72326847e2e68152402dcf"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a07b2840d2a72326847e2e68152402dcf">networkstatus_getinfo_helper_single</a> (const <a class="el" href="structrouterstatus__t.html">routerstatus_t</a> *rs)</td></tr>
<tr class="separator:a07b2840d2a72326847e2e68152402dcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a522e50eabe88fdafcc39b375b6e4cced"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a522e50eabe88fdafcc39b375b6e4cced">networkstatus_getinfo_by_purpose</a> (const char *purpose_string, time_t now)</td></tr>
<tr class="separator:a522e50eabe88fdafcc39b375b6e4cced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada1c2d5fcccff6ee4e7aff6a497ec2cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#ada1c2d5fcccff6ee4e7aff6a497ec2cf">networkstatus_dump_bridge_status_to_file</a> (time_t now)</td></tr>
<tr class="separator:ada1c2d5fcccff6ee4e7aff6a497ec2cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb7867d902114fd43ab4ab111711c885"><td class="memItemLeft" align="right" valign="top"><a id="abb7867d902114fd43ab4ab111711c885"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MOCK_DECL</b> (int32_t, networkstatus_get_param,(const <a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *ns, const char *param_name, int32_t default_val, int32_t min_val, int32_t max_val))</td></tr>
<tr class="separator:abb7867d902114fd43ab4ab111711c885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ad61a285a56c1cf64f591666ffd42de"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a3ad61a285a56c1cf64f591666ffd42de">networkstatus_get_overridable_param</a> (const <a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *ns, int32_t torrc_value, const char *param_name, int32_t default_val, int32_t min_val, int32_t max_val)</td></tr>
<tr class="separator:a3ad61a285a56c1cf64f591666ffd42de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13617630ff7e7bd566e374e6610a8045"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a13617630ff7e7bd566e374e6610a8045">getinfo_helper_networkstatus</a> (<a class="el" href="structcontrol__connection__t.html">control_connection_t</a> *conn, const char *question, char **answer, const char **errmsg)</td></tr>
<tr class="separator:a13617630ff7e7bd566e374e6610a8045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a338c07af7ab37504729f7c1404b55"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#ad2a338c07af7ab37504729f7c1404b55">networkstatus_get_bw_weight</a> (<a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *ns, const char *weight, int32_t default_val)</td></tr>
<tr class="separator:ad2a338c07af7ab37504729f7c1404b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31e12c0cdd4c1a17f3ddcdab8cdcf86f"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a31e12c0cdd4c1a17f3ddcdab8cdcf86f">networkstatus_get_flavor_name</a> (<a class="el" href="or_8h.html#ada0879620550843533b891a49543b109">consensus_flavor_t</a> flav)</td></tr>
<tr class="separator:a31e12c0cdd4c1a17f3ddcdab8cdcf86f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a072f4231b410ee50501327f71d527e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a1a072f4231b410ee50501327f71d527e">networkstatus_parse_flavor_name</a> (const char *flavname)</td></tr>
<tr class="separator:a1a072f4231b410ee50501327f71d527e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a515529f6d2dbe7d504d291801ae5939b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a515529f6d2dbe7d504d291801ae5939b">document_signature_free_</a> (<a class="el" href="structdocument__signature__t.html">document_signature_t</a> *sig)</td></tr>
<tr class="separator:a515529f6d2dbe7d504d291801ae5939b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1f84b0c46db64ef2af6a8f2d5f9c25c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdocument__signature__t.html">document_signature_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#aa1f84b0c46db64ef2af6a8f2d5f9c25c">document_signature_dup</a> (const <a class="el" href="structdocument__signature__t.html">document_signature_t</a> *sig)</td></tr>
<tr class="separator:aa1f84b0c46db64ef2af6a8f2d5f9c25c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5903397efb4437a9f991843962369b72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a5903397efb4437a9f991843962369b72">networkstatus_free_all</a> (void)</td></tr>
<tr class="separator:a5903397efb4437a9f991843962369b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afda0b094982877af4c11b127167acb9e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#afda0b094982877af4c11b127167acb9e">networkstatus_get_weight_scale_param</a> (<a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *ns)</td></tr>
<tr class="separator:afda0b094982877af4c11b127167acb9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a1026b178124f6fedaf54066cca12a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="networkstatus_8h.html#a9a1026b178124f6fedaf54066cca12a0">vote_routerstatus_free_</a> (<a class="el" href="structvote__routerstatus__t.html">vote_routerstatus_t</a> *rs)</td></tr>
<tr class="separator:a9a1026b178124f6fedaf54066cca12a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for <a class="el" href="networkstatus_8c.html" title="Functions and structures for handling networkstatus documents as a client or as a directory cache...">networkstatus.c</a>. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a4393859fc27824306d0e6b183c863466"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4393859fc27824306d0e6b183c863466">&#9670;&nbsp;</a></span>client_would_use_router()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int client_would_use_router </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrouterstatus__t.html">routerstatus_t</a> *&#160;</td>
          <td class="paramname"><em>rs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 0 if this routerstatus is obsolete, too new, isn't running, or otherwise not a descriptor that we would make any use of even if we had it. Else return 1. </p>

</div>
</div>
<a id="a998a1af9202b3a8eec2327819b84bcee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a998a1af9202b3a8eec2327819b84bcee">&#9670;&nbsp;</a></span>compare_digest_to_routerstatus_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int compare_digest_to_routerstatus_entry </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void **&#160;</td>
          <td class="paramname"><em>_member</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Helper for bsearching a list of <a class="el" href="structrouterstatus__t.html">routerstatus_t</a> pointers: compare a digest in the key to the identity digest of a <a class="el" href="structrouterstatus__t.html">routerstatus_t</a>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a998a1af9202b3a8eec2327819b84bcee_cgraph.png" border="0" usemap="#networkstatus_8h_a998a1af9202b3a8eec2327819b84bcee_cgraph" alt=""/></div>
<map name="networkstatus_8h_a998a1af9202b3a8eec2327819b84bcee_cgraph" id="networkstatus_8h_a998a1af9202b3a8eec2327819b84bcee_cgraph">
<area shape="rect" id="node2" href="di__ops_8c.html#a47393c6ace65b9b2173d60ac6ae119aa" title="tor_memcmp" alt="" coords="261,13,360,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a998a1af9202b3a8eec2327819b84bcee_icgraph.png" border="0" usemap="#networkstatus_8h_a998a1af9202b3a8eec2327819b84bcee_icgraph" alt=""/></div>
<map name="networkstatus_8h_a998a1af9202b3a8eec2327819b84bcee_icgraph" id="networkstatus_8h_a998a1af9202b3a8eec2327819b84bcee_icgraph">
<area shape="rect" id="node2" href="networkstatus_8h.html#a041c69e1d5a274d07c162f9185605cd0" title="networkstatus_vote\l_find_mutable_entry" alt="" coords="279,5,417,47"/>
<area shape="rect" id="node5" href="networkstatus_8h.html#a4d3edab11be460ebb5dc5de0f07c7874" title="networkstatus_vote\l_find_entry_idx" alt="" coords="280,71,416,112"/>
<area shape="rect" id="node6" href="networkstatus_8h.html#abeb917388a503fd5c8e727d7a6bd675f" title="router_get_mutable\l_consensus_status_by_id" alt="" coords="261,136,435,177"/>
<area shape="rect" id="node3" href="networkstatus_8h.html#aae8d735fe9d889755f96e927f9e9c967" title="networkstatus_vote\l_find_entry" alt="" coords="490,5,626,47"/>
<area shape="rect" id="node4" href="router_8h.html#ad20dfba342b27eb97810f9141d5c14a1" title="mark_my_descriptor\l_dirty_if_too_old" alt="" coords="684,5,824,47"/>
<area shape="rect" id="node7" href="networkstatus_8h.html#a810a06fe9e7c7bd3a1c5c5ee8cc13b52" title="router_get_consensus\l_status_by_id" alt="" coords="483,136,633,177"/>
<area shape="rect" id="node8" href="connection__or_8h.html#a8573b49df7ffc3ad6df0faa6e7a12f10" title="connection_or_digest\l_is_known_relay" alt="" coords="681,136,827,177"/>
</map>
</div>

</div>
</div>
<a id="a208b46da9e333aa2712950089d0a2f54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a208b46da9e333aa2712950089d0a2f54">&#9670;&nbsp;</a></span>compare_digest_to_vote_routerstatus_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int compare_digest_to_vote_routerstatus_entry </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void **&#160;</td>
          <td class="paramname"><em>_member</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Helper for bsearching a list of <a class="el" href="structrouterstatus__t.html">routerstatus_t</a> pointers: compare a digest in the key to the identity digest of a <a class="el" href="structrouterstatus__t.html">routerstatus_t</a>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a208b46da9e333aa2712950089d0a2f54_cgraph.png" border="0" usemap="#networkstatus_8h_a208b46da9e333aa2712950089d0a2f54_cgraph" alt=""/></div>
<map name="networkstatus_8h_a208b46da9e333aa2712950089d0a2f54_cgraph" id="networkstatus_8h_a208b46da9e333aa2712950089d0a2f54_cgraph">
<area shape="rect" id="node2" href="di__ops_8c.html#a47393c6ace65b9b2173d60ac6ae119aa" title="tor_memcmp" alt="" coords="217,13,316,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a208b46da9e333aa2712950089d0a2f54_icgraph.png" border="0" usemap="#networkstatus_8h_a208b46da9e333aa2712950089d0a2f54_icgraph" alt=""/></div>
<map name="networkstatus_8h_a208b46da9e333aa2712950089d0a2f54_icgraph" id="networkstatus_8h_a208b46da9e333aa2712950089d0a2f54_icgraph">
<area shape="rect" id="node2" href="dirserv_8c.html#a9afa21451734581b626a94cb615375af" title="measured_bw_line_apply" alt="" coords="217,13,385,39"/>
</map>
</div>

</div>
</div>
<a id="af728d99cfd15f4902ee7471ce45a2dd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af728d99cfd15f4902ee7471ce45a2dd7">&#9670;&nbsp;</a></span>consensus_is_waiting_for_certs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int consensus_is_waiting_for_certs </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 1 if we have a consensus but we don't have enough certificates to start using it yet. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_af728d99cfd15f4902ee7471ce45a2dd7_icgraph.png" border="0" usemap="#networkstatus_8h_af728d99cfd15f4902ee7471ce45a2dd7_icgraph" alt=""/></div>
<map name="networkstatus_8h_af728d99cfd15f4902ee7471ce45a2dd7_icgraph" id="networkstatus_8h_af728d99cfd15f4902ee7471ce45a2dd7_icgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#a5d89145cb4ce8b8ccd79da09bfc3ce8c" title="MOCK_IMPL" alt="" coords="204,13,304,39"/>
</map>
</div>

</div>
</div>
<a id="aa1f84b0c46db64ef2af6a8f2d5f9c25c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1f84b0c46db64ef2af6a8f2d5f9c25c">&#9670;&nbsp;</a></span>document_signature_dup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdocument__signature__t.html">document_signature_t</a>* document_signature_dup </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdocument__signature__t.html">document_signature_t</a> *&#160;</td>
          <td class="paramname"><em>sig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a newly allocated copy of <b>sig</b> </p>

</div>
</div>
<a id="a515529f6d2dbe7d504d291801ae5939b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a515529f6d2dbe7d504d291801ae5939b">&#9670;&nbsp;</a></span>document_signature_free_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void document_signature_free_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdocument__signature__t.html">document_signature_t</a> *&#160;</td>
          <td class="paramname"><em>sig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free all storage held in <b>sig</b> </p>

</div>
</div>
<a id="a13617630ff7e7bd566e374e6610a8045"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13617630ff7e7bd566e374e6610a8045">&#9670;&nbsp;</a></span>getinfo_helper_networkstatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getinfo_helper_networkstatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcontrol__connection__t.html">control_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>question</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>answer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>errmsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If <b>question</b> is a string beginning with "ns/" in a format the control interface expects for a GETINFO question, set *<b>answer</b> to a newly-allocated string containing networkstatus lines for the appropriate ORs. Return 0 on success, -1 on unrecognized question format. </p>

</div>
</div>
<a id="a7bead3d790b19f3f5894a521526a3531"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bead3d790b19f3f5894a521526a3531">&#9670;&nbsp;</a></span>networkstatus_check_consensus_signature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int networkstatus_check_consensus_signature </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td>
          <td class="paramname"><em>consensus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>warn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a v3 networkstatus consensus in <b>consensus</b>, check every as-yet-unchecked signature on <b>consensus</b>. Return 1 if there is a signature from every recognized authority on it, 0 if there are enough good signatures from recognized authorities on it, -1 if we might get enough good signatures by fetching missing certificates, and -2 otherwise. Log messages at INFO or WARN: if <b>warn</b> is over 1, warn about every problem; if warn is at least 1, warn only if we can't get enough signatures; if warn is negative, log nothing at all. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a7bead3d790b19f3f5894a521526a3531_cgraph.png" border="0" usemap="#networkstatus_8h_a7bead3d790b19f3f5894a521526a3531_cgraph" alt=""/></div>
<map name="networkstatus_8h_a7bead3d790b19f3f5894a521526a3531_cgraph" id="networkstatus_8h_a7bead3d790b19f3f5894a521526a3531_cgraph">
<area shape="rect" id="node2" href="routerlist_8c.html#a40b0857598d14d49c8082667c70bc023" title="get_n_authorities" alt="" coords="205,13,327,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a7bead3d790b19f3f5894a521526a3531_icgraph.png" border="0" usemap="#networkstatus_8h_a7bead3d790b19f3f5894a521526a3531_icgraph" alt=""/></div>
<map name="networkstatus_8h_a7bead3d790b19f3f5894a521526a3531_icgraph" id="networkstatus_8h_a7bead3d790b19f3f5894a521526a3531_icgraph">
<area shape="rect" id="node2" href="networkstatus_8h.html#a6d51fc24064bd6b1e7f3d148bddba693" title="networkstatus_note\l_certs_arrived" alt="" coords="205,5,341,47"/>
</map>
</div>

</div>
</div>
<a id="a1695f89ba4a7206eab6d15d1e508c654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1695f89ba4a7206eab6d15d1e508c654">&#9670;&nbsp;</a></span>networkstatus_check_document_signature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int networkstatus_check_document_signature </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td>
          <td class="paramname"><em>consensus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdocument__signature__t.html">document_signature_t</a> *&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structauthority__cert__t.html">authority_cert_t</a> *&#160;</td>
          <td class="paramname"><em>cert</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether the signature <b>sig</b> is correctly signed with the signing key in <b>cert</b>. Return -1 if <b>cert</b> doesn't match the signing key; otherwise set the good_signature or bad_signature flag on <b>voter</b>, and return 0. </p>

</div>
</div>
<a id="a13394a9a2c5c03dfeb622fb8e461a9e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13394a9a2c5c03dfeb622fb8e461a9e1">&#9670;&nbsp;</a></span>networkstatus_consensus_can_use_multiple_directories()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int networkstatus_consensus_can_use_multiple_directories </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structor__options__t.html">or_options_t</a> *&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if we can use multiple directories for a consensus download. Only clients (including bridge relays, which act like clients) benefit from multiple simultaneous consensus downloads. </p>

</div>
</div>
<a id="af85567c13446bbbae84ce4199b3b2134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af85567c13446bbbae84ce4199b3b2134">&#9670;&nbsp;</a></span>networkstatus_consensus_download_failed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void networkstatus_consensus_download_failed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>status_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>flavname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when an attempt to download a consensus fails: note that the failure occurred, and possibly retry. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_af85567c13446bbbae84ce4199b3b2134_cgraph.png" border="0" usemap="#networkstatus_8h_af85567c13446bbbae84ce4199b3b2134_cgraph" alt=""/></div>
<map name="networkstatus_8h_af85567c13446bbbae84ce4199b3b2134_cgraph" id="networkstatus_8h_af85567c13446bbbae84ce4199b3b2134_cgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#a1a072f4231b410ee50501327f71d527e" title="networkstatus_parse\l_flavor_name" alt="" coords="228,5,371,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_af85567c13446bbbae84ce4199b3b2134_icgraph.png" border="0" usemap="#networkstatus_8h_af85567c13446bbbae84ce4199b3b2134_icgraph" alt=""/></div>
<map name="networkstatus_8h_af85567c13446bbbae84ce4199b3b2134_icgraph" id="networkstatus_8h_af85567c13446bbbae84ce4199b3b2134_icgraph">
<area shape="rect" id="node2" href="directory_8c.html#a4af7e7ade522a1f118e7770955ff50ea" title="handle_response_fetch\l_consensus" alt="" coords="228,5,384,47"/>
</map>
</div>

</div>
</div>
<a id="a2d356f4ab27d29e60c8f5114974fda96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d356f4ab27d29e60c8f5114974fda96">&#9670;&nbsp;</a></span>networkstatus_consensus_reasonably_live()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int networkstatus_consensus_reasonably_live </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td>
          <td class="paramname"><em>consensus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine if <b>consensus</b> is valid or expired recently enough that we can still use it.</p>
<p>Return 1 if the consensus is reasonably live, or 0 if it is too old. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a2d356f4ab27d29e60c8f5114974fda96_icgraph.png" border="0" usemap="#networkstatus_8h_a2d356f4ab27d29e60c8f5114974fda96_icgraph" alt=""/></div>
<map name="networkstatus_8h_a2d356f4ab27d29e60c8f5114974fda96_icgraph" id="networkstatus_8h_a2d356f4ab27d29e60c8f5114974fda96_icgraph">
<area shape="rect" id="node2" href="networkstatus_8h.html#a44accdf47b7f9f40b25c45daf2c31475" title="networkstatus_get_reasonably\l_live_consensus" alt="" coords="228,166,427,207"/>
<area shape="rect" id="node3" href="microdesc_8h.html#af6dd60dcd4d473a6b0c9fce9f0f3c1c3" title="microdesc_cache_clean" alt="" coords="492,5,655,32"/>
<area shape="rect" id="node4" href="microdesc_8h.html#aad7f413d899b72e58bed8efc0162d8bd" title="update_microdesc_downloads" alt="" coords="475,56,672,83"/>
<area shape="rect" id="node7" href="microdesc_8h.html#ad388d518c6750dce831b4d375e0efe5c" title="update_microdescs_from\l_networkstatus" alt="" coords="489,107,657,149"/>
<area shape="rect" id="node8" href="networkstatus_8c.html#a5d89145cb4ce8b8ccd79da09bfc3ce8c" title="MOCK_IMPL" alt="" coords="523,173,623,200"/>
<area shape="rect" id="node9" href="networkstatus_8h.html#a17d10602167e09e05f4d5aefc744141b" title="routers_update_all\l_from_networkstatus" alt="" coords="501,225,645,266"/>
<area shape="rect" id="node10" href="nodelist_8h.html#ae883dd13e0b2365df6ce859e79de0bdf" title="count_loading_descriptors\l_progress" alt="" coords="487,290,660,331"/>
<area shape="rect" id="node11" href="routerlist_8h.html#a8b67f737b9ea614297414b26eb3b784c" title="update_router_descriptor\l_downloads" alt="" coords="491,355,656,397"/>
<area shape="rect" id="node5" href="routerlist_8h.html#afe7f2c6bcc3135272bc6aa66ec09cd76" title="update_all_descriptor\l_downloads" alt="" coords="720,202,865,243"/>
<area shape="rect" id="node6" href="main_8h.html#ac64189cc036980dc5785f76d85db9fa6" title="directory_info_has\l_arrived" alt="" coords="913,202,1041,243"/>
</map>
</div>

</div>
</div>
<a id="ada1c2d5fcccff6ee4e7aff6a497ec2cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada1c2d5fcccff6ee4e7aff6a497ec2cf">&#9670;&nbsp;</a></span>networkstatus_dump_bridge_status_to_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void networkstatus_dump_bridge_status_to_file </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write out router status entries for all our bridge descriptors. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_ada1c2d5fcccff6ee4e7aff6a497ec2cf_cgraph.png" border="0" usemap="#networkstatus_8h_ada1c2d5fcccff6ee4e7aff6a497ec2cf_cgraph" alt=""/></div>
<map name="networkstatus_8h_ada1c2d5fcccff6ee4e7aff6a497ec2cf_cgraph" id="networkstatus_8h_ada1c2d5fcccff6ee4e7aff6a497ec2cf_cgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#a522e50eabe88fdafcc39b375b6e4cced" title="networkstatus_getinfo\l_by_purpose" alt="" coords="203,57,353,98"/>
<area shape="rect" id="node3" href="routerlist_8c.html#a9181bbed0ee6ff8088a7c53fc8c446f1" title="router_get_routerlist" alt="" coords="404,5,541,32"/>
<area shape="rect" id="node4" href="router_8c.html#a5822c27ea2e28fd0ff19da0dbc612611" title="router_purpose_from\l_string" alt="" coords="402,57,543,98"/>
<area shape="rect" id="node5" href="router_8c.html#aabab68011cc297e16ad83af25c521bf6" title="authdir_mode_bridge" alt="" coords="401,123,544,149"/>
<area shape="rect" id="node6" href="router_8c.html#a2d62b1eeaa990670a04de8dfbb42ab8f" title="authdir_mode" alt="" coords="592,123,692,149"/>
</map>
</div>

</div>
</div>
<a id="a5903397efb4437a9f991843962369b72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5903397efb4437a9f991843962369b72">&#9670;&nbsp;</a></span>networkstatus_free_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void networkstatus_free_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free all storage held locally in this module. </p>

</div>
</div>
<a id="ad2a338c07af7ab37504729f7c1404b55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a338c07af7ab37504729f7c1404b55">&#9670;&nbsp;</a></span>networkstatus_get_bw_weight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t networkstatus_get_bw_weight </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>weight_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>default_val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the value of a integer bw weight parameter from the networkstatus <b>ns</b> whose name is <b>weight_name</b>. If <b>ns</b> is NULL, try loading the latest consensus ourselves. Return <b>default_val</b> if no latest consensus, or if it has no parameter called <b>weight_name</b>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_ad2a338c07af7ab37504729f7c1404b55_cgraph.png" border="0" usemap="#networkstatus_8h_ad2a338c07af7ab37504729f7c1404b55_cgraph" alt=""/></div>
<map name="networkstatus_8h_ad2a338c07af7ab37504729f7c1404b55_cgraph" id="networkstatus_8h_ad2a338c07af7ab37504729f7c1404b55_cgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#afda0b094982877af4c11b127167acb9e" title="networkstatus_get_weight\l_scale_param" alt="" coords="207,5,381,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_ad2a338c07af7ab37504729f7c1404b55_icgraph.png" border="0" usemap="#networkstatus_8h_ad2a338c07af7ab37504729f7c1404b55_icgraph" alt=""/></div>
<map name="networkstatus_8h_ad2a338c07af7ab37504729f7c1404b55_icgraph" id="networkstatus_8h_ad2a338c07af7ab37504729f7c1404b55_icgraph">
<area shape="rect" id="node2" href="routerparse_8h.html#aadb249c6c48887d46e7fc9d396f26c21" title="networkstatus_verify\l_bw_weights" alt="" coords="207,5,349,47"/>
</map>
</div>

</div>
</div>
<a id="a31e12c0cdd4c1a17f3ddcdab8cdcf86f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31e12c0cdd4c1a17f3ddcdab8cdcf86f">&#9670;&nbsp;</a></span>networkstatus_get_flavor_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* networkstatus_get_flavor_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="or_8h.html#ada0879620550843533b891a49543b109">consensus_flavor_t</a>&#160;</td>
          <td class="paramname"><em>flav</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the name of the consensus flavor <b>flav</b> as used to identify the flavor in directory documents. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a31e12c0cdd4c1a17f3ddcdab8cdcf86f_icgraph.png" border="0" usemap="#networkstatus_8h_a31e12c0cdd4c1a17f3ddcdab8cdcf86f_icgraph" alt=""/></div>
<map name="networkstatus_8h_a31e12c0cdd4c1a17f3ddcdab8cdcf86f_icgraph" id="networkstatus_8h_a31e12c0cdd4c1a17f3ddcdab8cdcf86f_icgraph">
<area shape="rect" id="node2" href="networkstatus_8h.html#a6d51fc24064bd6b1e7f3d148bddba693" title="networkstatus_note\l_certs_arrived" alt="" coords="260,5,396,47"/>
</map>
</div>

</div>
</div>
<a id="a3ad61a285a56c1cf64f591666ffd42de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ad61a285a56c1cf64f591666ffd42de">&#9670;&nbsp;</a></span>networkstatus_get_overridable_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t networkstatus_get_overridable_param </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>torrc_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>default_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>min_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>max_val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As networkstatus_get_param(), but check torrc_value before checking the consensus. If torrc_value is in-range, then return it instead of the value from the consensus. </p>

</div>
</div>
<a id="a44accdf47b7f9f40b25c45daf2c31475"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44accdf47b7f9f40b25c45daf2c31475">&#9670;&nbsp;</a></span>networkstatus_get_reasonably_live_consensus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnetworkstatus__t.html">networkstatus_t</a>* networkstatus_get_reasonably_live_consensus </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flavor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As networkstatus_get_live_consensus(), but is way more tolerant of expired consensuses. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a44accdf47b7f9f40b25c45daf2c31475_cgraph.png" border="0" usemap="#networkstatus_8h_a44accdf47b7f9f40b25c45daf2c31475_cgraph" alt=""/></div>
<map name="networkstatus_8h_a44accdf47b7f9f40b25c45daf2c31475_cgraph" id="networkstatus_8h_a44accdf47b7f9f40b25c45daf2c31475_cgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#a2d356f4ab27d29e60c8f5114974fda96" title="networkstatus_consensus\l_reasonably_live" alt="" coords="252,5,427,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a44accdf47b7f9f40b25c45daf2c31475_icgraph.png" border="0" usemap="#networkstatus_8h_a44accdf47b7f9f40b25c45daf2c31475_icgraph" alt=""/></div>
<map name="networkstatus_8h_a44accdf47b7f9f40b25c45daf2c31475_icgraph" id="networkstatus_8h_a44accdf47b7f9f40b25c45daf2c31475_icgraph">
<area shape="rect" id="node2" href="microdesc_8h.html#af6dd60dcd4d473a6b0c9fce9f0f3c1c3" title="microdesc_cache_clean" alt="" coords="269,5,432,32"/>
<area shape="rect" id="node3" href="microdesc_8h.html#aad7f413d899b72e58bed8efc0162d8bd" title="update_microdesc_downloads" alt="" coords="252,56,449,83"/>
<area shape="rect" id="node6" href="microdesc_8h.html#ad388d518c6750dce831b4d375e0efe5c" title="update_microdescs_from\l_networkstatus" alt="" coords="267,107,435,149"/>
<area shape="rect" id="node7" href="networkstatus_8c.html#a5d89145cb4ce8b8ccd79da09bfc3ce8c" title="MOCK_IMPL" alt="" coords="301,173,401,200"/>
<area shape="rect" id="node8" href="networkstatus_8h.html#a17d10602167e09e05f4d5aefc744141b" title="routers_update_all\l_from_networkstatus" alt="" coords="279,225,423,266"/>
<area shape="rect" id="node9" href="nodelist_8h.html#ae883dd13e0b2365df6ce859e79de0bdf" title="count_loading_descriptors\l_progress" alt="" coords="264,290,437,331"/>
<area shape="rect" id="node10" href="routerlist_8h.html#a8b67f737b9ea614297414b26eb3b784c" title="update_router_descriptor\l_downloads" alt="" coords="268,355,433,397"/>
<area shape="rect" id="node4" href="routerlist_8h.html#afe7f2c6bcc3135272bc6aa66ec09cd76" title="update_all_descriptor\l_downloads" alt="" coords="497,202,643,243"/>
<area shape="rect" id="node5" href="main_8h.html#ac64189cc036980dc5785f76d85db9fa6" title="directory_info_has\l_arrived" alt="" coords="691,202,819,243"/>
</map>
</div>

</div>
</div>
<a id="a4b27ffbed3cfefd3cdefa2deda029f7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b27ffbed3cfefd3cdefa2deda029f7a">&#9670;&nbsp;</a></span>networkstatus_get_voter_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnetworkstatus__voter__info__t.html">networkstatus_voter_info_t</a>* networkstatus_get_voter_by_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td>
          <td class="paramname"><em>vote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>identity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the voter info from <b>vote</b> for the voter whose identity digest is <b>identity</b>, or NULL if no such voter is associated with <b>vote</b>. </p>

</div>
</div>
<a id="ab8c593a6979ddceeed0f80cc5e114488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8c593a6979ddceeed0f80cc5e114488">&#9670;&nbsp;</a></span>networkstatus_get_voter_sig_by_alg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdocument__signature__t.html">document_signature_t</a>* networkstatus_get_voter_sig_by_alg </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnetworkstatus__voter__info__t.html">networkstatus_voter_info_t</a> *&#160;</td>
          <td class="paramname"><em>voter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">digest_algorithm_t&#160;</td>
          <td class="paramname"><em>alg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the signature made by <b>voter</b> using the algorithm <b>alg</b>, or NULL if none is found. </p>

</div>
</div>
<a id="afda0b094982877af4c11b127167acb9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afda0b094982877af4c11b127167acb9e">&#9670;&nbsp;</a></span>networkstatus_get_weight_scale_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int networkstatus_get_weight_scale_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the consensus parameter that governs the fixed-point precision of our network balancing 'bandwidth-weights' (which are themselves integer consensus values). We divide them by this value and ensure they never exceed this value. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_afda0b094982877af4c11b127167acb9e_icgraph.png" border="0" usemap="#networkstatus_8h_afda0b094982877af4c11b127167acb9e_icgraph" alt=""/></div>
<map name="networkstatus_8h_afda0b094982877af4c11b127167acb9e_icgraph" id="networkstatus_8h_afda0b094982877af4c11b127167acb9e_icgraph">
<area shape="rect" id="node2" href="networkstatus_8h.html#ad2a338c07af7ab37504729f7c1404b55" title="networkstatus_get_bw\l_weight" alt="" coords="228,5,381,47"/>
<area shape="rect" id="node3" href="routerparse_8h.html#aadb249c6c48887d46e7fc9d396f26c21" title="networkstatus_verify\l_bw_weights" alt="" coords="429,35,572,76"/>
</map>
</div>

</div>
</div>
<a id="a522e50eabe88fdafcc39b375b6e4cced"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a522e50eabe88fdafcc39b375b6e4cced">&#9670;&nbsp;</a></span>networkstatus_getinfo_by_purpose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* networkstatus_getinfo_by_purpose </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>purpose_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Alloc and return a string describing routerstatuses for the most recent info of each router we know about that is of purpose <b>purpose_string</b>. Return NULL if unrecognized purpose.</p>
<p>Right now this function is oriented toward listing bridges (you shouldn't use this for general-purpose routers, since those should be listed from the consensus, not from the routers list). </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a522e50eabe88fdafcc39b375b6e4cced_cgraph.png" border="0" usemap="#networkstatus_8h_a522e50eabe88fdafcc39b375b6e4cced_cgraph" alt=""/></div>
<map name="networkstatus_8h_a522e50eabe88fdafcc39b375b6e4cced_cgraph" id="networkstatus_8h_a522e50eabe88fdafcc39b375b6e4cced_cgraph">
<area shape="rect" id="node2" href="routerlist_8c.html#a9181bbed0ee6ff8088a7c53fc8c446f1" title="router_get_routerlist" alt="" coords="207,5,344,32"/>
<area shape="rect" id="node3" href="router_8c.html#a5822c27ea2e28fd0ff19da0dbc612611" title="router_purpose_from\l_string" alt="" coords="205,57,346,98"/>
<area shape="rect" id="node4" href="router_8c.html#aabab68011cc297e16ad83af25c521bf6" title="authdir_mode_bridge" alt="" coords="204,123,347,149"/>
<area shape="rect" id="node5" href="router_8c.html#a2d62b1eeaa990670a04de8dfbb42ab8f" title="authdir_mode" alt="" coords="395,123,495,149"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a522e50eabe88fdafcc39b375b6e4cced_icgraph.png" border="0" usemap="#networkstatus_8h_a522e50eabe88fdafcc39b375b6e4cced_icgraph" alt=""/></div>
<map name="networkstatus_8h_a522e50eabe88fdafcc39b375b6e4cced_icgraph" id="networkstatus_8h_a522e50eabe88fdafcc39b375b6e4cced_icgraph">
<area shape="rect" id="node2" href="networkstatus_8h.html#ada1c2d5fcccff6ee4e7aff6a497ec2cf" title="networkstatus_dump\l_bridge_status_to_file" alt="" coords="204,5,353,47"/>
</map>
</div>

</div>
</div>
<a id="a07b2840d2a72326847e2e68152402dcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07b2840d2a72326847e2e68152402dcf">&#9670;&nbsp;</a></span>networkstatus_getinfo_helper_single()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* networkstatus_getinfo_helper_single </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrouterstatus__t.html">routerstatus_t</a> *&#160;</td>
          <td class="paramname"><em>rs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate networkstatus lines for a single <a class="el" href="structrouterstatus__t.html">routerstatus_t</a> object, and return the result in a newly allocated string. Used only by controller interface (for now.) </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a07b2840d2a72326847e2e68152402dcf_cgraph.png" border="0" usemap="#networkstatus_8h_a07b2840d2a72326847e2e68152402dcf_cgraph" alt=""/></div>
<map name="networkstatus_8h_a07b2840d2a72326847e2e68152402dcf_cgraph" id="networkstatus_8h_a07b2840d2a72326847e2e68152402dcf_cgraph">
<area shape="rect" id="node2" href="dirserv_8c.html#a462a8ae7270a4bea92c8d6269e7489db" title="routerstatus_format\l_entry" alt="" coords="204,5,339,47"/>
</map>
</div>

</div>
</div>
<a id="a97698b7c730bb880670662020a79ece0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97698b7c730bb880670662020a79ece0">&#9670;&nbsp;</a></span>networkstatus_is_live()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int networkstatus_is_live </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a consensus in <b>ns</b>, return true iff currently live and unexpired. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a97698b7c730bb880670662020a79ece0_icgraph.png" border="0" usemap="#networkstatus_8h_a97698b7c730bb880670662020a79ece0_icgraph" alt=""/></div>
<map name="networkstatus_8h_a97698b7c730bb880670662020a79ece0_icgraph" id="networkstatus_8h_a97698b7c730bb880670662020a79ece0_icgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#ad87fadf53d87fbd3d0cdcc7e2cccaf6f" title="MOCK_IMPL" alt="" coords="201,5,301,32"/>
</map>
</div>

</div>
</div>
<a id="a6d51fc24064bd6b1e7f3d148bddba693"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d51fc24064bd6b1e7f3d148bddba693">&#9670;&nbsp;</a></span>networkstatus_note_certs_arrived()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void networkstatus_note_certs_arrived </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source_dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when we have gotten more certificates: see whether we can now verify a pending consensus.</p>
<p>If source_dir is non-NULL, it's the identity digest for a directory that we've just successfully retrieved certificates from, so try it first to fetch any missing certificates. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a6d51fc24064bd6b1e7f3d148bddba693_cgraph.png" border="0" usemap="#networkstatus_8h_a6d51fc24064bd6b1e7f3d148bddba693_cgraph" alt=""/></div>
<map name="networkstatus_8h_a6d51fc24064bd6b1e7f3d148bddba693_cgraph" id="networkstatus_8h_a6d51fc24064bd6b1e7f3d148bddba693_cgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#a31e12c0cdd4c1a17f3ddcdab8cdcf86f" title="networkstatus_get_flavor_name" alt="" coords="189,5,396,32"/>
<area shape="rect" id="node3" href="networkstatus_8c.html#a7bead3d790b19f3f5894a521526a3531" title="networkstatus_check\l_consensus_signature" alt="" coords="217,57,369,98"/>
<area shape="rect" id="node5" href="networkstatus_8c.html#a2bc8e47c7dbfc9cb7dbabab161bd6764" title="networkstatus_set_current\l_consensus" alt="" coords="205,122,381,163"/>
<area shape="rect" id="node4" href="routerlist_8c.html#a40b0857598d14d49c8082667c70bc023" title="get_n_authorities" alt="" coords="455,64,576,91"/>
<area shape="rect" id="node6" href="util_8c.html#aca03d8cb6a22d540b13b92ea5945df33" title="approx_time" alt="" coords="469,121,562,148"/>
<area shape="rect" id="node7" href="networkstatus_8c.html#a1a072f4231b410ee50501327f71d527e" title="networkstatus_parse\l_flavor_name" alt="" coords="444,173,587,214"/>
</map>
</div>

</div>
</div>
<a id="a1a072f4231b410ee50501327f71d527e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a072f4231b410ee50501327f71d527e">&#9670;&nbsp;</a></span>networkstatus_parse_flavor_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int networkstatus_parse_flavor_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>flavname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the consensus_flavor_t value for the flavor called <b>flavname</b>, or -1 if the flavor is not recognized. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a1a072f4231b410ee50501327f71d527e_icgraph.png" border="0" usemap="#networkstatus_8h_a1a072f4231b410ee50501327f71d527e_icgraph" alt=""/></div>
<map name="networkstatus_8h_a1a072f4231b410ee50501327f71d527e_icgraph" id="networkstatus_8h_a1a072f4231b410ee50501327f71d527e_icgraph">
<area shape="rect" id="node2" href="networkstatus_8h.html#abf1e7e6cb46e4a70d63a54a42ba7d2ff" title="networkstatus_read\l_cached_consensus" alt="" coords="213,5,355,47"/>
<area shape="rect" id="node4" href="networkstatus_8h.html#af85567c13446bbbae84ce4199b3b2134" title="networkstatus_consensus\l_download_failed" alt="" coords="197,71,371,112"/>
<area shape="rect" id="node5" href="networkstatus_8h.html#a2bc8e47c7dbfc9cb7dbabab161bd6764" title="networkstatus_set_current\l_consensus" alt="" coords="196,136,372,177"/>
<area shape="rect" id="node3" href="directory_8c.html#a4af7e7ade522a1f118e7770955ff50ea" title="handle_response_fetch\l_consensus" alt="" coords="420,39,576,80"/>
<area shape="rect" id="node6" href="networkstatus_8h.html#a6d51fc24064bd6b1e7f3d148bddba693" title="networkstatus_note\l_certs_arrived" alt="" coords="430,136,566,177"/>
</map>
</div>

</div>
</div>
<a id="abf1e7e6cb46e4a70d63a54a42ba7d2ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf1e7e6cb46e4a70d63a54a42ba7d2ff">&#9670;&nbsp;</a></span>networkstatus_read_cached_consensus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* networkstatus_read_cached_consensus </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>flavorname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a new string containing the current cached consensus of flavor <b>flavorname</b>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_abf1e7e6cb46e4a70d63a54a42ba7d2ff_cgraph.png" border="0" usemap="#networkstatus_8h_abf1e7e6cb46e4a70d63a54a42ba7d2ff_cgraph" alt=""/></div>
<map name="networkstatus_8h_abf1e7e6cb46e4a70d63a54a42ba7d2ff_cgraph" id="networkstatus_8h_abf1e7e6cb46e4a70d63a54a42ba7d2ff_cgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#a1a072f4231b410ee50501327f71d527e" title="networkstatus_parse\l_flavor_name" alt="" coords="195,5,337,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_abf1e7e6cb46e4a70d63a54a42ba7d2ff_icgraph.png" border="0" usemap="#networkstatus_8h_abf1e7e6cb46e4a70d63a54a42ba7d2ff_icgraph" alt=""/></div>
<map name="networkstatus_8h_abf1e7e6cb46e4a70d63a54a42ba7d2ff_icgraph" id="networkstatus_8h_abf1e7e6cb46e4a70d63a54a42ba7d2ff_icgraph">
<area shape="rect" id="node2" href="directory_8c.html#a4af7e7ade522a1f118e7770955ff50ea" title="handle_response_fetch\l_consensus" alt="" coords="195,5,351,47"/>
</map>
</div>

</div>
</div>
<a id="ad86492baf32bd150a1848f70cc234977"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad86492baf32bd150a1848f70cc234977">&#9670;&nbsp;</a></span>networkstatus_reset_download_failures()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void networkstatus_reset_download_failures </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset the descriptor download failure count on all networkstatus docs, so that we can retry any long-failed documents immediately. </p>

</div>
</div>
<a id="ad970a8be0b1c191044f84bd686747e88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad970a8be0b1c191044f84bd686747e88">&#9670;&nbsp;</a></span>networkstatus_reset_warnings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void networkstatus_reset_warnings </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Forget that we've warned about anything networkstatus-related, so we will give fresh warnings if the same behavior happens again. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_ad970a8be0b1c191044f84bd686747e88_icgraph.png" border="0" usemap="#networkstatus_8h_ad970a8be0b1c191044f84bd686747e88_icgraph" alt=""/></div>
<map name="networkstatus_8h_ad970a8be0b1c191044f84bd686747e88_icgraph" id="networkstatus_8h_ad970a8be0b1c191044f84bd686747e88_icgraph">
<area shape="rect" id="node2" href="routerlist_8h.html#ad5591c87fbad96a88fa4d0145431ef87" title="routerlist_reset_warnings" alt="" coords="193,13,360,39"/>
</map>
</div>

</div>
</div>
<a id="a2bc8e47c7dbfc9cb7dbabab161bd6764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bc8e47c7dbfc9cb7dbabab161bd6764">&#9670;&nbsp;</a></span>networkstatus_set_current_consensus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int networkstatus_set_current_consensus </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>consensus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>flavor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source_dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Try to replace the current cached v3 networkstatus with the one in <b>consensus</b>. If we don't have enough certificates to validate it, store it in consensus_waiting_for_certs and launch a certificate fetch.</p>
<p>If flags &amp; NSSET_FROM_CACHE, this networkstatus has come from the disk cache. If flags &amp; NSSET_WAS_WAITING_FOR_CERTS, this networkstatus was already received, but we were waiting for certificates on it. If flags &amp; NSSET_DONT_DOWNLOAD_CERTS, do not launch certificate downloads as needed. If flags &amp; NSSET_ACCEPT_OBSOLETE, then we should be willing to take this consensus, even if it comes from many days in the past.</p>
<p>If source_dir is non-NULL, it's the identity digest for a directory that we've just successfully retrieved a consensus or certificates from, so try it first to fetch any missing certificates.</p>
<p>Return 0 on success, &lt;0 on failure. On failure, caller should increment the failure count as appropriate.</p>
<p>We return -1 for mild failures that don't need to be reported to the user, and -2 for more serious problems. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a2bc8e47c7dbfc9cb7dbabab161bd6764_cgraph.png" border="0" usemap="#networkstatus_8h_a2bc8e47c7dbfc9cb7dbabab161bd6764_cgraph" alt=""/></div>
<map name="networkstatus_8h_a2bc8e47c7dbfc9cb7dbabab161bd6764_cgraph" id="networkstatus_8h_a2bc8e47c7dbfc9cb7dbabab161bd6764_cgraph">
<area shape="rect" id="node2" href="util_8c.html#aca03d8cb6a22d540b13b92ea5945df33" title="approx_time" alt="" coords="254,5,347,32"/>
<area shape="rect" id="node3" href="networkstatus_8c.html#a1a072f4231b410ee50501327f71d527e" title="networkstatus_parse\l_flavor_name" alt="" coords="229,57,372,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a2bc8e47c7dbfc9cb7dbabab161bd6764_icgraph.png" border="0" usemap="#networkstatus_8h_a2bc8e47c7dbfc9cb7dbabab161bd6764_icgraph" alt=""/></div>
<map name="networkstatus_8h_a2bc8e47c7dbfc9cb7dbabab161bd6764_icgraph" id="networkstatus_8h_a2bc8e47c7dbfc9cb7dbabab161bd6764_icgraph">
<area shape="rect" id="node2" href="networkstatus_8h.html#a6d51fc24064bd6b1e7f3d148bddba693" title="networkstatus_note\l_certs_arrived" alt="" coords="229,5,365,47"/>
</map>
</div>

</div>
</div>
<a id="a89a28d47b1bbf648c55caf48c618ef87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89a28d47b1bbf648c55caf48c618ef87">&#9670;&nbsp;</a></span>networkstatus_valid_until_is_reasonably_live()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int networkstatus_valid_until_is_reasonably_live </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>valid_until</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As networkstatus_consensus_reasonably_live, but takes a valid_until time rather than an entire consensus. </p>

</div>
</div>
<a id="aae8d735fe9d889755f96e927f9e9c967"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae8d735fe9d889755f96e927f9e9c967">&#9670;&nbsp;</a></span>networkstatus_vote_find_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structrouterstatus__t.html">routerstatus_t</a>* networkstatus_vote_find_entry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the entry in <b>ns</b> for the identity digest <b>digest</b>, or NULL if none was found. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_aae8d735fe9d889755f96e927f9e9c967_cgraph.png" border="0" usemap="#networkstatus_8h_aae8d735fe9d889755f96e927f9e9c967_cgraph" alt=""/></div>
<map name="networkstatus_8h_aae8d735fe9d889755f96e927f9e9c967_cgraph" id="networkstatus_8h_aae8d735fe9d889755f96e927f9e9c967_cgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#a041c69e1d5a274d07c162f9185605cd0" title="networkstatus_vote\l_find_mutable_entry" alt="" coords="189,27,328,69"/>
<area shape="rect" id="node3" href="container_8c.html#a6722b8c6ca501b524958b3cdac2bc70c" title="smartlist_bsearch" alt="" coords="417,5,543,32"/>
<area shape="rect" id="node5" href="networkstatus_8c.html#a998a1af9202b3a8eec2327819b84bcee" title="compare_digest_to_routerstatus\l_entry" alt="" coords="376,57,584,98"/>
<area shape="rect" id="node4" href="container_8c.html#af0f195f396d7f97e7f2f2367453da119" title="smartlist_bsearch_idx" alt="" coords="632,5,781,32"/>
<area shape="rect" id="node6" href="di__ops_8c.html#a47393c6ace65b9b2173d60ac6ae119aa" title="tor_memcmp" alt="" coords="657,64,756,91"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_aae8d735fe9d889755f96e927f9e9c967_icgraph.png" border="0" usemap="#networkstatus_8h_aae8d735fe9d889755f96e927f9e9c967_icgraph" alt=""/></div>
<map name="networkstatus_8h_aae8d735fe9d889755f96e927f9e9c967_icgraph" id="networkstatus_8h_aae8d735fe9d889755f96e927f9e9c967_icgraph">
<area shape="rect" id="node2" href="router_8h.html#ad20dfba342b27eb97810f9141d5c14a1" title="mark_my_descriptor\l_dirty_if_too_old" alt="" coords="189,5,329,47"/>
</map>
</div>

</div>
</div>
<a id="a4d3edab11be460ebb5dc5de0f07c7874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d3edab11be460ebb5dc5de0f07c7874">&#9670;&nbsp;</a></span>networkstatus_vote_find_entry_idx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int networkstatus_vote_find_entry_idx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>found_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search the routerstatuses in <b>ns</b> for one whose identity digest is <b>digest</b>. Return value and set *<b>found_out</b> as for <a class="el" href="container_8c.html#af0f195f396d7f97e7f2f2367453da119">smartlist_bsearch_idx()</a>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a4d3edab11be460ebb5dc5de0f07c7874_cgraph.png" border="0" usemap="#networkstatus_8h_a4d3edab11be460ebb5dc5de0f07c7874_cgraph" alt=""/></div>
<map name="networkstatus_8h_a4d3edab11be460ebb5dc5de0f07c7874_cgraph" id="networkstatus_8h_a4d3edab11be460ebb5dc5de0f07c7874_cgraph">
<area shape="rect" id="node2" href="container_8c.html#af0f195f396d7f97e7f2f2367453da119" title="smartlist_bsearch_idx" alt="" coords="219,5,368,32"/>
<area shape="rect" id="node3" href="networkstatus_8c.html#a998a1af9202b3a8eec2327819b84bcee" title="compare_digest_to_routerstatus\l_entry" alt="" coords="189,57,397,98"/>
<area shape="rect" id="node4" href="di__ops_8c.html#a47393c6ace65b9b2173d60ac6ae119aa" title="tor_memcmp" alt="" coords="445,64,544,91"/>
</map>
</div>

</div>
</div>
<a id="a041c69e1d5a274d07c162f9185605cd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a041c69e1d5a274d07c162f9185605cd0">&#9670;&nbsp;</a></span>networkstatus_vote_find_mutable_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrouterstatus__t.html">routerstatus_t</a>* networkstatus_vote_find_mutable_entry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As networkstatus_find_entry, but do not return a const pointer </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a041c69e1d5a274d07c162f9185605cd0_cgraph.png" border="0" usemap="#networkstatus_8h_a041c69e1d5a274d07c162f9185605cd0_cgraph" alt=""/></div>
<map name="networkstatus_8h_a041c69e1d5a274d07c162f9185605cd0_cgraph" id="networkstatus_8h_a041c69e1d5a274d07c162f9185605cd0_cgraph">
<area shape="rect" id="node2" href="container_8c.html#a6722b8c6ca501b524958b3cdac2bc70c" title="smartlist_bsearch" alt="" coords="233,5,359,32"/>
<area shape="rect" id="node4" href="networkstatus_8c.html#a998a1af9202b3a8eec2327819b84bcee" title="compare_digest_to_routerstatus\l_entry" alt="" coords="192,57,400,98"/>
<area shape="rect" id="node3" href="container_8c.html#af0f195f396d7f97e7f2f2367453da119" title="smartlist_bsearch_idx" alt="" coords="448,5,597,32"/>
<area shape="rect" id="node5" href="di__ops_8c.html#a47393c6ace65b9b2173d60ac6ae119aa" title="tor_memcmp" alt="" coords="473,64,572,91"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a041c69e1d5a274d07c162f9185605cd0_icgraph.png" border="0" usemap="#networkstatus_8h_a041c69e1d5a274d07c162f9185605cd0_icgraph" alt=""/></div>
<map name="networkstatus_8h_a041c69e1d5a274d07c162f9185605cd0_icgraph" id="networkstatus_8h_a041c69e1d5a274d07c162f9185605cd0_icgraph">
<area shape="rect" id="node2" href="networkstatus_8h.html#aae8d735fe9d889755f96e927f9e9c967" title="networkstatus_vote\l_find_entry" alt="" coords="192,5,328,47"/>
<area shape="rect" id="node3" href="router_8h.html#ad20dfba342b27eb97810f9141d5c14a1" title="mark_my_descriptor\l_dirty_if_too_old" alt="" coords="376,5,516,47"/>
</map>
</div>

</div>
</div>
<a id="ac431574021ec26d0de3d84b9bd0b3f38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac431574021ec26d0de3d84b9bd0b3f38">&#9670;&nbsp;</a></span>networkstatus_vote_free_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void networkstatus_vote_free_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free all storage held in <b>ns</b>. </p>

</div>
</div>
<a id="ab67c1b78647e8e4babfbeee6ec9c767c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab67c1b78647e8e4babfbeee6ec9c767c">&#9670;&nbsp;</a></span>ns_detached_signatures_free_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ns_detached_signatures_free_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structns__detached__signatures__t.html">ns_detached_signatures_t</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release all storage held in <b>s</b>. </p>

</div>
</div>
<a id="ae26b18ffeeda912deab35abe7bfe31da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae26b18ffeeda912deab35abe7bfe31da">&#9670;&nbsp;</a></span>router_get_consensus_status_by_descriptor_digest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structrouterstatus__t.html">routerstatus_t</a>* router_get_consensus_status_by_descriptor_digest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td>
          <td class="paramname"><em>consensus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the consensus view of the status of the router whose current <em>descriptor</em> digest in <b>consensus</b> is <b>digest</b>, or NULL if no such router is known. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_ae26b18ffeeda912deab35abe7bfe31da_icgraph.png" border="0" usemap="#networkstatus_8h_ae26b18ffeeda912deab35abe7bfe31da_icgraph" alt=""/></div>
<map name="networkstatus_8h_ae26b18ffeeda912deab35abe7bfe31da_icgraph" id="networkstatus_8h_ae26b18ffeeda912deab35abe7bfe31da_icgraph">
<area shape="rect" id="node2" href="networkstatus_8h.html#a28083077a140f44e651523c894509005" title="signed_descs_update\l_status_from_consensus\l_networkstatus" alt="" coords="204,5,372,61"/>
</map>
</div>

</div>
</div>
<a id="a810a06fe9e7c7bd3a1c5c5ee8cc13b52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a810a06fe9e7c7bd3a1c5c5ee8cc13b52">&#9670;&nbsp;</a></span>router_get_consensus_status_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structrouterstatus__t.html">routerstatus_t</a>* router_get_consensus_status_by_id </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the consensus view of the status of the router whose identity digest is <b>digest</b>, or NULL if we don't know about any such router. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a810a06fe9e7c7bd3a1c5c5ee8cc13b52_cgraph.png" border="0" usemap="#networkstatus_8h_a810a06fe9e7c7bd3a1c5c5ee8cc13b52_cgraph" alt=""/></div>
<map name="networkstatus_8h_a810a06fe9e7c7bd3a1c5c5ee8cc13b52_cgraph" id="networkstatus_8h_a810a06fe9e7c7bd3a1c5c5ee8cc13b52_cgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#abeb917388a503fd5c8e727d7a6bd675f" title="router_get_mutable\l_consensus_status_by_id" alt="" coords="204,27,377,69"/>
<area shape="rect" id="node3" href="container_8c.html#a6722b8c6ca501b524958b3cdac2bc70c" title="smartlist_bsearch" alt="" coords="467,5,592,32"/>
<area shape="rect" id="node5" href="networkstatus_8c.html#a998a1af9202b3a8eec2327819b84bcee" title="compare_digest_to_routerstatus\l_entry" alt="" coords="425,57,633,98"/>
<area shape="rect" id="node4" href="container_8c.html#af0f195f396d7f97e7f2f2367453da119" title="smartlist_bsearch_idx" alt="" coords="681,5,831,32"/>
<area shape="rect" id="node6" href="di__ops_8c.html#a47393c6ace65b9b2173d60ac6ae119aa" title="tor_memcmp" alt="" coords="707,64,805,91"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a810a06fe9e7c7bd3a1c5c5ee8cc13b52_icgraph.png" border="0" usemap="#networkstatus_8h_a810a06fe9e7c7bd3a1c5c5ee8cc13b52_icgraph" alt=""/></div>
<map name="networkstatus_8h_a810a06fe9e7c7bd3a1c5c5ee8cc13b52_icgraph" id="networkstatus_8h_a810a06fe9e7c7bd3a1c5c5ee8cc13b52_icgraph">
<area shape="rect" id="node2" href="connection__or_8h.html#a8573b49df7ffc3ad6df0faa6e7a12f10" title="connection_or_digest\l_is_known_relay" alt="" coords="204,5,349,47"/>
</map>
</div>

</div>
</div>
<a id="abeb917388a503fd5c8e727d7a6bd675f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeb917388a503fd5c8e727d7a6bd675f">&#9670;&nbsp;</a></span>router_get_mutable_consensus_status_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrouterstatus__t.html">routerstatus_t</a>* router_get_mutable_consensus_status_by_id </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As router_get_consensus_status_by_id, but do not return a const pointer </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_abeb917388a503fd5c8e727d7a6bd675f_cgraph.png" border="0" usemap="#networkstatus_8h_abeb917388a503fd5c8e727d7a6bd675f_cgraph" alt=""/></div>
<map name="networkstatus_8h_abeb917388a503fd5c8e727d7a6bd675f_cgraph" id="networkstatus_8h_abeb917388a503fd5c8e727d7a6bd675f_cgraph">
<area shape="rect" id="node2" href="container_8c.html#a6722b8c6ca501b524958b3cdac2bc70c" title="smartlist_bsearch" alt="" coords="268,5,393,32"/>
<area shape="rect" id="node4" href="networkstatus_8c.html#a998a1af9202b3a8eec2327819b84bcee" title="compare_digest_to_routerstatus\l_entry" alt="" coords="227,57,435,98"/>
<area shape="rect" id="node3" href="container_8c.html#af0f195f396d7f97e7f2f2367453da119" title="smartlist_bsearch_idx" alt="" coords="483,5,632,32"/>
<area shape="rect" id="node5" href="di__ops_8c.html#a47393c6ace65b9b2173d60ac6ae119aa" title="tor_memcmp" alt="" coords="508,64,607,91"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_abeb917388a503fd5c8e727d7a6bd675f_icgraph.png" border="0" usemap="#networkstatus_8h_abeb917388a503fd5c8e727d7a6bd675f_icgraph" alt=""/></div>
<map name="networkstatus_8h_abeb917388a503fd5c8e727d7a6bd675f_icgraph" id="networkstatus_8h_abeb917388a503fd5c8e727d7a6bd675f_icgraph">
<area shape="rect" id="node2" href="networkstatus_8h.html#a810a06fe9e7c7bd3a1c5c5ee8cc13b52" title="router_get_consensus\l_status_by_id" alt="" coords="227,5,377,47"/>
<area shape="rect" id="node3" href="connection__or_8h.html#a8573b49df7ffc3ad6df0faa6e7a12f10" title="connection_or_digest\l_is_known_relay" alt="" coords="425,5,571,47"/>
</map>
</div>

</div>
</div>
<a id="aa6fd62492d7f4cfafd9ec042e995bfef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6fd62492d7f4cfafd9ec042e995bfef">&#9670;&nbsp;</a></span>router_reload_consensus_networkstatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int router_reload_consensus_networkstatus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read every cached v3 consensus networkstatus from the disk. </p>

</div>
</div>
<a id="a17d10602167e09e05f4d5aefc744141b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17d10602167e09e05f4d5aefc744141b">&#9670;&nbsp;</a></span>routers_update_all_from_networkstatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void routers_update_all_from_networkstatus </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir_version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the network-status list has changed since the last time we called this function, update the status of every routerinfo from the network-status list. If <b>dir_version</b> is 2, it's a v2 networkstatus that changed. If <b>dir_version</b> is 3, it's a v3 consensus that changed. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a17d10602167e09e05f4d5aefc744141b_cgraph.png" border="0" usemap="#networkstatus_8h_a17d10602167e09e05f4d5aefc744141b_cgraph" alt=""/></div>
<map name="networkstatus_8h_a17d10602167e09e05f4d5aefc744141b_cgraph" id="networkstatus_8h_a17d10602167e09e05f4d5aefc744141b_cgraph">
<area shape="rect" id="node2" href="routerlist_8c.html#a9181bbed0ee6ff8088a7c53fc8c446f1" title="router_get_routerlist" alt="" coords="228,5,365,32"/>
<area shape="rect" id="node3" href="networkstatus_8c.html#a44accdf47b7f9f40b25c45daf2c31475" title="networkstatus_get_reasonably\l_live_consensus" alt="" coords="197,57,396,98"/>
<area shape="rect" id="node4" href="networkstatus_8c.html#a2d356f4ab27d29e60c8f5114974fda96" title="networkstatus_consensus\l_reasonably_live" alt="" coords="444,57,619,98"/>
</map>
</div>

</div>
</div>
<a id="afcfacad25b94db6f21e0df2f7897a3cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcfacad25b94db6f21e0df2f7897a3cf">&#9670;&nbsp;</a></span>routers_update_status_from_consensus_networkstatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void routers_update_status_from_consensus_networkstatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>routers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reset_failures</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a list <b>routers</b> of <a class="el" href="structrouterinfo__t.html">routerinfo_t</a> *, update each status field according to our current consensus networkstatus. May re-order <b>routers</b>. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_afcfacad25b94db6f21e0df2f7897a3cf_icgraph.png" border="0" usemap="#networkstatus_8h_afcfacad25b94db6f21e0df2f7897a3cf_icgraph" alt=""/></div>
<map name="networkstatus_8h_afcfacad25b94db6f21e0df2f7897a3cf_icgraph" id="networkstatus_8h_afcfacad25b94db6f21e0df2f7897a3cf_icgraph">
<area shape="rect" id="node2" href="routerlist_8h.html#ae08c5697c58be20a7bb11b34ca9aba5e" title="router_load_routers\l_from_string" alt="" coords="268,5,401,47"/>
</map>
</div>

</div>
</div>
<a id="af7a88dc1dcc532507c069e007620677d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a88dc1dcc532507c069e007620677d">&#9670;&nbsp;</a></span>routerstatus_free_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void routerstatus_free_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrouterstatus__t.html">routerstatus_t</a> *&#160;</td>
          <td class="paramname"><em>rs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free all storage held by the routerstatus object <b>rs</b>. </p>

</div>
</div>
<a id="aa278011afd1917ef43cc44fac287f7bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa278011afd1917ef43cc44fac287f7bf">&#9670;&nbsp;</a></span>should_delay_dir_fetches()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int should_delay_dir_fetches </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structor__options__t.html">or_options_t</a> *&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>msg_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 1 if there's a reason we shouldn't try any directory fetches yet (e.g. we demand bridges and none are yet known). Else return 0.</p>
<p>If we return 1 and <b>msg_out</b> is provided, set <b>msg_out</b> to an explanation of why directory fetches are delayed. (If we return 0, we set msg_out to NULL.) </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_aa278011afd1917ef43cc44fac287f7bf_icgraph.png" border="0" usemap="#networkstatus_8h_aa278011afd1917ef43cc44fac287f7bf_icgraph" alt=""/></div>
<map name="networkstatus_8h_aa278011afd1917ef43cc44fac287f7bf_icgraph" id="networkstatus_8h_aa278011afd1917ef43cc44fac287f7bf_icgraph">
<area shape="rect" id="node2" href="microdesc_8h.html#aad7f413d899b72e58bed8efc0162d8bd" title="update_microdesc_downloads" alt="" coords="223,5,420,32"/>
<area shape="rect" id="node3" href="routerlist_8h.html#afe7f2c6bcc3135272bc6aa66ec09cd76" title="update_all_descriptor\l_downloads" alt="" coords="489,137,634,178"/>
<area shape="rect" id="node5" href="networkstatus_8h.html#a1283a3574ff7fb0ceb2f4b80af9bdbf6" title="update_networkstatus\l_downloads" alt="" coords="246,107,397,149"/>
<area shape="rect" id="node6" href="nodelist_8c.html#a487da95d8f7026bb714950516ac5fb95" title="MOCK_IMPL" alt="" coords="271,173,371,200"/>
<area shape="rect" id="node7" href="routerlist_8h.html#a91f37bda7b9149b1da0f1abfff66ab23" title="authority_certs_fetch\l_missing" alt="" coords="249,290,393,331"/>
<area shape="rect" id="node9" href="routerlist_8h.html#a8b67f737b9ea614297414b26eb3b784c" title="update_router_descriptor\l_downloads" alt="" coords="239,225,404,266"/>
<area shape="rect" id="node10" href="routerlist_8h.html#ab576efc7049ed4eca6fa56e9f0544844" title="update_extrainfo_downloads" alt="" coords="468,356,655,383"/>
<area shape="rect" id="node4" href="main_8h.html#ac64189cc036980dc5785f76d85db9fa6" title="directory_info_has\l_arrived" alt="" coords="703,243,831,285"/>
<area shape="rect" id="node8" href="networkstatus_8h.html#aac5e0a37016a04c309a791ae15ecc86a" title="update_certificate\l_downloads" alt="" coords="499,290,624,331"/>
</map>
</div>

</div>
</div>
<a id="a28083077a140f44e651523c894509005"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28083077a140f44e651523c894509005">&#9670;&nbsp;</a></span>signed_descs_update_status_from_consensus_networkstatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signed_descs_update_status_from_consensus_networkstatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>descs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a list of <a class="el" href="structsigned__descriptor__t.html">signed_descriptor_t</a>, update their fields (mainly, when they were last listed) from the most recent consensus. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a28083077a140f44e651523c894509005_cgraph.png" border="0" usemap="#networkstatus_8h_a28083077a140f44e651523c894509005_cgraph" alt=""/></div>
<map name="networkstatus_8h_a28083077a140f44e651523c894509005_cgraph" id="networkstatus_8h_a28083077a140f44e651523c894509005_cgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#ae26b18ffeeda912deab35abe7bfe31da" title="router_get_consensus\l_status_by_descriptor\l_digest" alt="" coords="221,5,372,61"/>
</map>
</div>

</div>
</div>
<a id="aac5e0a37016a04c309a791ae15ecc86a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac5e0a37016a04c309a791ae15ecc86a">&#9670;&nbsp;</a></span>update_certificate_downloads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update_certificate_downloads </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Launch requests as appropriate for missing directory authority certificates. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_aac5e0a37016a04c309a791ae15ecc86a_cgraph.png" border="0" usemap="#networkstatus_8h_aac5e0a37016a04c309a791ae15ecc86a_cgraph" alt=""/></div>
<map name="networkstatus_8h_aac5e0a37016a04c309a791ae15ecc86a_cgraph" id="networkstatus_8h_aac5e0a37016a04c309a791ae15ecc86a_cgraph">
<area shape="rect" id="node2" href="routerlist_8c.html#a91f37bda7b9149b1da0f1abfff66ab23" title="authority_certs_fetch\l_missing" alt="" coords="179,35,323,76"/>
<area shape="rect" id="node3" href="networkstatus_8c.html#ae571a0f2e98aee6bb9b6a0df669b6c25" title="we_want_to_fetch_unknown\l_auth_certs" alt="" coords="371,5,557,47"/>
<area shape="rect" id="node4" href="networkstatus_8c.html#aa278011afd1917ef43cc44fac287f7bf" title="should_delay_dir_fetches" alt="" coords="379,71,549,98"/>
</map>
</div>

</div>
</div>
<a id="ad5b06eef1d3ad0356efd75d050cb857d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5b06eef1d3ad0356efd75d050cb857d">&#9670;&nbsp;</a></span>update_consensus_networkstatus_fetch_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update_consensus_networkstatus_fetch_time </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the time at which we'll consider replacing the current consensus of flavor 'flavor' </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_ad5b06eef1d3ad0356efd75d050cb857d_cgraph.png" border="0" usemap="#networkstatus_8h_ad5b06eef1d3ad0356efd75d050cb857d_cgraph" alt=""/></div>
<map name="networkstatus_8h_ad5b06eef1d3ad0356efd75d050cb857d_cgraph" id="networkstatus_8h_ad5b06eef1d3ad0356efd75d050cb857d_cgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#a32d20f569e83b9acf580732e6369285c" title="we_want_to_fetch_flavor" alt="" coords="273,13,440,39"/>
</map>
</div>

</div>
</div>
<a id="a1283a3574ff7fb0ceb2f4b80af9bdbf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1283a3574ff7fb0ceb2f4b80af9bdbf6">&#9670;&nbsp;</a></span>update_networkstatus_downloads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update_networkstatus_downloads </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Launch requests for networkstatus documents as appropriate. This is called when we retry all the connections on a SIGHUP and periodically by a Periodic event which checks whether we want to download any networkstatus documents. </p>
<p>Launch a consensus download request, we will wait for the consensus to download and when it completes we will launch a certificate download request. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a1283a3574ff7fb0ceb2f4b80af9bdbf6_cgraph.png" border="0" usemap="#networkstatus_8h_a1283a3574ff7fb0ceb2f4b80af9bdbf6_cgraph" alt=""/></div>
<map name="networkstatus_8h_a1283a3574ff7fb0ceb2f4b80af9bdbf6_cgraph" id="networkstatus_8h_a1283a3574ff7fb0ceb2f4b80af9bdbf6_cgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#aa278011afd1917ef43cc44fac287f7bf" title="should_delay_dir_fetches" alt="" coords="204,13,373,39"/>
</map>
</div>

</div>
</div>
<a id="a9a1026b178124f6fedaf54066cca12a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a1026b178124f6fedaf54066cca12a0">&#9670;&nbsp;</a></span>vote_routerstatus_free_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vote_routerstatus_free_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvote__routerstatus__t.html">vote_routerstatus_t</a> *&#160;</td>
          <td class="paramname"><em>rs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free all storage held by the vote_routerstatus object <b>rs</b>. </p>

</div>
</div>
<a id="a32d20f569e83b9acf580732e6369285c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32d20f569e83b9acf580732e6369285c">&#9670;&nbsp;</a></span>we_want_to_fetch_flavor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int we_want_to_fetch_flavor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structor__options__t.html">or_options_t</a> *&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flavor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff, given the options listed in <b>options</b>, <b>flavor</b> is the flavor of a consensus networkstatus that we would like to fetch.</p>
<p>For certificate fetches, use we_want_to_fetch_unknown_auth_certs, and for serving fetched documents, use directory_caches_dir_info. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_a32d20f569e83b9acf580732e6369285c_icgraph.png" border="0" usemap="#networkstatus_8h_a32d20f569e83b9acf580732e6369285c_icgraph" alt=""/></div>
<map name="networkstatus_8h_a32d20f569e83b9acf580732e6369285c_icgraph" id="networkstatus_8h_a32d20f569e83b9acf580732e6369285c_icgraph">
<area shape="rect" id="node2" href="networkstatus_8h.html#ad5b06eef1d3ad0356efd75d050cb857d" title="update_consensus_networkstatus\l_fetch_time" alt="" coords="220,5,440,47"/>
</map>
</div>

</div>
</div>
<a id="ae571a0f2e98aee6bb9b6a0df669b6c25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae571a0f2e98aee6bb9b6a0df669b6c25">&#9670;&nbsp;</a></span>we_want_to_fetch_unknown_auth_certs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int we_want_to_fetch_unknown_auth_certs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structor__options__t.html">or_options_t</a> *&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff, given the options listed in <b>options</b>, we would like to fetch and store unknown authority certificates.</p>
<p>For consensus and descriptor fetches, use we_want_to_fetch_flavor, and for serving fetched certificates, use directory_caches_unknown_auth_certs. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="networkstatus_8h_ae571a0f2e98aee6bb9b6a0df669b6c25_icgraph.png" border="0" usemap="#networkstatus_8h_ae571a0f2e98aee6bb9b6a0df669b6c25_icgraph" alt=""/></div>
<map name="networkstatus_8h_ae571a0f2e98aee6bb9b6a0df669b6c25_icgraph" id="networkstatus_8h_ae571a0f2e98aee6bb9b6a0df669b6c25_icgraph">
<area shape="rect" id="node2" href="routerlist_8h.html#a91f37bda7b9149b1da0f1abfff66ab23" title="authority_certs_fetch\l_missing" alt="" coords="240,5,384,47"/>
<area shape="rect" id="node3" href="networkstatus_8h.html#aac5e0a37016a04c309a791ae15ecc86a" title="update_certificate\l_downloads" alt="" coords="432,5,557,47"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
