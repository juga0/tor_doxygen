<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tor: /home/user/_my/code/bwauth-related/tor/src/or/entrynodes.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tor
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97b64286d42c5ef1697cb5f17129db19.html">tor</a></li><li class="navelem"><a class="el" href="dir_3cb0ba3f4b82dbe34a1a06276e96bc8d.html">src</a></li><li class="navelem"><a class="el" href="dir_386635fabd7f6c74e9d9c7a8604514a0.html">or</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">entrynodes.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Code to manage our fixed first nodes for various functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="or_8h_source.html">or.h</a>&quot;</code><br />
<code>#include &quot;circpathbias.h&quot;</code><br />
<code>#include &quot;<a class="el" href="circuitbuild_8h_source.html">circuitbuild.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="circuitstats_8h_source.html">circuitstats.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="config_8h_source.html">config.h</a>&quot;</code><br />
<code>#include &quot;confparse.h&quot;</code><br />
<code>#include &quot;<a class="el" href="connection_8h_source.html">connection.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="connection__or_8h_source.html">connection_or.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="control_8h_source.html">control.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="directory_8h_source.html">directory.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="entrynodes_8h_source.html">entrynodes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="main_8h_source.html">main.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="microdesc_8h_source.html">microdesc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="networkstatus_8h_source.html">networkstatus.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nodelist_8h_source.html">nodelist.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="policies_8h_source.html">policies.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="router_8h_source.html">router.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="routerlist_8h_source.html">routerlist.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="routerparse_8h_source.html">routerparse.h</a>&quot;</code><br />
<code>#include &quot;routerset.h&quot;</code><br />
<code>#include &quot;<a class="el" href="transports_8h_source.html">transports.h</a>&quot;</code><br />
<code>#include &quot;statefile.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for entrynodes.c:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c__incl.png" border="0" usemap="#_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2entrynodes_8c" alt=""/></div>
<map name="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2entrynodes_8c" id="_2home_2user_2__my_2code_2bwauth-related_2tor_2src_2or_2entrynodes_8c">
<area shape="rect" id="node2" href="or_8h.html" title="Master header file for Tor&#45;specific functionality. " alt="" coords="643,109,687,136"/>
<area shape="rect" id="node29" href="circpathbias_8h_source.html" title="circpathbias.h" alt="" coords="711,109,814,136"/>
<area shape="rect" id="node30" href="circuitbuild_8h.html" title="Header file for circuitbuild.c. " alt="" coords="838,109,933,136"/>
<area shape="rect" id="node31" href="circuitstats_8h.html" title="Header file for circuitstats.c. " alt="" coords="957,109,1054,136"/>
<area shape="rect" id="node32" href="config_8h.html" title="Header file for config.c. " alt="" coords="1346,259,1414,285"/>
<area shape="rect" id="node33" href="confparse_8h_source.html" title="confparse.h" alt="" coords="1129,109,1220,136"/>
<area shape="rect" id="node34" href="connection_8h.html" title="Header file for connection.c. " alt="" coords="1411,184,1507,211"/>
<area shape="rect" id="node36" href="connection__or_8h.html" title="Header file for connection_or.c. " alt="" coords="1295,109,1409,136"/>
<area shape="rect" id="node37" href="control_8h.html" title="Header file for control.c. " alt="" coords="1433,109,1505,136"/>
<area shape="rect" id="node38" href="directory_8h.html" title="Header file for directory.c. " alt="" coords="1529,109,1612,136"/>
<area shape="rect" id="node39" href="entrynodes_8h.html" title="Header file for circuitbuild.c. " alt="" coords="1637,109,1734,136"/>
<area shape="rect" id="node40" href="main_8h.html" title="Header file for main.c. " alt="" coords="1759,109,1820,136"/>
<area shape="rect" id="node41" href="microdesc_8h.html" title="Header file for microdesc.c. " alt="" coords="1844,109,1937,136"/>
<area shape="rect" id="node42" href="networkstatus_8h.html" title="Header file for networkstatus.c. " alt="" coords="1509,408,1624,435"/>
<area shape="rect" id="node43" href="nodelist_8h.html" title="Header file for nodelist.c. " alt="" coords="2013,109,2091,136"/>
<area shape="rect" id="node44" href="policies_8h.html" title="Header file for policies.c. " alt="" coords="2116,109,2193,136"/>
<area shape="rect" id="node45" href="router_8h.html" title="Header file for router.c. " alt="" coords="1996,259,2063,285"/>
<area shape="rect" id="node46" href="routerlist_8h.html" title="Header file for routerlist.c. " alt="" coords="1707,408,1789,435"/>
<area shape="rect" id="node47" href="routerparse_8h.html" title="Header file for routerparse.c. " alt="" coords="2319,109,2417,136"/>
<area shape="rect" id="node48" href="routerset_8h_source.html" title="routerset.h" alt="" coords="2442,109,2526,136"/>
<area shape="rect" id="node49" href="transports_8h.html" title="Headers for transports.c. " alt="" coords="2551,109,2641,136"/>
<area shape="rect" id="node50" href="statefile_8h_source.html" title="statefile.h" alt="" coords="2666,109,2745,136"/>
<area shape="rect" id="node3" href="orconfig_8h_source.html" title="orconfig.h" alt="" coords="430,557,509,584"/>
<area shape="rect" id="node4" href="torint_8h.html" title="Header file to define uint32_t and friends. " alt="" coords="594,483,657,509"/>
<area shape="rect" id="node5" href="crypto_8h.html" title="Headers for crypto.c. " alt="" coords="668,333,737,360"/>
<area shape="rect" id="node12" href="crypto__format_8h_source.html" title="crypto_format.h" alt="" coords="1106,259,1219,285"/>
<area shape="rect" id="node13" href="crypto__ed25519_8h_source.html" title="crypto_ed25519.h" alt="" coords="1124,333,1249,360"/>
<area shape="rect" id="node14" href="crypto__curve25519_8h_source.html" title="crypto_curve25519.h" alt="" coords="1055,408,1198,435"/>
<area shape="rect" id="node15" href="tortls_8h.html" title="Headers for tortls.c. " alt="" coords="514,259,577,285"/>
<area shape="rect" id="node17" href="torlog_8h.html" title="Headers for log.c. " alt="" coords="813,333,878,360"/>
<area shape="rect" id="node18" href="container_8h_source.html" title="container.h" alt="" coords="202,259,289,285"/>
<area shape="rect" id="node21" href="torgzip_8h.html" title="Headers for torgzip.h. " alt="" coords="445,184,517,211"/>
<area shape="rect" id="node22" href="address_8h.html" title="Headers for address.h. " alt="" coords="287,184,366,211"/>
<area shape="rect" id="node23" href="compat__libevent_8h_source.html" title="compat_libevent.h" alt="" coords="1813,408,1941,435"/>
<area shape="rect" id="node25" href="ht_8h_source.html" title="ht.h" alt="" coords="643,184,687,211"/>
<area shape="rect" id="node26" href="replaycache_8h.html" title="Header file for replaycache.c. " alt="" coords="711,184,814,211"/>
<area shape="rect" id="node27" href="tor__queue_8h_source.html" title="tor_queue.h" alt="" coords="839,184,929,211"/>
<area shape="rect" id="node28" href="util__format_8h_source.html" title="util_format.h" alt="" coords="733,408,827,435"/>
<area shape="rect" id="node7" href="testsupport_8h_source.html" title="testsupport.h" alt="" coords="1237,483,1336,509"/>
<area shape="rect" id="node8" href="compat_8h_source.html" title="compat.h" alt="" coords="314,408,390,435"/>
<area shape="rect" id="node10" href="compat__time_8h.html" title="Functions and types for monotonic times. " alt="" coords="462,483,570,509"/>
<area shape="rect" id="node16" href="compat__openssl_8h.html" title="compatability definitions for working with different openssl forks " alt="" coords="516,333,644,360"/>
<area shape="rect" id="node19" href="util_8h.html" title="Headers for util.c. " alt="" coords="239,333,289,360"/>
<area shape="rect" id="node20" href="siphash_8h_source.html" title="siphash.h" alt="" coords="135,333,214,360"/>
<area shape="rect" id="node35" href="buffers_8h.html" title="Header file for buffers.c. " alt="" coords="1438,259,1511,285"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbridge__info__t.html">bridge_info_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aaf639dedf7da20e15c74f17ed20ff1a8"><td class="memItemLeft" align="right" valign="top"><a id="aaf639dedf7da20e15c74f17ed20ff1a8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ENTRYNODES_PRIVATE</b></td></tr>
<tr class="separator:aaf639dedf7da20e15c74f17ed20ff1a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0a367823ff8b82dd601aba4405fac5e"><td class="memItemLeft" align="right" valign="top"><a id="ac0a367823ff8b82dd601aba4405fac5e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_N_GUARDS</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ac0a367823ff8b82dd601aba4405fac5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29e339e26a285e458cbf39274b1ee46e"><td class="memItemLeft" align="right" valign="top"><a id="a29e339e26a285e458cbf39274b1ee46e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MIN_N_GUARDS</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a29e339e26a285e458cbf39274b1ee46e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a8cc90c669d7e0e13f3660f2ca02f71"><td class="memItemLeft" align="right" valign="top"><a id="a3a8cc90c669d7e0e13f3660f2ca02f71"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_N_GUARDS</b>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a3a8cc90c669d7e0e13f3660f2ca02f71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8ab7e90a7e94679402a2406a8b136eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#ad8ab7e90a7e94679402a2406a8b136eb">CHOSEN_ON_DATE_SLOP</a>&#160;&#160;&#160;(30*86400)</td></tr>
<tr class="separator:ad8ab7e90a7e94679402a2406a8b136eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6521774da6512632a7d61fb3cc1bfab0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a6521774da6512632a7d61fb3cc1bfab0">ENTRY_GUARD_REMOVE_AFTER</a>&#160;&#160;&#160;(30*24*60*60)</td></tr>
<tr class="separator:a6521774da6512632a7d61fb3cc1bfab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1e889a279a1ec7a864145f19d868f46"><td class="memItemLeft" align="right" valign="top"><a id="aa1e889a279a1ec7a864145f19d868f46"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DFLT_GUARD_LIFETIME</b>&#160;&#160;&#160;(86400 * 60)   /* Two months. */</td></tr>
<tr class="separator:aa1e889a279a1ec7a864145f19d868f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac1711cf17377fcbd97ffe2f0f56191"><td class="memItemLeft" align="right" valign="top"><a id="a0ac1711cf17377fcbd97ffe2f0f56191"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MIN_GUARD_LIFETIME</b>&#160;&#160;&#160;(86400 * 30)   /* One months. */</td></tr>
<tr class="separator:a0ac1711cf17377fcbd97ffe2f0f56191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cfcf9e66c2bf93747cf1f83cd1a7b28"><td class="memItemLeft" align="right" valign="top"><a id="a3cfcf9e66c2bf93747cf1f83cd1a7b28"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_GUARD_LIFETIME</b>&#160;&#160;&#160;(86400 * 1826) /* Five years. */</td></tr>
<tr class="separator:a3cfcf9e66c2bf93747cf1f83cd1a7b28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb0c7915d7a15c49d280940344ee334f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#abb0c7915d7a15c49d280940344ee334f">SLOW_GUARD_STATE_FLUSH_TIME</a>&#160;&#160;&#160;600</td></tr>
<tr class="separator:abb0c7915d7a15c49d280940344ee334f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad81819d8305e2ed8f171fc0ddc979bfe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#ad81819d8305e2ed8f171fc0ddc979bfe">FAST_GUARD_STATE_FLUSH_TIME</a>&#160;&#160;&#160;30</td></tr>
<tr class="separator:ad81819d8305e2ed8f171fc0ddc979bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3275a2122be652bd96574f81aa6145f1"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a3275a2122be652bd96574f81aa6145f1">get_entry_guards</a> (void)</td></tr>
<tr class="separator:a3275a2122be652bd96574f81aa6145f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34ef17d63d304b4c0f849cca5430844f"><td class="memItemLeft" align="right" valign="top">STATIC int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a34ef17d63d304b4c0f849cca5430844f">entry_is_time_to_retry</a> (const <a class="el" href="structentry__guard__t.html">entry_guard_t</a> *e, time_t now)</td></tr>
<tr class="separator:a34ef17d63d304b4c0f849cca5430844f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd4f8dd6f248abfc072ce641a568ddde"><td class="memItemLeft" align="right" valign="top">STATIC const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#afd4f8dd6f248abfc072ce641a568ddde">entry_is_live</a> (const <a class="el" href="structentry__guard__t.html">entry_guard_t</a> *e, entry_is_live_flags_t flags, const char **msg)</td></tr>
<tr class="separator:afd4f8dd6f248abfc072ce641a568ddde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc850d23175b5132661a8c6e561e972"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#accc850d23175b5132661a8c6e561e972">num_live_entry_guards</a> (int for_directory)</td></tr>
<tr class="separator:accc850d23175b5132661a8c6e561e972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a059f7981078a896a9349a578b82bc645"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structentry__guard__t.html">entry_guard_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a059f7981078a896a9349a578b82bc645">entry_guard_get_by_id_digest</a> (const char *digest)</td></tr>
<tr class="separator:a059f7981078a896a9349a578b82bc645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12aaa196d99fc0a6a4416c17f8274e76"><td class="memItemLeft" align="right" valign="top">STATIC const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a12aaa196d99fc0a6a4416c17f8274e76">add_an_entry_guard</a> (const <a class="el" href="structnode__t.html">node_t</a> *chosen, int reset_status, int prepend, int for_discovery, int for_directory)</td></tr>
<tr class="separator:a12aaa196d99fc0a6a4416c17f8274e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceef6f16e2ed25782da94e2e4f0f334d"><td class="memItemLeft" align="right" valign="top">STATIC int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#aceef6f16e2ed25782da94e2e4f0f334d">decide_num_guards</a> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options, int for_directory)</td></tr>
<tr class="separator:aceef6f16e2ed25782da94e2e4f0f334d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2059c6a8b0ae5f6bd64087fe00a27d9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a2059c6a8b0ae5f6bd64087fe00a27d9d">remove_all_entry_guards</a> (void)</td></tr>
<tr class="separator:a2059c6a8b0ae5f6bd64087fe00a27d9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa295479ccc485da15d0e03872188cd68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#aa295479ccc485da15d0e03872188cd68">entry_guards_compute_status</a> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options, time_t now)</td></tr>
<tr class="separator:aa295479ccc485da15d0e03872188cd68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca1100341edbe9b4ff26527595ab56e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#aca1100341edbe9b4ff26527595ab56e8">entry_guard_register_connect_status</a> (const char *digest, int succeeded, int mark_relay_status, time_t now)</td></tr>
<tr class="separator:aca1100341edbe9b4ff26527595ab56e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef450c6c3b8cc0a8e7461e3826338ce7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#aef450c6c3b8cc0a8e7461e3826338ce7">entry_nodes_should_be_added</a> (void)</td></tr>
<tr class="separator:aef450c6c3b8cc0a8e7461e3826338ce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefcc8b3f1675f7480f0123af7def1879"><td class="memItemLeft" align="right" valign="top">STATIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#aefcc8b3f1675f7480f0123af7def1879">entry_guards_set_from_config</a> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options)</td></tr>
<tr class="separator:aefcc8b3f1675f7480f0123af7def1879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a574dc0f7b96e7da5652ddb234d42adb3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a574dc0f7b96e7da5652ddb234d42adb3">entry_list_is_constrained</a> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options)</td></tr>
<tr class="separator:a574dc0f7b96e7da5652ddb234d42adb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cde644220a9eaa9b3bdbb92a25607bd"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a6cde644220a9eaa9b3bdbb92a25607bd">choose_random_entry</a> (<a class="el" href="structcpath__build__state__t.html">cpath_build_state_t</a> *state)</td></tr>
<tr class="separator:a6cde644220a9eaa9b3bdbb92a25607bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae344f63c9b48e15b2c3b025f6b1e3924"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#ae344f63c9b48e15b2c3b025f6b1e3924">choose_random_dirguard</a> (<a class="el" href="or_8h.html#ae733ffc8e2cde85d0705d947f8f86ada">dirinfo_type_t</a> type)</td></tr>
<tr class="separator:ae344f63c9b48e15b2c3b025f6b1e3924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad193b4a7bb449c0f91ab14e48849abea"><td class="memItemLeft" align="right" valign="top">STATIC int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#ad193b4a7bb449c0f91ab14e48849abea">populate_live_entry_guards</a> (<a class="el" href="structsmartlist__t.html">smartlist_t</a> *live_entry_guards, const <a class="el" href="structsmartlist__t.html">smartlist_t</a> *all_entry_guards, const <a class="el" href="structnode__t.html">node_t</a> *chosen_exit, <a class="el" href="or_8h.html#ae733ffc8e2cde85d0705d947f8f86ada">dirinfo_type_t</a> dirinfo_type, int for_directory, int need_uptime, int need_capacity)</td></tr>
<tr class="separator:ad193b4a7bb449c0f91ab14e48849abea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fe13e92c8806b6fe22889c7e7b303f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a9fe13e92c8806b6fe22889c7e7b303f5">entry_guards_parse_state</a> (<a class="el" href="structor__state__t.html">or_state_t</a> *state, int set, char **msg)</td></tr>
<tr class="separator:a9fe13e92c8806b6fe22889c7e7b303f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aedcf8995075b212cce9d510e9e70d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a1aedcf8995075b212cce9d510e9e70d7">entry_guards_changed</a> (void)</td></tr>
<tr class="separator:a1aedcf8995075b212cce9d510e9e70d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e4a5b6f39d4d23a701fa0ddc38e3e17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a6e4a5b6f39d4d23a701fa0ddc38e3e17">entry_guards_update_state</a> (<a class="el" href="structor__state__t.html">or_state_t</a> *state)</td></tr>
<tr class="separator:a6e4a5b6f39d4d23a701fa0ddc38e3e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3a6a46f97e2693fa41867ff68a88a0f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#ae3a6a46f97e2693fa41867ff68a88a0f">getinfo_helper_entry_guards</a> (<a class="el" href="structcontrol__connection__t.html">control_connection_t</a> *conn, const char *question, char **answer, const char **errmsg)</td></tr>
<tr class="separator:ae3a6a46f97e2693fa41867ff68a88a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcf00389e72807f2534ffd3da3de31e6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#abcf00389e72807f2534ffd3da3de31e6">should_apply_guardfraction</a> (const <a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *ns)</td></tr>
<tr class="separator:abcf00389e72807f2534ffd3da3de31e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5872840b23806e149551b63fbf4e5407"><td class="memItemLeft" align="right" valign="top"><a id="a5872840b23806e149551b63fbf4e5407"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>guard_get_guardfraction_bandwidth</b> (<a class="el" href="structguardfraction__bandwidth__t.html">guardfraction_bandwidth_t</a> *guardfraction_bw, int orig_bandwidth, uint32_t guardfraction_percentage)</td></tr>
<tr class="separator:a5872840b23806e149551b63fbf4e5407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1237fc3844be7dd672552a99ba137a88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a1237fc3844be7dd672552a99ba137a88">mark_bridge_list</a> (void)</td></tr>
<tr class="separator:a1237fc3844be7dd672552a99ba137a88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a365f2e514e0575326c05fb6c36aa3ce9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a365f2e514e0575326c05fb6c36aa3ce9">sweep_bridge_list</a> (void)</td></tr>
<tr class="separator:a365f2e514e0575326c05fb6c36aa3ce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d44019e06142d75bf330e273815c54f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a2d44019e06142d75bf330e273815c54f">addr_is_a_configured_bridge</a> (const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *addr, uint16_t port, const char *digest)</td></tr>
<tr class="separator:a2d44019e06142d75bf330e273815c54f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f341162101f7678384679361c28ae79"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a6f341162101f7678384679361c28ae79">extend_info_is_a_configured_bridge</a> (const <a class="el" href="structextend__info__t.html">extend_info_t</a> *ei)</td></tr>
<tr class="separator:a6f341162101f7678384679361c28ae79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2027007177e63941e2adf763a34a1b99"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a2027007177e63941e2adf763a34a1b99">routerinfo_is_a_configured_bridge</a> (const <a class="el" href="structrouterinfo__t.html">routerinfo_t</a> *ri)</td></tr>
<tr class="separator:a2027007177e63941e2adf763a34a1b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a823bac0acf5f6b68ab2074757215eac3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a823bac0acf5f6b68ab2074757215eac3">node_is_a_configured_bridge</a> (const <a class="el" href="structnode__t.html">node_t</a> *node)</td></tr>
<tr class="separator:a823bac0acf5f6b68ab2074757215eac3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1b2c6b58f355b442633b877f6a04202"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#aa1b2c6b58f355b442633b877f6a04202">learned_router_identity</a> (const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *addr, uint16_t port, const char *digest)</td></tr>
<tr class="separator:aa1b2c6b58f355b442633b877f6a04202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a97571e053b95a0088e4ffd06368d71"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a8a97571e053b95a0088e4ffd06368d71">MOCK_IMPL</a> (int, transport_is_needed,(const char *transport_name))</td></tr>
<tr class="separator:a8a97571e053b95a0088e4ffd06368d71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b9dfc22b29d81757bd2668cb28da37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a48b9dfc22b29d81757bd2668cb28da37">bridge_add_from_config</a> (<a class="el" href="structbridge__line__t.html">bridge_line_t</a> *bridge_line)</td></tr>
<tr class="separator:a48b9dfc22b29d81757bd2668cb28da37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06f10cf1c3269fd2a3a93fe696e6a662"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a06f10cf1c3269fd2a3a93fe696e6a662">find_transport_name_by_bridge_addrport</a> (const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *addr, uint16_t port)</td></tr>
<tr class="separator:a06f10cf1c3269fd2a3a93fe696e6a662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac470a19b5347828069e8678db5a87779"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#ac470a19b5347828069e8678db5a87779">get_transport_by_bridge_addrport</a> (const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *addr, uint16_t port, const <a class="el" href="structtransport__t.html">transport_t</a> **transport)</td></tr>
<tr class="separator:ac470a19b5347828069e8678db5a87779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a563fb20442805d5fbe516b5f60fed5fd"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a563fb20442805d5fbe516b5f60fed5fd">get_socks_args_by_bridge_addrport</a> (const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *addr, uint16_t port)</td></tr>
<tr class="separator:a563fb20442805d5fbe516b5f60fed5fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af586c6437018de91c926dbabb4c802d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#af586c6437018de91c926dbabb4c802d6">retry_bridge_descriptor_fetch_directly</a> (const char *digest)</td></tr>
<tr class="separator:af586c6437018de91c926dbabb4c802d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a958ebeeb4b45f01d919751bbcd6e79b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a958ebeeb4b45f01d919751bbcd6e79b2">fetch_bridge_descriptors</a> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options, time_t now)</td></tr>
<tr class="separator:a958ebeeb4b45f01d919751bbcd6e79b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8213fa6b22741a8c0b7d4834d7dccff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#af8213fa6b22741a8c0b7d4834d7dccff">learned_bridge_descriptor</a> (<a class="el" href="structrouterinfo__t.html">routerinfo_t</a> *ri, int from_cache)</td></tr>
<tr class="separator:af8213fa6b22741a8c0b7d4834d7dccff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab89703f540a86aadb7a54475e10ca673"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#ab89703f540a86aadb7a54475e10ca673">any_bridge_descriptors_known</a> (void)</td></tr>
<tr class="separator:ab89703f540a86aadb7a54475e10ca673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad993617859d2926dd439b56e8f46fcc8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#ad993617859d2926dd439b56e8f46fcc8">MOCK_IMPL</a> (<a class="el" href="structsmartlist__t.html">smartlist_t</a> *, list_bridge_identities,(void))</td></tr>
<tr class="separator:ad993617859d2926dd439b56e8f46fcc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaa8689579086cf0a64cba893541bf3e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#abaa8689579086cf0a64cba893541bf3e">MOCK_IMPL</a> (<a class="el" href="structdownload__status__t.html">download_status_t</a> *, get_bridge_dl_status_by_id,(const char *digest))</td></tr>
<tr class="separator:abaa8689579086cf0a64cba893541bf3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03f0faa21923511f6aa0338190066252"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a03f0faa21923511f6aa0338190066252">entries_known_but_down</a> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options)</td></tr>
<tr class="separator:a03f0faa21923511f6aa0338190066252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e6fe3993d40ab3adcf1e9a8e0bc9374"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#a3e6fe3993d40ab3adcf1e9a8e0bc9374">entries_retry_all</a> (const <a class="el" href="structor__options__t.html">or_options_t</a> *options)</td></tr>
<tr class="separator:a3e6fe3993d40ab3adcf1e9a8e0bc9374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec3f497d942ccb88742194e3fe973a49"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#aec3f497d942ccb88742194e3fe973a49">any_bridge_supports_microdescriptors</a> (void)</td></tr>
<tr class="separator:aec3f497d942ccb88742194e3fe973a49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2c7c43057097f0ca57f4429249f576"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="entrynodes_8c.html#afe2c7c43057097f0ca57f4429249f576">entry_guards_free_all</a> (void)</td></tr>
<tr class="separator:afe2c7c43057097f0ca57f4429249f576"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Code to manage our fixed first nodes for various functions. </p>
<p>Entry nodes can be guards (for general use) or bridges (for censorship circumvention). </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad8ab7e90a7e94679402a2406a8b136eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8ab7e90a7e94679402a2406a8b136eb">&#9670;&nbsp;</a></span>CHOSEN_ON_DATE_SLOP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHOSEN_ON_DATE_SLOP&#160;&#160;&#160;(30*86400)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Largest amount that we'll backdate chosen_on_date </p>

</div>
</div>
<a id="a6521774da6512632a7d61fb3cc1bfab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6521774da6512632a7d61fb3cc1bfab0">&#9670;&nbsp;</a></span>ENTRY_GUARD_REMOVE_AFTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENTRY_GUARD_REMOVE_AFTER&#160;&#160;&#160;(30*24*60*60)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>How long (in seconds) do we allow an entry guard to be nonfunctional, unlisted, excluded, or otherwise nonusable before we give up on it? </p>

</div>
</div>
<a id="ad81819d8305e2ed8f171fc0ddc979bfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad81819d8305e2ed8f171fc0ddc979bfe">&#9670;&nbsp;</a></span>FAST_GUARD_STATE_FLUSH_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAST_GUARD_STATE_FLUSH_TIME&#160;&#160;&#160;30</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>How long will we let a change in our guard nodes stay un-saved when we are not trying to avoid disk writes? </p>

</div>
</div>
<a id="abb0c7915d7a15c49d280940344ee334f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb0c7915d7a15c49d280940344ee334f">&#9670;&nbsp;</a></span>SLOW_GUARD_STATE_FLUSH_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SLOW_GUARD_STATE_FLUSH_TIME&#160;&#160;&#160;600</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>How long will we let a change in our guard nodes stay un-saved when we are trying to avoid disk writes? </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a12aaa196d99fc0a6a4416c17f8274e76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12aaa196d99fc0a6a4416c17f8274e76">&#9670;&nbsp;</a></span>add_an_entry_guard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC const <a class="el" href="structnode__t.html">node_t</a>* add_an_entry_guard </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>chosen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reset_status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prepend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>for_discovery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>for_directory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a new (preferably stable and fast) router to our entry_guards list. Return a pointer to the router if we succeed, or NULL if we can't find any more suitable entries.</p>
<p>If <b>chosen</b> is defined, use that one, and if it's not already in our entry_guards list, put it at the <em>beginning</em>. Else, put the one we pick at the end of the list. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_a12aaa196d99fc0a6a4416c17f8274e76_cgraph.png" border="0" usemap="#entrynodes_8c_a12aaa196d99fc0a6a4416c17f8274e76_cgraph" alt=""/></div>
<map name="entrynodes_8c_a12aaa196d99fc0a6a4416c17f8274e76_cgraph" id="entrynodes_8c_a12aaa196d99fc0a6a4416c17f8274e76_cgraph">
<area shape="rect" id="node2" href="entrynodes_8c.html#a059f7981078a896a9349a578b82bc645" title="entry_guard_get_by\l_id_digest" alt="" coords="213,5,349,47"/>
<area shape="rect" id="node4" href="nodelist_8c.html#a77b3951a642f54746fa04cb65a0a30c4" title="node_is_dir" alt="" coords="237,71,325,98"/>
<area shape="rect" id="node5" href="entrynodes_8c.html#a823bac0acf5f6b68ab2074757215eac3" title="node_is_a_configured\l_bridge" alt="" coords="207,123,355,164"/>
<area shape="rect" id="node7" href="circuitbuild_8c.html#a550f632e8e414c563bd41e35dbd820db" title="choose_good_entry_server" alt="" coords="192,189,371,215"/>
<area shape="rect" id="node8" href="routerlist_8c.html#ace83aa582c6836e9a172a8cafa1d4047" title="router_pick_directory\l_server" alt="" coords="210,240,353,281"/>
<area shape="rect" id="node3" href="di__ops_8c.html#a473334ee93cca0aea10523321a444ea3" title="tor_memeq" alt="" coords="447,13,533,39"/>
<area shape="rect" id="node6" href="nodelist_8c.html#a551827c8c00ee79f3d3663d11b2b60a0" title="node_get_all_orports" alt="" coords="419,130,561,157"/>
<area shape="rect" id="node9" href="routerlist_8c.html#ab3e64366c95e82de40cac88b7a39ae17" title="router_pick_directory\l_server_impl" alt="" coords="419,240,561,281"/>
</map>
</div>

</div>
</div>
<a id="a2d44019e06142d75bf330e273815c54f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d44019e06142d75bf330e273815c54f">&#9670;&nbsp;</a></span>addr_is_a_configured_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int addr_is_a_configured_bridge </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If we have a bridge configured whose digest matches <b>digest</b>, or a bridge with no known digest whose address matches <b>addr</b>:<b>port</b>, return 1. Else return 0. If <b>digest</b> is NULL, check for address/port matches only. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_a2d44019e06142d75bf330e273815c54f_icgraph.png" border="0" usemap="#entrynodes_8c_a2d44019e06142d75bf330e273815c54f_icgraph" alt=""/></div>
<map name="entrynodes_8c_a2d44019e06142d75bf330e273815c54f_icgraph" id="entrynodes_8c_a2d44019e06142d75bf330e273815c54f_icgraph">
<area shape="rect" id="node2" href="entrynodes_8h.html#a6f341162101f7678384679361c28ae79" title="extend_info_is_a_configured\l_bridge" alt="" coords="199,5,385,47"/>
</map>
</div>

</div>
</div>
<a id="ab89703f540a86aadb7a54475e10ca673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab89703f540a86aadb7a54475e10ca673">&#9670;&nbsp;</a></span>any_bridge_descriptors_known()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int any_bridge_descriptors_known </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the number of bridges that have descriptors that are marked with purpose 'bridge' and are running.</p>
<p>We use this function to decide if we're ready to start building circuits through our bridges, or if we need to wait until the directory "server/authority" requests finish. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_ab89703f540a86aadb7a54475e10ca673_cgraph.png" border="0" usemap="#entrynodes_8c_ab89703f540a86aadb7a54475e10ca673_cgraph" alt=""/></div>
<map name="entrynodes_8c_ab89703f540a86aadb7a54475e10ca673_cgraph" id="entrynodes_8c_ab89703f540a86aadb7a54475e10ca673_cgraph">
<area shape="rect" id="node2" href="entrynodes_8c.html#a6cde644220a9eaa9b3bdbb92a25607bd" title="choose_random_entry" alt="" coords="209,13,360,39"/>
</map>
</div>

</div>
</div>
<a id="aec3f497d942ccb88742194e3fe973a49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec3f497d942ccb88742194e3fe973a49">&#9670;&nbsp;</a></span>any_bridge_supports_microdescriptors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int any_bridge_supports_microdescriptors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true if at least one of our bridges runs a Tor version that can provide microdescriptors to us. If not, we'll fall back to asking for full descriptors. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_aec3f497d942ccb88742194e3fe973a49_icgraph.png" border="0" usemap="#entrynodes_8c_aec3f497d942ccb88742194e3fe973a49_icgraph" alt=""/></div>
<map name="entrynodes_8c_aec3f497d942ccb88742194e3fe973a49_icgraph" id="entrynodes_8c_aec3f497d942ccb88742194e3fe973a49_icgraph">
<area shape="rect" id="node2" href="microdesc_8h.html#adeff3a88aa40b67ab6407bda5c941910" title="we_use_microdescriptors\l_for_circuits" alt="" coords="196,49,367,90"/>
<area shape="rect" id="node3" href="microdesc_8h.html#ad9c983a76a2f31a6a843f4df9be7de1d" title="we_fetch_microdescriptors" alt="" coords="419,5,597,32"/>
<area shape="rect" id="node4" href="microdesc_8h.html#a2667d23ef05f514b5bf916791b4a6bbd" title="we_fetch_router_descriptors" alt="" coords="415,56,601,83"/>
<area shape="rect" id="node8" href="microdesc_8c.html#a01ac96e92e27b924141e47289fc633b2" title="MOCK_IMPL" alt="" coords="458,107,558,133"/>
<area shape="rect" id="node5" href="routerlist_8h.html#a8b67f737b9ea614297414b26eb3b784c" title="update_router_descriptor\l_downloads" alt="" coords="649,49,815,90"/>
<area shape="rect" id="node6" href="routerlist_8h.html#afe7f2c6bcc3135272bc6aa66ec09cd76" title="update_all_descriptor\l_downloads" alt="" coords="863,49,1008,90"/>
<area shape="rect" id="node7" href="main_8h.html#ac64189cc036980dc5785f76d85db9fa6" title="directory_info_has\l_arrived" alt="" coords="1056,49,1184,90"/>
</map>
</div>

</div>
</div>
<a id="a48b9dfc22b29d81757bd2668cb28da37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48b9dfc22b29d81757bd2668cb28da37">&#9670;&nbsp;</a></span>bridge_add_from_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bridge_add_from_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbridge__line__t.html">bridge_line_t</a> *&#160;</td>
          <td class="paramname"><em>bridge_line</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register the bridge information in <b>bridge_line</b> to the bridge subsystem. Steals reference of <b>bridge_line</b>. </p>

</div>
</div>
<a id="ae344f63c9b48e15b2c3b025f6b1e3924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae344f63c9b48e15b2c3b025f6b1e3924">&#9670;&nbsp;</a></span>choose_random_dirguard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structnode__t.html">node_t</a>* choose_random_dirguard </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="or_8h.html#ae733ffc8e2cde85d0705d947f8f86ada">dirinfo_type_t</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pick a live (up and listed) directory guard from entry_guards for downloading information of type <b>type</b>. </p>

</div>
</div>
<a id="a6cde644220a9eaa9b3bdbb92a25607bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cde644220a9eaa9b3bdbb92a25607bd">&#9670;&nbsp;</a></span>choose_random_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structnode__t.html">node_t</a>* choose_random_entry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcpath__build__state__t.html">cpath_build_state_t</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pick a live (up and listed) entry guard from entry_guards. If <b>state</b> is non-NULL, this is for a specific circuit &ndash; make sure not to pick this circuit's exit or any node in the exit's family. If <b>state</b> is NULL, we're looking for a random guard (likely a bridge). If <b>dirinfo</b> is not NO_DIRINFO (zero), then only select from nodes that know how to answer directory questions of that type. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_a6cde644220a9eaa9b3bdbb92a25607bd_icgraph.png" border="0" usemap="#entrynodes_8c_a6cde644220a9eaa9b3bdbb92a25607bd_icgraph" alt=""/></div>
<map name="entrynodes_8c_a6cde644220a9eaa9b3bdbb92a25607bd_icgraph" id="entrynodes_8c_a6cde644220a9eaa9b3bdbb92a25607bd_icgraph">
<area shape="rect" id="node2" href="entrynodes_8h.html#ab89703f540a86aadb7a54475e10ca673" title="any_bridge_descriptors\l_known" alt="" coords="204,5,360,47"/>
</map>
</div>

</div>
</div>
<a id="aceef6f16e2ed25782da94e2e4f0f334d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aceef6f16e2ed25782da94e2e4f0f334d">&#9670;&nbsp;</a></span>decide_num_guards()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC int decide_num_guards </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structor__options__t.html">or_options_t</a> *&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>for_directory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Choose how many entry guards or directory guards we'll use. If <b>for_directory</b> is true, we return how many directory guards to use; else we return how many entry guards to use. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_aceef6f16e2ed25782da94e2e4f0f334d_cgraph.png" border="0" usemap="#entrynodes_8c_aceef6f16e2ed25782da94e2e4f0f334d_cgraph" alt=""/></div>
<map name="entrynodes_8c_aceef6f16e2ed25782da94e2e4f0f334d_cgraph" id="entrynodes_8c_aceef6f16e2ed25782da94e2e4f0f334d_cgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#aba1790be4b1cea243c3dac989ad1b05c" title="networkstatus_get_param" alt="" coords="192,5,364,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_aceef6f16e2ed25782da94e2e4f0f334d_icgraph.png" border="0" usemap="#entrynodes_8c_aceef6f16e2ed25782da94e2e4f0f334d_icgraph" alt=""/></div>
<map name="entrynodes_8c_aceef6f16e2ed25782da94e2e4f0f334d_icgraph" id="entrynodes_8c_aceef6f16e2ed25782da94e2e4f0f334d_icgraph">
<area shape="rect" id="node2" href="entrynodes_8c.html#aefcc8b3f1675f7480f0123af7def1879" title="entry_guards_set_from\l_config" alt="" coords="192,5,347,47"/>
<area shape="rect" id="node3" href="entrynodes_8c.html#ad193b4a7bb449c0f91ab14e48849abea" title="populate_live_entry\l_guards" alt="" coords="202,71,337,112"/>
</map>
</div>

</div>
</div>
<a id="a03f0faa21923511f6aa0338190066252"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03f0faa21923511f6aa0338190066252">&#9670;&nbsp;</a></span>entries_known_but_down()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int entries_known_but_down </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structor__options__t.html">or_options_t</a> *&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Do we know any descriptors for our bridges / entrynodes, and are all the ones we have descriptors for down? </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_a03f0faa21923511f6aa0338190066252_cgraph.png" border="0" usemap="#entrynodes_8c_a03f0faa21923511f6aa0338190066252_cgraph" alt=""/></div>
<map name="entrynodes_8c_a03f0faa21923511f6aa0338190066252_cgraph" id="entrynodes_8c_a03f0faa21923511f6aa0338190066252_cgraph">
<area shape="rect" id="node2" href="entrynodes_8c.html#a574dc0f7b96e7da5652ddb234d42adb3" title="entry_list_is_constrained" alt="" coords="223,5,389,32"/>
</map>
</div>

</div>
</div>
<a id="a3e6fe3993d40ab3adcf1e9a8e0bc9374"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e6fe3993d40ab3adcf1e9a8e0bc9374">&#9670;&nbsp;</a></span>entries_retry_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void entries_retry_all </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structor__options__t.html">or_options_t</a> *&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mark all down known bridges / entrynodes up. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_a3e6fe3993d40ab3adcf1e9a8e0bc9374_cgraph.png" border="0" usemap="#entrynodes_8c_a3e6fe3993d40ab3adcf1e9a8e0bc9374_cgraph" alt=""/></div>
<map name="entrynodes_8c_a3e6fe3993d40ab3adcf1e9a8e0bc9374_cgraph" id="entrynodes_8c_a3e6fe3993d40ab3adcf1e9a8e0bc9374_cgraph">
<area shape="rect" id="node2" href="entrynodes_8c.html#a574dc0f7b96e7da5652ddb234d42adb3" title="entry_list_is_constrained" alt="" coords="168,5,335,32"/>
</map>
</div>

</div>
</div>
<a id="a059f7981078a896a9349a578b82bc645"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a059f7981078a896a9349a578b82bc645">&#9670;&nbsp;</a></span>entry_guard_get_by_id_digest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structentry__guard__t.html">entry_guard_t</a>* entry_guard_get_by_id_digest </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If <b>digest</b> matches the identity of any node in the entry_guards list, return that node. Else return NULL. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_a059f7981078a896a9349a578b82bc645_cgraph.png" border="0" usemap="#entrynodes_8c_a059f7981078a896a9349a578b82bc645_cgraph" alt=""/></div>
<map name="entrynodes_8c_a059f7981078a896a9349a578b82bc645_cgraph" id="entrynodes_8c_a059f7981078a896a9349a578b82bc645_cgraph">
<area shape="rect" id="node2" href="di__ops_8c.html#a473334ee93cca0aea10523321a444ea3" title="tor_memeq" alt="" coords="189,13,276,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_a059f7981078a896a9349a578b82bc645_icgraph.png" border="0" usemap="#entrynodes_8c_a059f7981078a896a9349a578b82bc645_icgraph" alt=""/></div>
<map name="entrynodes_8c_a059f7981078a896a9349a578b82bc645_icgraph" id="entrynodes_8c_a059f7981078a896a9349a578b82bc645_icgraph">
<area shape="rect" id="node2" href="entrynodes_8c.html#a12aaa196d99fc0a6a4416c17f8274e76" title="add_an_entry_guard" alt="" coords="189,13,328,39"/>
</map>
</div>

</div>
</div>
<a id="aca1100341edbe9b4ff26527595ab56e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca1100341edbe9b4ff26527595ab56e8">&#9670;&nbsp;</a></span>entry_guard_register_connect_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int entry_guard_register_connect_status </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>succeeded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mark_relay_status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when a connection to an OR with the identity digest <b>digest</b> is established (<b>succeeded</b>==1) or has failed (<b>succeeded</b>==0). If the OR is an entry, change that entry's up/down status. Return 0 normally, or -1 if we want to tear down the new connection.</p>
<p>If <b>mark_relay_status</b>, also call <a class="el" href="nodelist_8c.html#af9b98a83a74416a5d6cb256c66110b1b">router_set_status()</a> on this relay. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_aca1100341edbe9b4ff26527595ab56e8_cgraph.png" border="0" usemap="#entrynodes_8c_aca1100341edbe9b4ff26527595ab56e8_cgraph" alt=""/></div>
<map name="entrynodes_8c_aca1100341edbe9b4ff26527595ab56e8_cgraph" id="entrynodes_8c_aca1100341edbe9b4ff26527595ab56e8_cgraph">
<area shape="rect" id="node2" href="di__ops_8c.html#a473334ee93cca0aea10523321a444ea3" title="tor_memeq" alt="" coords="207,5,293,32"/>
<area shape="rect" id="node3" href="util__format_8c.html#a8b8940b2ef607928eb3dca4850567ea5" title="base16_encode" alt="" coords="193,56,307,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_aca1100341edbe9b4ff26527595ab56e8_icgraph.png" border="0" usemap="#entrynodes_8c_aca1100341edbe9b4ff26527595ab56e8_icgraph" alt=""/></div>
<map name="entrynodes_8c_aca1100341edbe9b4ff26527595ab56e8_icgraph" id="entrynodes_8c_aca1100341edbe9b4ff26527595ab56e8_icgraph">
<area shape="rect" id="node2" href="channel_8c.html#a4bb9524073333e156da271ca623a772d" title="channel_do_open_actions" alt="" coords="193,13,365,39"/>
</map>
</div>

</div>
</div>
<a id="a1aedcf8995075b212cce9d510e9e70d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aedcf8995075b212cce9d510e9e70d7">&#9670;&nbsp;</a></span>entry_guards_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void entry_guards_changed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Our list of entry guards has changed, or some element of one of our entry guards has changed. Write the changes to disk within the next few minutes. </p>

</div>
</div>
<a id="aa295479ccc485da15d0e03872188cd68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa295479ccc485da15d0e03872188cd68">&#9670;&nbsp;</a></span>entry_guards_compute_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void entry_guards_compute_status </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structor__options__t.html">or_options_t</a> *&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A new directory or router-status has arrived; update the down/listed status of the entry guards.</p>
<p>An entry is 'down' if the directory lists it as nonrunning. An entry is 'unlisted' if the directory doesn't include it.</p>
<p>Don't call this on startup; only on a fresh download. Otherwise we'll think that things are unlisted. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_aa295479ccc485da15d0e03872188cd68_cgraph.png" border="0" usemap="#entrynodes_8c_aa295479ccc485da15d0e03872188cd68_cgraph" alt=""/></div>
<map name="entrynodes_8c_aa295479ccc485da15d0e03872188cd68_cgraph" id="entrynodes_8c_aa295479ccc485da15d0e03872188cd68_cgraph">
<area shape="rect" id="node2" href="entrynodes_8c.html#aef450c6c3b8cc0a8e7461e3826338ce7" title="entry_nodes_should\l_be_added" alt="" coords="208,5,347,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_aa295479ccc485da15d0e03872188cd68_icgraph.png" border="0" usemap="#entrynodes_8c_aa295479ccc485da15d0e03872188cd68_icgraph" alt=""/></div>
<map name="entrynodes_8c_aa295479ccc485da15d0e03872188cd68_icgraph" id="entrynodes_8c_aa295479ccc485da15d0e03872188cd68_icgraph">
<area shape="rect" id="node2" href="main_8h.html#ac64189cc036980dc5785f76d85db9fa6" title="directory_info_has\l_arrived" alt="" coords="208,5,336,47"/>
</map>
</div>

</div>
</div>
<a id="afe2c7c43057097f0ca57f4429249f576"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe2c7c43057097f0ca57f4429249f576">&#9670;&nbsp;</a></span>entry_guards_free_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void entry_guards_free_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release all storage held by the list of entry guards and related memory structs. </p>

</div>
</div>
<a id="a9fe13e92c8806b6fe22889c7e7b303f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fe13e92c8806b6fe22889c7e7b303f5">&#9670;&nbsp;</a></span>entry_guards_parse_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int entry_guards_parse_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structor__state__t.html">or_state_t</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse <b>state</b> and learn about the entry guards it describes. If <b>set</b> is true, and there are no errors, replace the global entry_list with what we find. On success, return 0. On failure, alloc into *<b>msg</b> a string describing the error, and return -1. </p>

</div>
</div>
<a id="aefcc8b3f1675f7480f0123af7def1879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefcc8b3f1675f7480f0123af7def1879">&#9670;&nbsp;</a></span>entry_guards_set_from_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC void entry_guards_set_from_config </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structor__options__t.html">or_options_t</a> *&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adjust the entry guards list so that it only contains entries from EntryNodes, adding new entries from EntryNodes to the list as needed. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_aefcc8b3f1675f7480f0123af7def1879_cgraph.png" border="0" usemap="#entrynodes_8c_aefcc8b3f1675f7480f0123af7def1879_cgraph" alt=""/></div>
<map name="entrynodes_8c_aefcc8b3f1675f7480f0123af7def1879_cgraph" id="entrynodes_8c_aefcc8b3f1675f7480f0123af7def1879_cgraph">
<area shape="rect" id="node2" href="entrynodes_8c.html#aceef6f16e2ed25782da94e2e4f0f334d" title="decide_num_guards" alt="" coords="208,13,347,39"/>
<area shape="rect" id="node3" href="networkstatus_8c.html#aba1790be4b1cea243c3dac989ad1b05c" title="networkstatus_get_param" alt="" coords="395,13,567,39"/>
</map>
</div>

</div>
</div>
<a id="a6e4a5b6f39d4d23a701fa0ddc38e3e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e4a5b6f39d4d23a701fa0ddc38e3e17">&#9670;&nbsp;</a></span>entry_guards_update_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void entry_guards_update_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structor__state__t.html">or_state_t</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the entry guard info has not changed, do nothing and return. Otherwise, free the EntryGuards piece of <b>state</b> and create a new one out of the global entry_guards list, and then mark <b>state</b> dirty so it will get saved to disk. </p>

</div>
</div>
<a id="afd4f8dd6f248abfc072ce641a568ddde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd4f8dd6f248abfc072ce641a568ddde">&#9670;&nbsp;</a></span>entry_is_live()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC const <a class="el" href="structnode__t.html">node_t</a>* entry_is_live </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structentry__guard__t.html">entry_guard_t</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">entry_is_live_flags_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the node corresponding to <b>e</b>, if <b>e</b> is working well enough that we are willing to use it as an entry right now. (Else return NULL.) In particular, it must be</p><ul>
<li>Listed as either up or never yet contacted;</li>
<li>Present in the routerlist;</li>
<li>Listed as 'stable' or 'fast' by the current dirserver consensus, if demanded by <b>need_uptime</b> or <b>need_capacity</b> (unless it's a configured EntryNode);</li>
<li>Allowed by our current ReachableORAddresses config option; and</li>
<li>Currently thought to be reachable by us (unless <b>assume_reachable</b> is true).</li>
</ul>
<p>If the answer is no, set *<b>msg</b> to an explanation of why.</p>
<p>If need_descriptor is true, only return the node if we currently have a descriptor (routerinfo or microdesc) for it. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_afd4f8dd6f248abfc072ce641a568ddde_cgraph.png" border="0" usemap="#entrynodes_8c_afd4f8dd6f248abfc072ce641a568ddde_cgraph" alt=""/></div>
<map name="entrynodes_8c_afd4f8dd6f248abfc072ce641a568ddde_cgraph" id="entrynodes_8c_afd4f8dd6f248abfc072ce641a568ddde_cgraph">
<area shape="rect" id="node2" href="entrynodes_8c.html#a34ef17d63d304b4c0f849cca5430844f" title="entry_is_time_to_retry" alt="" coords="167,5,317,32"/>
<area shape="rect" id="node3" href="nodelist_8c.html#a4f18b4f896106632fed68e339debbb63" title="node_has_descriptor" alt="" coords="171,56,313,83"/>
<area shape="rect" id="node4" href="nodelist_8c.html#ab43ea384ab6fafd3d360460011ec2a43" title="node_get_purpose" alt="" coords="178,107,306,133"/>
<area shape="rect" id="node5" href="entrynodes_8c.html#a823bac0acf5f6b68ab2074757215eac3" title="node_is_a_configured\l_bridge" alt="" coords="168,158,316,199"/>
<area shape="rect" id="node7" href="routerset_8c.html#a59dc48808ca97d25748411b8053b28a2" title="routerset_contains_node" alt="" coords="160,224,324,251"/>
<area shape="rect" id="node12" href="nodelist_8c.html#a78e60dd983647dd0229d85517eba6921" title="node_is_unreliable" alt="" coords="177,275,307,301"/>
<area shape="rect" id="node13" href="policies_8c.html#abcacc2af3dccb862768358fb53eb4570" title="fascist_firewall_allows_node" alt="" coords="148,325,336,352"/>
<area shape="rect" id="node6" href="nodelist_8c.html#a551827c8c00ee79f3d3663d11b2b60a0" title="node_get_all_orports" alt="" coords="384,165,527,192"/>
<area shape="rect" id="node8" href="routerset_8c.html#a46e8468ce37722ff71b91efd9d2f7ff0" title="routerset_contains\l_routerstatus" alt="" coords="391,217,520,258"/>
<area shape="rect" id="node11" href="routerset_8c.html#aa8942cc067a62102c0d51b88bcd3709f" title="routerset_contains\l_router" alt="" coords="391,282,520,323"/>
<area shape="rect" id="node9" href="routerset_8c.html#a1eda4526d656d042e5143ec79ee66be2" title="routerset_contains" alt="" coords="575,257,704,284"/>
<area shape="rect" id="node10" href="container_8c.html#a1406b823cb6088df755f1b81153d137e" title="strmap_get_lc" alt="" coords="752,257,856,284"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_afd4f8dd6f248abfc072ce641a568ddde_icgraph.png" border="0" usemap="#entrynodes_8c_afd4f8dd6f248abfc072ce641a568ddde_icgraph" alt=""/></div>
<map name="entrynodes_8c_afd4f8dd6f248abfc072ce641a568ddde_icgraph" id="entrynodes_8c_afd4f8dd6f248abfc072ce641a568ddde_icgraph">
<area shape="rect" id="node2" href="entrynodes_8h.html#accc850d23175b5132661a8c6e561e972" title="num_live_entry_guards" alt="" coords="148,5,304,32"/>
<area shape="rect" id="node3" href="entrynodes_8c.html#ad193b4a7bb449c0f91ab14e48849abea" title="populate_live_entry\l_guards" alt="" coords="159,57,293,98"/>
</map>
</div>

</div>
</div>
<a id="a34ef17d63d304b4c0f849cca5430844f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34ef17d63d304b4c0f849cca5430844f">&#9670;&nbsp;</a></span>entry_is_time_to_retry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC int entry_is_time_to_retry </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structentry__guard__t.html">entry_guard_t</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true iff enough time has passed since we last tried to connect to the unreachable guard <b>e</b> that we're willing to try again. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_a34ef17d63d304b4c0f849cca5430844f_icgraph.png" border="0" usemap="#entrynodes_8c_a34ef17d63d304b4c0f849cca5430844f_icgraph" alt=""/></div>
<map name="entrynodes_8c_a34ef17d63d304b4c0f849cca5430844f_icgraph" id="entrynodes_8c_a34ef17d63d304b4c0f849cca5430844f_icgraph">
<area shape="rect" id="node2" href="entrynodes_8c.html#afd4f8dd6f248abfc072ce641a568ddde" title="entry_is_live" alt="" coords="204,35,299,61"/>
<area shape="rect" id="node3" href="entrynodes_8h.html#accc850d23175b5132661a8c6e561e972" title="num_live_entry_guards" alt="" coords="347,5,503,32"/>
<area shape="rect" id="node4" href="entrynodes_8c.html#ad193b4a7bb449c0f91ab14e48849abea" title="populate_live_entry\l_guards" alt="" coords="357,57,492,98"/>
</map>
</div>

</div>
</div>
<a id="a574dc0f7b96e7da5652ddb234d42adb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a574dc0f7b96e7da5652ddb234d42adb3">&#9670;&nbsp;</a></span>entry_list_is_constrained()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int entry_list_is_constrained </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structor__options__t.html">or_options_t</a> *&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 0 if we're fine adding arbitrary routers out of the directory to our entry guard list, or return 1 if we have a list already and we must stick to it. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_a574dc0f7b96e7da5652ddb234d42adb3_icgraph.png" border="0" usemap="#entrynodes_8c_a574dc0f7b96e7da5652ddb234d42adb3_icgraph" alt=""/></div>
<map name="entrynodes_8c_a574dc0f7b96e7da5652ddb234d42adb3_icgraph" id="entrynodes_8c_a574dc0f7b96e7da5652ddb234d42adb3_icgraph">
<area shape="rect" id="node2" href="entrynodes_8h.html#a03f0faa21923511f6aa0338190066252" title="entries_known_but_down" alt="" coords="220,5,389,32"/>
<area shape="rect" id="node3" href="entrynodes_8h.html#a3e6fe3993d40ab3adcf1e9a8e0bc9374" title="entries_retry_all" alt="" coords="247,56,362,83"/>
</map>
</div>

</div>
</div>
<a id="aef450c6c3b8cc0a8e7461e3826338ce7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef450c6c3b8cc0a8e7461e3826338ce7">&#9670;&nbsp;</a></span>entry_nodes_should_be_added()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void entry_nodes_should_be_added </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when the value of EntryNodes changes in our configuration. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_aef450c6c3b8cc0a8e7461e3826338ce7_icgraph.png" border="0" usemap="#entrynodes_8c_aef450c6c3b8cc0a8e7461e3826338ce7_icgraph" alt=""/></div>
<map name="entrynodes_8c_aef450c6c3b8cc0a8e7461e3826338ce7_icgraph" id="entrynodes_8c_aef450c6c3b8cc0a8e7461e3826338ce7_icgraph">
<area shape="rect" id="node2" href="entrynodes_8h.html#aa295479ccc485da15d0e03872188cd68" title="entry_guards_compute\l_status" alt="" coords="192,5,347,47"/>
<area shape="rect" id="node3" href="main_8h.html#ac64189cc036980dc5785f76d85db9fa6" title="directory_info_has\l_arrived" alt="" coords="395,5,523,47"/>
</map>
</div>

</div>
</div>
<a id="a6f341162101f7678384679361c28ae79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f341162101f7678384679361c28ae79">&#9670;&nbsp;</a></span>extend_info_is_a_configured_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int extend_info_is_a_configured_bridge </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structextend__info__t.html">extend_info_t</a> *&#160;</td>
          <td class="paramname"><em>ei</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If we have a bridge configured whose digest matches <b>ei-&gt;identity_digest</b>, or a bridge with no known digest whose address matches <b>ei-&gt;addr</b>:<b>ei-&gt;port</b>, return 1. Else return 0. If <b>ei-&gt;onion_key</b> is NULL, check for address/port matches only. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_a6f341162101f7678384679361c28ae79_cgraph.png" border="0" usemap="#entrynodes_8c_a6f341162101f7678384679361c28ae79_cgraph" alt=""/></div>
<map name="entrynodes_8c_a6f341162101f7678384679361c28ae79_cgraph" id="entrynodes_8c_a6f341162101f7678384679361c28ae79_cgraph">
<area shape="rect" id="node2" href="entrynodes_8c.html#a2d44019e06142d75bf330e273815c54f" title="addr_is_a_configured\l_bridge" alt="" coords="240,5,385,47"/>
</map>
</div>

</div>
</div>
<a id="a958ebeeb4b45f01d919751bbcd6e79b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a958ebeeb4b45f01d919751bbcd6e79b2">&#9670;&nbsp;</a></span>fetch_bridge_descriptors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fetch_bridge_descriptors </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structor__options__t.html">or_options_t</a> *&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For each bridge in our list for which we don't currently have a descriptor, fetch a new copy of its descriptor &ndash; either directly from the bridge or via a bridge authority. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_a958ebeeb4b45f01d919751bbcd6e79b2_cgraph.png" border="0" usemap="#entrynodes_8c_a958ebeeb4b45f01d919751bbcd6e79b2_cgraph" alt=""/></div>
<map name="entrynodes_8c_a958ebeeb4b45f01d919751bbcd6e79b2_cgraph" id="entrynodes_8c_a958ebeeb4b45f01d919751bbcd6e79b2_cgraph">
<area shape="rect" id="node2" href="routerlist_8c.html#a40b0857598d14d49c8082667c70bc023" title="get_n_authorities" alt="" coords="217,5,339,32"/>
</map>
</div>

</div>
</div>
<a id="a06f10cf1c3269fd2a3a93fe696e6a662"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06f10cf1c3269fd2a3a93fe696e6a662">&#9670;&nbsp;</a></span>find_transport_name_by_bridge_addrport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* find_transport_name_by_bridge_addrport </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given the <b>addr</b> and <b>port</b> of a bridge, if that bridge supports a pluggable transport, return its name. Otherwise, return NULL. </p>

</div>
</div>
<a id="a3275a2122be652bd96574f81aa6145f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3275a2122be652bd96574f81aa6145f1">&#9670;&nbsp;</a></span>get_entry_guards()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structsmartlist__t.html">smartlist_t</a>* get_entry_guards </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the list of entry guards, creating it if necessary. </p>

</div>
</div>
<a id="a563fb20442805d5fbe516b5f60fed5fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a563fb20442805d5fbe516b5f60fed5fd">&#9670;&nbsp;</a></span>get_socks_args_by_bridge_addrport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structsmartlist__t.html">smartlist_t</a>* get_socks_args_by_bridge_addrport </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a smartlist containing all the SOCKS arguments that we should pass to the SOCKS proxy. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_a563fb20442805d5fbe516b5f60fed5fd_icgraph.png" border="0" usemap="#entrynodes_8c_a563fb20442805d5fbe516b5f60fed5fd_icgraph" alt=""/></div>
<map name="entrynodes_8c_a563fb20442805d5fbe516b5f60fed5fd_icgraph" id="entrynodes_8c_a563fb20442805d5fbe516b5f60fed5fd_icgraph">
<area shape="rect" id="node2" href="transports_8h.html#a122033e171457c2474ad385177d1382a" title="pt_get_socks_args_for\l_proxy_addrport" alt="" coords="231,5,385,47"/>
</map>
</div>

</div>
</div>
<a id="ac470a19b5347828069e8678db5a87779"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac470a19b5347828069e8678db5a87779">&#9670;&nbsp;</a></span>get_transport_by_bridge_addrport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_transport_by_bridge_addrport </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtransport__t.html">transport_t</a> **&#160;</td>
          <td class="paramname"><em>transport</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If <b>addr</b> and <b>port</b> match the address and port of a bridge of ours that uses pluggable transports, place its transport in <b>transport</b>.</p>
<p>Return 0 on success (found a transport, or found a bridge with no transport, or found no bridge); return -1 if we should be using a transport, but the transport could not be found. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_ac470a19b5347828069e8678db5a87779_icgraph.png" border="0" usemap="#entrynodes_8c_ac470a19b5347828069e8678db5a87779_icgraph" alt=""/></div>
<map name="entrynodes_8c_ac470a19b5347828069e8678db5a87779_icgraph" id="entrynodes_8c_ac470a19b5347828069e8678db5a87779_icgraph">
<area shape="rect" id="node2" href="connection_8h.html#afe9e86e1e84ebe4b3a167c0c8f9314c3" title="get_proxy_addrport" alt="" coords="215,13,348,39"/>
<area shape="rect" id="node3" href="connection_8h.html#ad7f6042798d28314aa4553456bd5f9e5" title="log_failed_proxy_connection" alt="" coords="396,13,583,39"/>
</map>
</div>

</div>
</div>
<a id="ae3a6a46f97e2693fa41867ff68a88a0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3a6a46f97e2693fa41867ff68a88a0f">&#9670;&nbsp;</a></span>getinfo_helper_entry_guards()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getinfo_helper_entry_guards </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcontrol__connection__t.html">control_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>question</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>answer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>errmsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If <b>question</b> is the string "entry-guards", then dump to *<b>answer</b> a newly allocated string describing all of the nodes in the global entry_guards list. See control-spec.txt for details. For backward compatibility, we also handle the string "helper-nodes". </p>

</div>
</div>
<a id="af8213fa6b22741a8c0b7d4834d7dccff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8213fa6b22741a8c0b7d4834d7dccff">&#9670;&nbsp;</a></span>learned_bridge_descriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void learned_bridge_descriptor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrouterinfo__t.html">routerinfo_t</a> *&#160;</td>
          <td class="paramname"><em>ri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>from_cache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>We just learned a descriptor for a bridge. See if that digest is in our entry guard list, and add it if not. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_af8213fa6b22741a8c0b7d4834d7dccff_icgraph.png" border="0" usemap="#entrynodes_8c_af8213fa6b22741a8c0b7d4834d7dccff_icgraph" alt=""/></div>
<map name="entrynodes_8c_af8213fa6b22741a8c0b7d4834d7dccff_icgraph" id="entrynodes_8c_af8213fa6b22741a8c0b7d4834d7dccff_icgraph">
<area shape="rect" id="node2" href="routerlist_8h.html#ad0e00a6f0df9aace49976da496902957" title="routerlist_descriptors\l_added" alt="" coords="224,5,367,47"/>
</map>
</div>

</div>
</div>
<a id="aa1b2c6b58f355b442633b877f6a04202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1b2c6b58f355b442633b877f6a04202">&#9670;&nbsp;</a></span>learned_router_identity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void learned_router_identity </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtor__addr__t.html">tor_addr_t</a> *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>We made a connection to a router at <b>addr</b>:<b>port</b> without knowing its digest. Its digest turned out to be <b>digest</b>. If it was a bridge, and we still don't know its digest, record it. </p>

</div>
</div>
<a id="a1237fc3844be7dd672552a99ba137a88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1237fc3844be7dd672552a99ba137a88">&#9670;&nbsp;</a></span>mark_bridge_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mark_bridge_list </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mark every entry of the bridge list to be removed on our next call to sweep_bridge_list unless it has first been un-marked. </p>

</div>
</div>
<a id="a8a97571e053b95a0088e4ffd06368d71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a97571e053b95a0088e4ffd06368d71">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">transport_is_needed&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(const char *transport_name)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return True if we have a bridge that uses a transport with name <b>transport_name</b>. </p>

</div>
</div>
<a id="ad993617859d2926dd439b56e8f46fcc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad993617859d2926dd439b56e8f46fcc8">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list_bridge_identities&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(void)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a smartlist containing all bridge identity digests </p>

</div>
</div>
<a id="abaa8689579086cf0a64cba893541bf3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaa8689579086cf0a64cba893541bf3e">&#9670;&nbsp;</a></span>MOCK_IMPL() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCK_IMPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdownload__status__t.html">download_status_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">get_bridge_dl_status_by_id&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(const char *digest)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the download status for a bridge descriptor given its identity </p>

</div>
</div>
<a id="a823bac0acf5f6b68ab2074757215eac3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a823bac0acf5f6b68ab2074757215eac3">&#9670;&nbsp;</a></span>node_is_a_configured_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int node_is_a_configured_bridge </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 1 if <b>node</b> is one of our configured bridges, else 0. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_a823bac0acf5f6b68ab2074757215eac3_cgraph.png" border="0" usemap="#entrynodes_8c_a823bac0acf5f6b68ab2074757215eac3_cgraph" alt=""/></div>
<map name="entrynodes_8c_a823bac0acf5f6b68ab2074757215eac3_cgraph" id="entrynodes_8c_a823bac0acf5f6b68ab2074757215eac3_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#a551827c8c00ee79f3d3663d11b2b60a0" title="node_get_all_orports" alt="" coords="201,13,344,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_a823bac0acf5f6b68ab2074757215eac3_icgraph.png" border="0" usemap="#entrynodes_8c_a823bac0acf5f6b68ab2074757215eac3_icgraph" alt=""/></div>
<map name="entrynodes_8c_a823bac0acf5f6b68ab2074757215eac3_icgraph" id="entrynodes_8c_a823bac0acf5f6b68ab2074757215eac3_icgraph">
<area shape="rect" id="node2" href="entrynodes_8c.html#afd4f8dd6f248abfc072ce641a568ddde" title="entry_is_live" alt="" coords="223,35,318,61"/>
<area shape="rect" id="node5" href="entrynodes_8c.html#a12aaa196d99fc0a6a4416c17f8274e76" title="add_an_entry_guard" alt="" coords="201,85,340,112"/>
<area shape="rect" id="node3" href="entrynodes_8h.html#accc850d23175b5132661a8c6e561e972" title="num_live_entry_guards" alt="" coords="388,5,544,32"/>
<area shape="rect" id="node4" href="entrynodes_8c.html#ad193b4a7bb449c0f91ab14e48849abea" title="populate_live_entry\l_guards" alt="" coords="399,57,533,98"/>
</map>
</div>

</div>
</div>
<a id="accc850d23175b5132661a8c6e561e972"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accc850d23175b5132661a8c6e561e972">&#9670;&nbsp;</a></span>num_live_entry_guards()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int num_live_entry_guards </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>for_directory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the number of entry guards that we think are usable. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_accc850d23175b5132661a8c6e561e972_cgraph.png" border="0" usemap="#entrynodes_8c_accc850d23175b5132661a8c6e561e972_cgraph" alt=""/></div>
<map name="entrynodes_8c_accc850d23175b5132661a8c6e561e972_cgraph" id="entrynodes_8c_accc850d23175b5132661a8c6e561e972_cgraph">
<area shape="rect" id="node2" href="entrynodes_8c.html#afd4f8dd6f248abfc072ce641a568ddde" title="entry_is_live" alt="" coords="209,165,304,192"/>
<area shape="rect" id="node3" href="entrynodes_8c.html#a34ef17d63d304b4c0f849cca5430844f" title="entry_is_time_to_retry" alt="" coords="371,5,521,32"/>
<area shape="rect" id="node4" href="nodelist_8c.html#a4f18b4f896106632fed68e339debbb63" title="node_has_descriptor" alt="" coords="375,56,517,83"/>
<area shape="rect" id="node5" href="nodelist_8c.html#ab43ea384ab6fafd3d360460011ec2a43" title="node_get_purpose" alt="" coords="382,107,510,133"/>
<area shape="rect" id="node6" href="entrynodes_8c.html#a823bac0acf5f6b68ab2074757215eac3" title="node_is_a_configured\l_bridge" alt="" coords="372,158,520,199"/>
<area shape="rect" id="node8" href="routerset_8c.html#a59dc48808ca97d25748411b8053b28a2" title="routerset_contains_node" alt="" coords="364,224,528,251"/>
<area shape="rect" id="node13" href="nodelist_8c.html#a78e60dd983647dd0229d85517eba6921" title="node_is_unreliable" alt="" coords="381,275,511,301"/>
<area shape="rect" id="node14" href="policies_8c.html#abcacc2af3dccb862768358fb53eb4570" title="fascist_firewall_allows_node" alt="" coords="352,325,540,352"/>
<area shape="rect" id="node7" href="nodelist_8c.html#a551827c8c00ee79f3d3663d11b2b60a0" title="node_get_all_orports" alt="" coords="588,165,731,192"/>
<area shape="rect" id="node9" href="routerset_8c.html#a46e8468ce37722ff71b91efd9d2f7ff0" title="routerset_contains\l_routerstatus" alt="" coords="595,217,724,258"/>
<area shape="rect" id="node12" href="routerset_8c.html#aa8942cc067a62102c0d51b88bcd3709f" title="routerset_contains\l_router" alt="" coords="595,282,724,323"/>
<area shape="rect" id="node10" href="routerset_8c.html#a1eda4526d656d042e5143ec79ee66be2" title="routerset_contains" alt="" coords="779,257,908,284"/>
<area shape="rect" id="node11" href="container_8c.html#a1406b823cb6088df755f1b81153d137e" title="strmap_get_lc" alt="" coords="956,257,1060,284"/>
</map>
</div>

</div>
</div>
<a id="ad193b4a7bb449c0f91ab14e48849abea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad193b4a7bb449c0f91ab14e48849abea">&#9670;&nbsp;</a></span>populate_live_entry_guards()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC int populate_live_entry_guards </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>live_entry_guards</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsmartlist__t.html">smartlist_t</a> *&#160;</td>
          <td class="paramname"><em>all_entry_guards</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnode__t.html">node_t</a> *&#160;</td>
          <td class="paramname"><em>chosen_exit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="or_8h.html#ae733ffc8e2cde85d0705d947f8f86ada">dirinfo_type_t</a>&#160;</td>
          <td class="paramname"><em>dirinfo_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>for_directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>need_uptime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>need_capacity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Filter <b>all_entry_guards</b> for usable entry guards and put them in <b>live_entry_guards</b>. We filter based on whether the node is currently alive, and on whether it satisfies the restrictions imposed by the other arguments of this function.</p>
<p>We don't place more guards than NumEntryGuards in <b>live_entry_guards</b>.</p>
<p>If <b>chosen_exit</b> is set, it contains the exit node of this circuit. Make sure to not use it or its family as an entry guard.</p>
<p>If <b>need_uptime</b> is set, we are looking for a stable entry guard. if <b>need_capacity</b> is set, we are looking for a fast entry guard.</p>
<p>The rest of the arguments are the same as in choose_random_entry_impl().</p>
<p>Return 1 if we should choose a guard right away. Return 0 if we should try to add more nodes to our list before deciding on a guard. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_ad193b4a7bb449c0f91ab14e48849abea_cgraph.png" border="0" usemap="#entrynodes_8c_ad193b4a7bb449c0f91ab14e48849abea_cgraph" alt=""/></div>
<map name="entrynodes_8c_ad193b4a7bb449c0f91ab14e48849abea_cgraph" id="entrynodes_8c_ad193b4a7bb449c0f91ab14e48849abea_cgraph">
<area shape="rect" id="node2" href="entrynodes_8c.html#aceef6f16e2ed25782da94e2e4f0f334d" title="decide_num_guards" alt="" coords="198,27,337,53"/>
<area shape="rect" id="node4" href="nodelist_8c.html#a24886a04f40cf28a397681c8af3d10b9" title="nodelist_add_node_and\l_family" alt="" coords="188,99,347,141"/>
<area shape="rect" id="node6" href="container_8c.html#accf59a8b7d39a4286ff99653b6878006" title="smartlist_add" alt="" coords="439,157,539,184"/>
<area shape="rect" id="node10" href="entrynodes_8c.html#afd4f8dd6f248abfc072ce641a568ddde" title="entry_is_live" alt="" coords="220,309,315,336"/>
<area shape="rect" id="node23" href="container_8c.html#abbb4ca13d840b2761ed4d70c63f0b2f4" title="smartlist_contains" alt="" coords="203,360,331,387"/>
<area shape="rect" id="node3" href="networkstatus_8c.html#aba1790be4b1cea243c3dac989ad1b05c" title="networkstatus_get_param" alt="" coords="403,5,575,32"/>
<area shape="rect" id="node5" href="nodelist_8c.html#aedef5331fdf01f16cdd5bbe528aae5db" title="node_get_declared_family" alt="" coords="402,56,575,83"/>
<area shape="rect" id="node7" href="nodelist_8c.html#ad81a144f3a7aae0ee6a4406c8bcf137b" title="node_get_addr" alt="" coords="435,107,542,133"/>
<area shape="rect" id="node8" href="nodelist_8c.html#adf96bfe6edfb4e349eee15c66f6eda8e" title="node_get_prim_orport" alt="" coords="631,81,777,108"/>
<area shape="rect" id="node9" href="address_8c.html#a139ff425c957e4eed3a766cb48f55f93" title="tor_addr_copy" alt="" coords="652,132,756,159"/>
<area shape="rect" id="node11" href="entrynodes_8c.html#a34ef17d63d304b4c0f849cca5430844f" title="entry_is_time_to_retry" alt="" coords="413,208,564,235"/>
<area shape="rect" id="node12" href="nodelist_8c.html#a4f18b4f896106632fed68e339debbb63" title="node_has_descriptor" alt="" coords="417,259,560,285"/>
<area shape="rect" id="node13" href="nodelist_8c.html#ab43ea384ab6fafd3d360460011ec2a43" title="node_get_purpose" alt="" coords="425,309,553,336"/>
<area shape="rect" id="node14" href="entrynodes_8c.html#a823bac0acf5f6b68ab2074757215eac3" title="node_is_a_configured\l_bridge" alt="" coords="415,361,563,402"/>
<area shape="rect" id="node16" href="routerset_8c.html#a59dc48808ca97d25748411b8053b28a2" title="routerset_contains_node" alt="" coords="407,427,571,453"/>
<area shape="rect" id="node21" href="nodelist_8c.html#a78e60dd983647dd0229d85517eba6921" title="node_is_unreliable" alt="" coords="424,477,553,504"/>
<area shape="rect" id="node22" href="policies_8c.html#abcacc2af3dccb862768358fb53eb4570" title="fascist_firewall_allows_node" alt="" coords="395,528,583,555"/>
<area shape="rect" id="node15" href="nodelist_8c.html#a551827c8c00ee79f3d3663d11b2b60a0" title="node_get_all_orports" alt="" coords="633,368,775,395"/>
<area shape="rect" id="node17" href="routerset_8c.html#a46e8468ce37722ff71b91efd9d2f7ff0" title="routerset_contains\l_routerstatus" alt="" coords="639,419,769,461"/>
<area shape="rect" id="node20" href="routerset_8c.html#aa8942cc067a62102c0d51b88bcd3709f" title="routerset_contains\l_router" alt="" coords="639,485,769,526"/>
<area shape="rect" id="node18" href="routerset_8c.html#a1eda4526d656d042e5143ec79ee66be2" title="routerset_contains" alt="" coords="825,460,955,487"/>
<area shape="rect" id="node19" href="container_8c.html#a1406b823cb6088df755f1b81153d137e" title="strmap_get_lc" alt="" coords="1003,460,1107,487"/>
</map>
</div>

</div>
</div>
<a id="a2059c6a8b0ae5f6bd64087fe00a27d9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2059c6a8b0ae5f6bd64087fe00a27d9d">&#9670;&nbsp;</a></span>remove_all_entry_guards()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remove_all_entry_guards </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove all currently listed entry guards. So new ones will be chosen. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_a2059c6a8b0ae5f6bd64087fe00a27d9d_cgraph.png" border="0" usemap="#entrynodes_8c_a2059c6a8b0ae5f6bd64087fe00a27d9d_cgraph" alt=""/></div>
<map name="entrynodes_8c_a2059c6a8b0ae5f6bd64087fe00a27d9d_cgraph" id="entrynodes_8c_a2059c6a8b0ae5f6bd64087fe00a27d9d_cgraph">
<area shape="rect" id="node2" href="util__format_8c.html#a8b8940b2ef607928eb3dca4850567ea5" title="base16_encode" alt="" coords="220,5,333,32"/>
</map>
</div>

</div>
</div>
<a id="af586c6437018de91c926dbabb4c802d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af586c6437018de91c926dbabb4c802d6">&#9670;&nbsp;</a></span>retry_bridge_descriptor_fetch_directly()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void retry_bridge_descriptor_fetch_directly </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetching the bridge descriptor from the bridge authority returned a "not found". Fall back to trying a direct fetch. </p>

</div>
</div>
<a id="a2027007177e63941e2adf763a34a1b99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2027007177e63941e2adf763a34a1b99">&#9670;&nbsp;</a></span>routerinfo_is_a_configured_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int routerinfo_is_a_configured_bridge </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrouterinfo__t.html">routerinfo_t</a> *&#160;</td>
          <td class="paramname"><em>ri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 1 if <b>ri</b> is one of our known bridges, else 0. </p>

</div>
</div>
<a id="abcf00389e72807f2534ffd3da3de31e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcf00389e72807f2534ffd3da3de31e6">&#9670;&nbsp;</a></span>should_apply_guardfraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int should_apply_guardfraction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnetworkstatus__t.html">networkstatus_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 0 if we should apply guardfraction information found in the consensus. A specific consensus can be specified with the <b>ns</b> argument, if NULL the most recent one will be picked. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_abcf00389e72807f2534ffd3da3de31e6_cgraph.png" border="0" usemap="#entrynodes_8c_abcf00389e72807f2534ffd3da3de31e6_cgraph" alt=""/></div>
<map name="entrynodes_8c_abcf00389e72807f2534ffd3da3de31e6_cgraph" id="entrynodes_8c_abcf00389e72807f2534ffd3da3de31e6_cgraph">
<area shape="rect" id="node2" href="networkstatus_8c.html#aba1790be4b1cea243c3dac989ad1b05c" title="networkstatus_get_param" alt="" coords="233,5,405,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="entrynodes_8c_abcf00389e72807f2534ffd3da3de31e6_icgraph.png" border="0" usemap="#entrynodes_8c_abcf00389e72807f2534ffd3da3de31e6_icgraph" alt=""/></div>
<map name="entrynodes_8c_abcf00389e72807f2534ffd3da3de31e6_icgraph" id="entrynodes_8c_abcf00389e72807f2534ffd3da3de31e6_icgraph">
<area shape="rect" id="node2" href="routerparse_8c.html#aa5182e7b61c8640ef94186a19760d90c" title="routerstatus_parse\l_guardfraction" alt="" coords="233,5,364,47"/>
</map>
</div>

</div>
</div>
<a id="a365f2e514e0575326c05fb6c36aa3ce9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a365f2e514e0575326c05fb6c36aa3ce9">&#9670;&nbsp;</a></span>sweep_bridge_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sweep_bridge_list </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove every entry of the bridge list that was marked with mark_bridge_list if it has not subsequently been un-marked. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
